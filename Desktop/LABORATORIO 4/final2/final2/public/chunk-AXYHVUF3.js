import{b as tp,c as np,f as XD,g as rp}from"./chunk-X5YLR3NI.js";import{a as w,b as j,e as Vt,g as JD,h as QD,i as h}from"./chunk-ODN5LVDJ.js";var Oh=Vt(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});var Rh=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Nh.default=Rh});var Ph=Vt(Gi=>{"use strict";var P_=Gi&&Gi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Gi,"__esModule",{value:!0});var lR=P_((rp(),QD(XD))),uR=P_(Oh()),kh=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>h(this,null,function*(){var s,a,c;let l=null,u=null,d=null,p=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){let D=yield i.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=D:u=JSON.parse(D))}let m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let m=yield i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(u=[],l=null,p=200,f="OK")}catch{i.status===404&&m===""?(p=204,f="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,f="OK"),l&&this.shouldThrowOnError)throw new uR.default(l)}return{error:l,data:u,count:d,status:p,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}};Gi.default=kh});var Lh=Vt(Wi=>{"use strict";var dR=Wi&&Wi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wi,"__esModule",{value:!0});var fR=dR(Ph()),Fh=class extends fR.default{select(t){let e=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,e?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Wi.default=Fh});var al=Vt(Zi=>{"use strict";var hR=Zi&&Zi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Zi,"__esModule",{value:!0});var pR=hR(Lh()),jh=class extends pR.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};Zi.default=jh});var Uh=Vt(Yi=>{"use strict";var gR=Yi&&Yi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yi,"__esModule",{value:!0});var Ki=gR(al()),Vh=class{constructor(t,{headers:e={},schema:r,fetch:o}){this.url=t,this.headers=e,this.schema=r,this.fetch=o}select(t,{head:e=!1,count:r}={}){let o=e?"HEAD":"GET",i=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Ki.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ki.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ki.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),this.headers.Prefer=o.join(","),new Ki.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ki.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yi.default=Vh});var F_=Vt(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.version=void 0;cl.version="0.0.0-automated"});var L_=Vt(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.DEFAULT_HEADERS=void 0;var mR=F_();ll.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mR.version}`}});var V_=Vt(Ji=>{"use strict";var j_=Ji&&Ji.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ji,"__esModule",{value:!0});var vR=j_(Uh()),yR=j_(al()),wR=L_(),$h=class n{constructor(t,{headers:e={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},wR.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=o}from(t){let e=new URL(`${this.url}/${t}`);return new vR.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:o=!1,count:i}={}){let s,a=new URL(`${this.url}/rpc/${t}`),c;r||o?(s=r?"HEAD":"GET",Object.entries(e).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",c=e);let l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new yR.default({method:s,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ji.default=$h});var G_=Vt(we=>{"use strict";var mo=we&&we.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(we,"__esModule",{value:!0});we.PostgrestError=we.PostgrestBuilder=we.PostgrestTransformBuilder=we.PostgrestFilterBuilder=we.PostgrestQueryBuilder=we.PostgrestClient=void 0;var U_=mo(V_());we.PostgrestClient=U_.default;var $_=mo(Uh());we.PostgrestQueryBuilder=$_.default;var B_=mo(al());we.PostgrestFilterBuilder=B_.default;var H_=mo(Lh());we.PostgrestTransformBuilder=H_.default;var z_=mo(Ph());we.PostgrestBuilder=z_.default;var q_=mo(Oh());we.PostgrestError=q_.default;we.default={PostgrestClient:U_.default,PostgrestQueryBuilder:$_.default,PostgrestFilterBuilder:B_.default,PostgrestTransformBuilder:H_.default,PostgrestBuilder:z_.default,PostgrestError:q_.default}});function Pl(n,t){return Object.is(n,t)}var fe=null,hs=!1,Fl=1,Je=Symbol("SIGNAL");function V(n){let t=fe;return fe=n,t}function Ll(){return fe}var So={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function To(n){if(hs)throw new Error("");if(fe===null)return;fe.consumerOnSignalRead(n);let t=fe.nextProducerIndex++;if(vs(fe),t<fe.producerNode.length&&fe.producerNode[t]!==n&&Io(fe)){let e=fe.producerNode[t];ms(e,fe.producerIndexOfThis[t])}fe.producerNode[t]!==n&&(fe.producerNode[t]=n,fe.producerIndexOfThis[t]=Io(fe)?ip(n,fe,t):0),fe.producerLastReadVersion[t]=n.version}function op(){Fl++}function jl(n){if(!(Io(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Fl)){if(!n.producerMustRecompute(n)&&!Bl(n)){kl(n);return}n.producerRecomputeValue(n),kl(n)}}function Vl(n){if(n.liveConsumerNode===void 0)return;let t=hs;hs=!0;try{for(let e of n.liveConsumerNode)e.dirty||eb(e)}finally{hs=t}}function Ul(){return fe?.consumerAllowSignalWrites!==!1}function eb(n){n.dirty=!0,Vl(n),n.consumerMarkedDirty?.(n)}function kl(n){n.dirty=!1,n.lastCleanEpoch=Fl}function gs(n){return n&&(n.nextProducerIndex=0),V(n)}function $l(n,t){if(V(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Io(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)ms(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Bl(n){vs(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(jl(e),r!==e.version))return!0}return!1}function Hl(n){if(vs(n),Io(n))for(let t=0;t<n.producerNode.length;t++)ms(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ip(n,t,e){if(sp(n),n.liveConsumerNode.length===0&&ap(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=ip(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function ms(n,t){if(sp(n),n.liveConsumerNode.length===1&&ap(n))for(let r=0;r<n.producerNode.length;r++)ms(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],o=n.liveConsumerNode[t];vs(o),o.producerIndexOfThis[r]=t}}function Io(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function vs(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function sp(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ap(n){return n.producerNode!==void 0}function zl(n,t){let e=Object.create(tb);e.computation=n,t!==void 0&&(e.equal=t);let r=()=>{if(jl(e),To(e),e.value===ps)throw e.error;return e.value};return r[Je]=e,r}var Nl=Symbol("UNSET"),Ol=Symbol("COMPUTING"),ps=Symbol("ERRORED"),tb=j(w({},So),{value:Nl,dirty:!0,error:null,equal:Pl,kind:"computed",producerMustRecompute(n){return n.value===Nl||n.value===Ol},producerRecomputeValue(n){if(n.value===Ol)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Ol;let e=gs(n),r,o=!1;try{r=n.computation(),V(null),o=t!==Nl&&t!==ps&&r!==ps&&n.equal(t,r)}catch(i){r=ps,n.error=i}finally{$l(n,e)}if(o){n.value=t;return}n.value=r,n.version++}});function nb(){throw new Error}var cp=nb;function lp(n){cp(n)}function ql(n){cp=n}var rb=null;function Gl(n,t){let e=Object.create(ys);e.value=n,t!==void 0&&(e.equal=t);let r=()=>(To(e),e.value);return r[Je]=e,r}function Mo(n,t){Ul()||lp(n),n.equal(n.value,t)||(n.value=t,ob(n))}function Wl(n,t){Ul()||lp(n),Mo(n,t(n.value))}var ys=j(w({},So),{equal:Pl,value:void 0,kind:"signal"});function ob(n){n.version++,op(),Vl(n),rb?.()}function Zl(n){let t=V(null);try{return n()}finally{V(t)}}var Kl;function xo(){return Kl}function Ut(n){let t=Kl;return Kl=n,t}var ws=Symbol("NotFound");function A(n){return typeof n=="function"}function gr(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var _s=gr(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function En(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var ne=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let i of e)i.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(A(r))try{r()}catch(i){t=i instanceof _s?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{up(i)}catch(s){t=t??[],s instanceof _s?t=[...t,...s.errors]:t.push(s)}}if(t)throw new _s(t)}}add(t){var e;if(t&&t!==this)if(this.closed)up(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&En(e,t)}remove(t){let{_finalizers:e}=this;e&&En(e,t),t instanceof n&&t._removeParent(this)}};ne.EMPTY=(()=>{let n=new ne;return n.closed=!0,n})();var Yl=ne.EMPTY;function Ds(n){return n instanceof ne||n&&"closed"in n&&A(n.remove)&&A(n.add)&&A(n.unsubscribe)}function up(n){A(n)?n():n.unsubscribe()}var at={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mr={setTimeout(n,t,...e){let{delegate:r}=mr;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=mr;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function bs(n){mr.setTimeout(()=>{let{onUnhandledError:t}=at;if(t)t(n);else throw n})}function Ao(){}var dp=Jl("C",void 0,void 0);function fp(n){return Jl("E",void 0,n)}function hp(n){return Jl("N",n,void 0)}function Jl(n,t,e){return{kind:n,value:t,error:e}}var Cn=null;function vr(n){if(at.useDeprecatedSynchronousErrorHandling){let t=!Cn;if(t&&(Cn={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Cn;if(Cn=null,e)throw r}}else n()}function pp(n){at.useDeprecatedSynchronousErrorHandling&&Cn&&(Cn.errorThrown=!0,Cn.error=n)}var In=class extends ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ds(t)&&t.add(this)):this.destination=ub}static create(t,e,r){return new $t(t,e,r)}next(t){this.isStopped?Xl(hp(t),this):this._next(t)}error(t){this.isStopped?Xl(fp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xl(dp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cb=Function.prototype.bind;function Ql(n,t){return cb.call(n,t)}var eu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Es(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Es(r)}else Es(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Es(e)}}},$t=class extends In{constructor(t,e,r){super();let o;if(A(t)||!t)o={next:t??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&at.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Ql(t.next,i),error:t.error&&Ql(t.error,i),complete:t.complete&&Ql(t.complete,i)}):o=t}this.destination=new eu(o)}};function Es(n){at.useDeprecatedSynchronousErrorHandling?pp(n):bs(n)}function lb(n){throw n}function Xl(n,t){let{onStoppedNotification:e}=at;e&&mr.setTimeout(()=>e(n,t))}var ub={closed:!0,next:Ao,error:lb,complete:Ao};var yr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function He(n){return n}function tu(...n){return nu(n)}function nu(n){return n.length===0?He:n.length===1?n[0]:function(e){return n.reduce((r,o)=>o(r),e)}}var B=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,o){let i=fb(e)?e:new $t(e,r,o);return vr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=gp(r),new r((o,i)=>{let s=new $t({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[yr](){return this}pipe(...e){return nu(e)(this)}toPromise(e){return e=gp(e),new e((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=t=>new n(t),n})();function gp(n){var t;return(t=n??at.Promise)!==null&&t!==void 0?t:Promise}function db(n){return n&&A(n.next)&&A(n.error)&&A(n.complete)}function fb(n){return n&&n instanceof In||db(n)&&Ds(n)}function ru(n){return A(n?.lift)}function U(n){return t=>{if(ru(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $(n,t,e,r,o){return new ou(n,t,e,r,o)}var ou=class extends In{constructor(t,e,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function wr(){return U((n,t)=>{let e=null;n._refCount++;let r=$(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let o=n._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var _r=class extends B{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ru(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ne;let e=this.getSubject();t.add(this.source.subscribe($(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ne.EMPTY)}return t}refCount(){return wr()(this)}};var mp=gr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=(()=>{class n extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Cs(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new mp}next(e){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Yl:(this.currentObservers=null,i.push(e),new ne(()=>{this.currentObservers=null,En(i,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){let e=new B;return e.source=this,e}}return n.create=(t,e)=>new Cs(t,e),n})(),Cs=class extends X{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:Yl}};var ve=class extends X{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Ro={now(){return(Ro.delegate||Date).now()},delegate:void 0};var Is=class extends X{constructor(t=1/0,e=1/0,r=Ro){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=e.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Ss=class extends ne{constructor(t,e){super()}schedule(t,e=0){return this}};var No={setInterval(n,t,...e){let{delegate:r}=No;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=No;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Ts=class extends Ss{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,r=0){return No.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&No.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,En(r,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var Dr=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}};Dr.now=Ro.now;var Ms=class extends Dr{constructor(t,e=Dr.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}};var hb=new Ms(Ts),vp=hb;var Me=new B(n=>n.complete());function xs(n){return n&&A(n.schedule)}function yp(n){return n[n.length-1]}function As(n){return A(yp(n))?n.pop():void 0}function on(n){return xs(yp(n))?n.pop():void 0}function _p(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}function wp(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sn(n){return this instanceof Sn?(this.v=n,this):new Sn(n)}function Dp(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(m){return new Promise(function(v,D){i.push([f,m,v,D])>1||c(f,m)})},g&&(o[f]=g(o[f])))}function c(f,g){try{l(r[f](g))}catch(m){p(i[0][3],m)}}function l(f){f.value instanceof Sn?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function bp(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof wp=="function"?wp(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=n[i]&&function(s){return new Promise(function(a,c){s=n[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var Rs=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ns(n){return A(n?.then)}function Os(n){return A(n[yr])}function ks(n){return Symbol.asyncIterator&&A(n?.[Symbol.asyncIterator])}function Ps(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function pb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fs=pb();function Ls(n){return A(n?.[Fs])}function js(n){return Dp(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:o}=yield Sn(e.read());if(o)return yield Sn(void 0);yield yield Sn(r)}}finally{e.releaseLock()}})}function Vs(n){return A(n?.getReader)}function te(n){if(n instanceof B)return n;if(n!=null){if(Os(n))return gb(n);if(Rs(n))return mb(n);if(Ns(n))return vb(n);if(ks(n))return Ep(n);if(Ls(n))return yb(n);if(Vs(n))return wb(n)}throw Ps(n)}function gb(n){return new B(t=>{let e=n[yr]();if(A(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mb(n){return new B(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function vb(n){return new B(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,bs)})}function yb(n){return new B(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function Ep(n){return new B(t=>{_b(n,t).catch(e=>t.error(e))})}function wb(n){return Ep(js(n))}function _b(n,t){var e,r,o,i;return _p(this,void 0,void 0,function*(){try{for(e=bp(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}t.complete()})}function xe(n,t,e,r=0,o=!1){let i=t.schedule(function(){e(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Us(n,t=0){return U((e,r)=>{e.subscribe($(r,o=>xe(r,n,()=>r.next(o),t),()=>xe(r,n,()=>r.complete(),t),o=>xe(r,n,()=>r.error(o),t)))})}function $s(n,t=0){return U((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Cp(n,t){return te(n).pipe($s(t),Us(t))}function Ip(n,t){return te(n).pipe($s(t),Us(t))}function Sp(n,t){return new B(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function Tp(n,t){return new B(e=>{let r;return xe(e,t,()=>{r=n[Fs](),xe(e,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){e.error(s);return}i?e.complete():e.next(o)},0,!0)}),()=>A(r?.return)&&r.return()})}function Bs(n,t){if(!n)throw new Error("Iterable cannot be null");return new B(e=>{xe(e,t,()=>{let r=n[Symbol.asyncIterator]();xe(e,t,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Mp(n,t){return Bs(js(n),t)}function xp(n,t){if(n!=null){if(Os(n))return Cp(n,t);if(Rs(n))return Sp(n,t);if(Ns(n))return Ip(n,t);if(ks(n))return Bs(n,t);if(Ls(n))return Tp(n,t);if(Vs(n))return Mp(n,t)}throw Ps(n)}function J(n,t){return t?xp(n,t):te(n)}function T(...n){let t=on(n);return J(n,t)}function br(n,t){let e=A(n)?n:()=>n,r=o=>o.error(e());return new B(t?o=>t.schedule(r,0,o):r)}function iu(n){return!!n&&(n instanceof B||A(n.lift)&&A(n.subscribe))}var Bt=gr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ap(n){return n instanceof Date&&!isNaN(n)}function O(n,t){return U((e,r)=>{let o=0;e.subscribe($(r,i=>{r.next(n.call(t,i,o++))}))})}var{isArray:Db}=Array;function bb(n,t){return Db(t)?n(...t):n(t)}function Hs(n){return O(t=>bb(n,t))}var{isArray:Eb}=Array,{getPrototypeOf:Cb,prototype:Ib,keys:Sb}=Object;function zs(n){if(n.length===1){let t=n[0];if(Eb(t))return{args:t,keys:null};if(Tb(t)){let e=Sb(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function Tb(n){return n&&typeof n=="object"&&Cb(n)===Ib}function qs(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}function Oo(...n){let t=on(n),e=As(n),{args:r,keys:o}=zs(n);if(r.length===0)return J([],t);let i=new B(Mb(r,t,o?s=>qs(o,s):He));return e?i.pipe(Hs(e)):i}function Mb(n,t,e=He){return r=>{Rp(t,()=>{let{length:o}=n,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Rp(t,()=>{let l=J(n[c],t),u=!1;l.subscribe($(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Rp(n,t,e){n?xe(e,n,t):t()}function Np(n,t,e,r,o,i,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&t.complete()},f=m=>l<r?g(m):c.push(m),g=m=>{i&&t.next(m),l++;let v=!1;te(e(m,u++)).subscribe($(t,D=>{o?.(D),i?f(D):t.next(D)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let D=c.shift();s?xe(t,s,()=>g(D)):g(D)}p()}catch(D){t.error(D)}}))};return n.subscribe($(t,f,()=>{d=!0,p()})),()=>{a?.()}}function oe(n,t,e=1/0){return A(t)?oe((r,o)=>O((i,s)=>t(r,i,o,s))(te(n(r,o))),e):(typeof t=="number"&&(e=t),U((r,o)=>Np(r,o,n,e)))}function Er(n=1/0){return oe(He,n)}function Op(){return Er(1)}function Cr(...n){return Op()(J(n,on(n)))}function Gs(n){return new B(t=>{te(n()).subscribe(t)})}function su(...n){let t=As(n),{args:e,keys:r}=zs(n),o=new B(i=>{let{length:s}=e;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;te(e[u]).subscribe($(i,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?qs(r,a):a),i.complete())}))}});return t?o.pipe(Hs(t)):o}function xb(n=0,t,e=vp){let r=-1;return t!=null&&(xs(t)?e=t:r=t),new B(o=>{let i=Ap(n)?+n-e.now():n;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function Ce(n,t){return U((e,r)=>{let o=0;e.subscribe($(r,i=>n.call(t,i,o++)&&r.next(i)))})}function Ht(n){return U((t,e)=>{let r=null,o=!1,i;r=t.subscribe($(e,void 0,void 0,s=>{i=te(n(s,Ht(n)(t))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function kp(n,t,e,r,o){return(i,s)=>{let a=e,c=t,l=0;i.subscribe($(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function wt(n,t){return A(t)?oe(n,t,1):oe(n,1)}function sn(n){return U((t,e)=>{let r=!1;t.subscribe($(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function zt(n){return n<=0?()=>Me:U((t,e)=>{let r=0;t.subscribe($(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function Ws(n=Ab){return U((t,e)=>{let r=!1;t.subscribe($(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function Ab(){return new Bt}function an(n){return U((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function qt(n,t){let e=arguments.length>=2;return r=>r.pipe(n?Ce((o,i)=>n(o,i,r)):He,zt(1),e?sn(t):Ws(()=>new Bt))}function Ir(n){return n<=0?()=>Me:U((t,e)=>{let r=[];t.subscribe($(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function au(n,t){let e=arguments.length>=2;return r=>r.pipe(n?Ce((o,i)=>n(o,i,r)):He,Ir(1),e?sn(t):Ws(()=>new Bt))}function cu(n,t){return U(kp(n,t,arguments.length>=2,!0))}function Pp(n={}){let{connector:t=()=>new X,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,c,l=0,u=!1,d=!1,p=()=>{a?.unsubscribe(),a=void 0},f=()=>{p(),s=c=void 0,u=d=!1},g=()=>{let m=s;f(),m?.unsubscribe()};return U((m,v)=>{l++,!d&&!u&&p();let D=c=c??t();v.add(()=>{l--,l===0&&!d&&!u&&(a=lu(g,o))}),D.subscribe(v),!s&&l>0&&(s=new $t({next:G=>D.next(G),error:G=>{d=!0,p(),a=lu(f,e,G),D.error(G)},complete:()=>{u=!0,p(),a=lu(f,r),D.complete()}}),te(m).subscribe(s))})(i)}}function lu(n,t,...e){if(t===!0){n();return}if(t===!1)return;let r=new $t({next:()=>{r.unsubscribe(),n()}});return te(t(...e)).subscribe(r)}function Rb(n,t,e){let r,o=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n:r=n??1/0,Pp({connector:()=>new Is(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function uu(...n){let t=on(n);return U((e,r)=>{(t?Cr(n,e,t):Cr(n,e)).subscribe(r)})}function Ae(n,t){return U((e,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();e.subscribe($(r,c=>{o?.unsubscribe();let l=0,u=i++;te(n(c,u)).subscribe(o=$(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function du(n){return U((t,e)=>{te(n).subscribe($(e,()=>e.complete(),Ao)),!e.closed&&t.subscribe(e)})}function ye(n,t,e){let r=A(n)||t||e?{next:n,error:t,complete:e}:n;return r?U((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe($(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):He}var Ig="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",_=class extends Error{code;constructor(t,e){super(Sg(t,e)),this.code=t}};function Nb(n){return`NG0${Math.abs(n)}`}function Sg(n,t){return`${Nb(n)}${t?": "+t:""}`}var Tg=Symbol("InputSignalNode#UNSET"),Ob=j(w({},ys),{transformFn:void 0,applyValueToInputSignal(n,t){Mo(n,t)}});function Mg(n,t){let e=Object.create(Ob);e.value=n,e.transformFn=t?.transform;function r(){if(To(e),e.value===Tg){let o=null;throw new _(-950,o)}return e.value}return r[Je]=e,r}function zo(n){return{toString:n}.toString()}var Zs="__parameters__";function kb(n){return function(...e){if(n){let r=n(...e);for(let o in r)this[o]=r[o]}}}function xg(n,t,e){return zo(()=>{let r=kb(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Zs)?c[Zs]:Object.defineProperty(c,Zs,{value:[]})[Zs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var Mn=globalThis;function Y(n){for(let t in n)if(n[t]===Y)return t;throw Error("Could not find renamed property on target object.")}function Pb(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ne(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ne).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function Fp(n,t){return n?t?`${n} ${t}`:n:t||""}var Fb=Y({__forward_ref__:Y});function Se(n){return n.__forward_ref__=Se,n.toString=function(){return Ne(this())},n}function Ie(n){return Ag(n)?n():n}function Ag(n){return typeof n=="function"&&n.hasOwnProperty(Fb)&&n.__forward_ref__===Se}function E(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ma(n){return Lp(n,Ng)||Lp(n,Og)}function Rg(n){return Ma(n)!==null}function Lp(n,t){return n.hasOwnProperty(t)?n[t]:null}function Lb(n){let t=n&&(n[Ng]||n[Og]);return t||null}function jp(n){return n&&(n.hasOwnProperty(Vp)||n.hasOwnProperty(jb))?n[Vp]:null}var Ng=Y({\u0275prov:Y}),Vp=Y({\u0275inj:Y}),Og=Y({ngInjectableDef:Y}),jb=Y({ngInjectorDef:Y}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kg(n){return n&&!!n.\u0275providers}var Vb=Y({\u0275cmp:Y}),Ub=Y({\u0275dir:Y}),$b=Y({\u0275pipe:Y}),Bb=Y({\u0275mod:Y}),ra=Y({\u0275fac:Y}),Lo=Y({__NG_ELEMENT_ID__:Y}),Up=Y({__NG_ENV_ID__:Y});function Nr(n){return typeof n=="string"?n:n==null?"":String(n)}function Hb(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Nr(n)}function Pg(n,t){throw new _(-200,n)}function Cd(n,t){throw new _(-201,!1)}var N=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(N||{}),Su;function Fg(){return Su}function Re(n){let t=Su;return Su=n,t}function Lg(n,t,e){let r=Ma(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&N.Optional)return null;if(t!==void 0)return t;Cd(n,"Injector")}var zb={},xn=zb,Tu="__NG_DI_FLAG__",oa=class{injector;constructor(t){this.injector=t}retrieve(t,e){let r=e;return this.injector.get(t,r.optional?ws:xn,r)}},ia="ngTempTokenPath",qb="ngTokenPath",Gb=/\n/gm,Wb="\u0275",$p="__source";function Zb(n,t=N.Default){if(xo()===void 0)throw new _(-203,!1);if(xo()===null)return Lg(n,void 0,t);{let e=xo(),r;return e instanceof oa?r=e.injector:r=e,r.get(n,t&N.Optional?null:void 0,t)}}function I(n,t=N.Default){return(Fg()||Zb)(Ie(n),t)}function y(n,t=N.Default){return I(n,xa(t))}function xa(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Mu(n){let t=[];for(let e=0;e<n.length;e++){let r=Ie(n[e]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let o,i=N.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Kb(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(I(o,i))}else t.push(I(r))}return t}function jg(n,t){return n[Tu]=t,n.prototype[Tu]=t,n}function Kb(n){return n[Tu]}function Yb(n,t,e,r){let o=n[ia];throw t[$p]&&o.unshift(t[$p]),n.message=Jb(`
`+n.message,o,e,r),n[qb]=o,n[ia]=null,n}function Jb(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Wb?n.slice(2):n;let o=Ne(t);if(Array.isArray(t))o=t.map(Ne).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ne(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${n.replace(Gb,`
  `)}`}var Vg=jg(xg("Optional"),8);var Ug=jg(xg("SkipSelf"),4);function Rn(n,t){let e=n.hasOwnProperty(ra);return e?n[ra]:null}function Qb(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=t[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}function Xb(n){return n.flat(Number.POSITIVE_INFINITY)}function Id(n,t){n.forEach(e=>Array.isArray(e)?Id(e,t):t(e))}function $g(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function sa(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function eE(n,t,e,r){let o=n.length;if(o==t)n.push(e,r);else if(o===1)n.push(r,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;){let i=o-2;n[o]=n[i],o--}n[t]=e,n[t+1]=r}}function tE(n,t,e){let r=qo(n,t);return r>=0?n[r|1]=e:(r=~r,eE(n,r,t,e)),r}function fu(n,t){let e=qo(n,t);if(e>=0)return n[e|1]}function qo(n,t){return nE(n,t,1)}function nE(n,t,e){let r=0,o=n.length>>e;for(;o!==r;){let i=r+(o-r>>1),s=n[i<<e];if(t===s)return i<<e;s>t?o=i:r=i+1}return~(o<<e)}var Nn={},Qe=[],jo=new b(""),Bg=new b("",-1),Hg=new b(""),aa=class{get(t,e=xn){if(e===xn){let r=new Error(`NullInjectorError: No provider for ${Ne(t)}!`);throw r.name="NullInjectorError",r}return e}};function zg(n,t){let e=n[Bb]||null;if(!e&&t===!0)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return e}function On(n){return n[Vb]||null}function rE(n){return n[Ub]||null}function oE(n){return n[$b]||null}function Go(n){return{\u0275providers:n}}function iE(...n){return{\u0275providers:qg(!0,n),\u0275fromNgModule:!0}}function qg(n,...t){let e=[],r=new Set,o,i=s=>{e.push(s)};return Id(t,s=>{let a=s;xu(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Gg(o,i),e}function Gg(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:o}=n[e];Sd(o,i=>{t(i,r)})}}function xu(n,t,e,r){if(n=Ie(n),!n)return!1;let o=null,i=jp(n),s=!i&&On(n);if(!i&&!s){let c=n.ngModule;if(i=jp(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=n}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)xu(l,t,e,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Id(i.imports,u=>{xu(u,t,e,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Gg(l,t)}if(!a){let l=Rn(o)||(()=>new o);t({provide:o,useFactory:l,deps:Qe},o),t({provide:Hg,useValue:o,multi:!0},o),t({provide:jo,useValue:()=>I(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=n;Sd(c,u=>{t(u,l)})}}else return!1;return o!==n&&n.providers!==void 0}function Sd(n,t){for(let e of n)kg(e)&&(e=e.\u0275providers),Array.isArray(e)?Sd(e,t):t(e)}var sE=Y({provide:String,useValue:Y});function Wg(n){return n!==null&&typeof n=="object"&&sE in n}function aE(n){return!!(n&&n.useExisting)}function cE(n){return!!(n&&n.useFactory)}function Or(n){return typeof n=="function"}function lE(n){return!!n.useClass}var Aa=new b(""),Js={},Bp={},hu;function Td(){return hu===void 0&&(hu=new aa),hu}var _e=class{},Vo=class extends _e{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,Ru(t,s=>this.processProvider(s)),this.records.set(Bg,Sr(void 0,this)),o.has("environment")&&this.records.set(_e,Sr(void 0,this));let i=this.records.get(Aa);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Hg,Qe,N.Self))}retrieve(t,e){let r=e;return this.get(t,r.optional?ws:xn,r)}destroy(){Po(this),this._destroyed=!0;let t=V(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),V(t)}}onDestroy(t){return Po(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Po(this);let e=Ut(this),r=Re(void 0),o;try{return t()}finally{Ut(e),Re(r)}}get(t,e=xn,r=N.Default){if(Po(this),t.hasOwnProperty(Up))return t[Up](this);r=xa(r);let o,i=Ut(this),s=Re(void 0);try{if(!(r&N.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=pE(t)&&Ma(t);l&&this.injectableDefInScope(l)?c=Sr(Au(t),Js):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,r)}let a=r&N.Self?Td():this.parent;return e=r&N.Optional&&e===xn?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[ia]=a[ia]||[]).unshift(Ne(t)),i)throw a;return Yb(a,t,"R3InjectorError",this.source)}else throw a}finally{Re(s),Ut(i)}}resolveInjectorInitializers(){let t=V(null),e=Ut(this),r=Re(void 0),o;try{let i=this.get(jo,Qe,N.Self);for(let s of i)s()}finally{Ut(e),Re(r),V(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(Ne(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ie(t);let e=Or(t)?t:Ie(t&&t.provide),r=dE(t);if(!Or(t)&&t.multi===!0){let o=this.records.get(e);o||(o=Sr(void 0,Js,!0),o.factory=()=>Mu(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){let o=V(null);try{return e.value===Bp?Pg(Ne(t)):e.value===Js&&(e.value=Bp,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&hE(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{V(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Ie(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Au(n){let t=Ma(n),e=t!==null?t.factory:Rn(n);if(e!==null)return e;if(n instanceof b)throw new _(204,!1);if(n instanceof Function)return uE(n);throw new _(204,!1)}function uE(n){if(n.length>0)throw new _(204,!1);let e=Lb(n);return e!==null?()=>e.factory(n):()=>new n}function dE(n){if(Wg(n))return Sr(void 0,n.useValue);{let t=Zg(n);return Sr(t,Js)}}function Zg(n,t,e){let r;if(Or(n)){let o=Ie(n);return Rn(o)||Au(o)}else if(Wg(n))r=()=>Ie(n.useValue);else if(cE(n))r=()=>n.useFactory(...Mu(n.deps||[]));else if(aE(n))r=(o,i)=>I(Ie(n.useExisting),i!==void 0&&i&N.Optional?N.Optional:void 0);else{let o=Ie(n&&(n.useClass||n.provide));if(fE(n))r=()=>new o(...Mu(n.deps));else return Rn(o)||Au(o)}return r}function Po(n){if(n.destroyed)throw new _(205,!1)}function Sr(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function fE(n){return!!n.deps}function hE(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function pE(n){return typeof n=="function"||typeof n=="object"&&n instanceof b}function Ru(n,t){for(let e of n)Array.isArray(e)?Ru(e,t):e&&kg(e)?Ru(e.\u0275providers,t):t(e)}function Pe(n,t){let e;n instanceof Vo?(Po(n),e=n):e=new oa(n);let r,o=Ut(e),i=Re(void 0);try{return t()}finally{Ut(o),Re(i)}}function Kg(){return Fg()!==void 0||xo()!=null}function gE(n){if(!Kg())throw new _(-203,!1)}function mE(n){return typeof n=="function"}var Zt=0,P=1,M=2,De=3,lt=4,dt=5,ca=6,la=7,Oe=8,kr=9,Gt=10,se=11,Uo=12,Hp=13,Hr=14,Dt=15,kn=16,Tr=17,Wt=18,Ra=19,Yg=20,cn=21,pu=22,ua=23,Xe=24,Ar=25,ke=26,Jg=1;var Pn=7,da=8,Pr=9,ze=10;function ln(n){return Array.isArray(n)&&typeof n[Jg]=="object"}function Kt(n){return Array.isArray(n)&&n[Jg]===!0}function Md(n){return(n.flags&4)!==0}function zr(n){return n.componentOffset>-1}function Na(n){return(n.flags&1)===1}function bt(n){return!!n.template}function fa(n){return(n[M]&512)!==0}function qr(n){return(n[M]&256)===256}var Nu=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Qg(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var Yt=(()=>{let n=()=>Xg;return n.ngInherit=!0,n})();function Xg(n){return n.type.prototype.ngOnChanges&&(n.setInput=yE),vE}function vE(){let n=tm(this),t=n?.current;if(t){let e=n.previous;if(e===Nn)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function yE(n,t,e,r,o){let i=this.declaredInputs[r],s=tm(n)||wE(n,{previous:Nn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new Nu(l&&l.currentValue,e,c===Nn),Qg(n,t,o,e)}var em="__ngSimpleChanges__";function tm(n){return n[em]||null}function wE(n,t){return n[em]=t}var zp=null;var W=function(n,t=null,e){zp?.(n,t,e)},_E="svg",DE="math";function Et(n){for(;Array.isArray(n);)n=n[Zt];return n}function nm(n,t){return Et(t[n])}function Mt(n,t){return Et(t[n.index])}function rm(n,t){return n.data[t]}function xd(n,t){return n[t]}function bE(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function Ct(n,t){let e=t[n];return ln(e)?e:e[Zt]}function EE(n){return(n[M]&4)===4}function Ad(n){return(n[M]&128)===128}function CE(n){return Kt(n[De])}function Fr(n,t){return t==null?null:n[t]}function om(n){n[Tr]=0}function im(n){n[M]&1024||(n[M]|=1024,Ad(n)&&Wo(n))}function IE(n,t){for(;n>0;)t=t[Hr],n--;return t}function Oa(n){return!!(n[M]&9216||n[Xe]?.dirty)}function Ou(n){n[Gt].changeDetectionScheduler?.notify(8),n[M]&64&&(n[M]|=1024),Oa(n)&&Wo(n)}function Wo(n){n[Gt].changeDetectionScheduler?.notify(0);let t=Fn(n);for(;t!==null&&!(t[M]&8192||(t[M]|=8192,!Ad(t)));)t=Fn(t)}function sm(n,t){if(qr(n))throw new _(911,!1);n[cn]===null&&(n[cn]=[]),n[cn].push(t)}function SE(n,t){if(n[cn]===null)return;let e=n[cn].indexOf(t);e!==-1&&n[cn].splice(e,1)}function Fn(n){let t=n[De];return Kt(t)?t[De]:t}function Rd(n){return n[la]??=[]}function Nd(n){return n.cleanup??=[]}function TE(n,t,e,r){let o=Rd(t);o.push(e),n.firstCreatePass&&Nd(n).push(r,o.length-1)}var k={lFrame:mm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ku=!1;function ME(){return k.lFrame.elementDepthCount}function xE(){k.lFrame.elementDepthCount++}function AE(){k.lFrame.elementDepthCount--}function Od(){return k.bindingsEnabled}function RE(){return k.skipHydrationRootTNode!==null}function NE(n){return k.skipHydrationRootTNode===n}function OE(){k.skipHydrationRootTNode=null}function L(){return k.lFrame.lView}function he(){return k.lFrame.tView}function am(n){return k.lFrame.contextLView=n,n[Oe]}function cm(n){return k.lFrame.contextLView=null,n}function Te(){let n=lm();for(;n!==null&&n.type===64;)n=n.parent;return n}function lm(){return k.lFrame.currentTNode}function kE(){let n=k.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Bn(n,t){let e=k.lFrame;e.currentTNode=n,e.isParent=t}function kd(){return k.lFrame.isParent}function um(){k.lFrame.isParent=!1}function PE(){return k.lFrame.contextLView}function dm(){return ku}function qp(n){let t=ku;return ku=n,t}function Gr(){let n=k.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function FE(){return k.lFrame.bindingIndex}function LE(n){return k.lFrame.bindingIndex=n}function ka(){return k.lFrame.bindingIndex++}function fm(n){let t=k.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function jE(){return k.lFrame.inI18n}function VE(n,t){let e=k.lFrame;e.bindingIndex=e.bindingRootIndex=n,Pu(t)}function UE(){return k.lFrame.currentDirectiveIndex}function Pu(n){k.lFrame.currentDirectiveIndex=n}function $E(n){let t=k.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function hm(){return k.lFrame.currentQueryIndex}function Pd(n){k.lFrame.currentQueryIndex=n}function BE(n){let t=n[P];return t.type===2?t.declTNode:t.type===1?n[dt]:null}function pm(n,t,e){if(e&N.SkipSelf){let o=t,i=n;for(;o=o.parent,o===null&&!(e&N.Host);)if(o=BE(i),o===null||(i=i[Hr],o.type&10))break;if(o===null)return!1;t=o,n=i}let r=k.lFrame=gm();return r.currentTNode=t,r.lView=n,!0}function Fd(n){let t=gm(),e=n[P];k.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function gm(){let n=k.lFrame,t=n===null?null:n.child;return t===null?mm(n):t}function mm(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function vm(){let n=k.lFrame;return k.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ym=vm;function Ld(){let n=vm();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function HE(n){return(k.lFrame.contextLView=IE(n,k.lFrame.contextLView))[Oe]}function Hn(){return k.lFrame.selectedIndex}function Ln(n){k.lFrame.selectedIndex=n}function Pa(){let n=k.lFrame;return rm(n.tView,n.selectedIndex)}function zE(){return k.lFrame.currentNamespace}var wm=!0;function Fa(){return wm}function La(n){wm=n}function qE(n,t,e){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Xg(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}o&&(e.preOrderHooks??=[]).push(0-n,o),i&&((e.preOrderHooks??=[]).push(n,i),(e.preOrderCheckHooks??=[]).push(n,i))}function jd(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let i=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),u!=null&&(n.destroyHooks??=[]).push(e,u)}}function Qs(n,t,e){_m(n,t,3,e)}function Xs(n,t,e,r){(n[M]&3)===e&&_m(n,t,e,r)}function gu(n,t){let e=n[M];(e&3)===t&&(e&=16383,e+=1,n[M]=e)}function _m(n,t,e,r){let o=r!==void 0?n[Tr]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(n[Tr]+=65536),(a<i||i==-1)&&(GE(n,e,t,c),n[Tr]=(n[Tr]&4294901760)+c+2),c++}function Gp(n,t){W(4,n,t);let e=V(null);try{t.call(n)}finally{V(e),W(5,n,t)}}function GE(n,t,e,r){let o=e[r]<0,i=e[r+1],s=o?-e[r]:e[r],a=n[s];o?n[M]>>14<n[Tr]>>16&&(n[M]&3)===t&&(n[M]+=16384,Gp(a,i)):Gp(a,i)}var Rr=-1,jn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function WE(n){return(n.flags&8)!==0}function ZE(n){return(n.flags&16)!==0}function KE(n,t,e){let r=0;for(;r<e.length;){let o=e[r];if(typeof o=="number"){if(o!==0)break;r++;let i=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,i)}else{let i=o,s=e[++r];YE(i)?n.setProperty(t,i,s):n.setAttribute(t,i,s),r++}}return r}function Dm(n){return n===3||n===4||n===6}function YE(n){return n.charCodeAt(0)===64}function Lr(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?e=o:e===0||(e===-1||e===2?Wp(n,e,o,null,t[++r]):Wp(n,e,o,null,null))}}return n}function Wp(n,t,e,r,o){let i=0,s=n.length;if(t===-1)s=-1;else for(;i<n.length;){let a=n[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<n.length;){let a=n[i];if(typeof a=="number")break;if(a===e){o!==null&&(n[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(n.splice(s,0,t),i=s+1),n.splice(i++,0,e),o!==null&&n.splice(i++,0,o)}function bm(n){return n!==Rr}function ha(n){return n&32767}function JE(n){return n>>16}function pa(n,t){let e=JE(n),r=t;for(;e>0;)r=r[Hr],e--;return r}var Fu=!0;function ga(n){let t=Fu;return Fu=n,t}var QE=256,Em=QE-1,Cm=5,XE=0,_t={};function eC(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Lo)&&(r=e[Lo]),r==null&&(r=e[Lo]=XE++);let o=r&Em,i=1<<o;t.data[n+(o>>Cm)]|=i}function ma(n,t){let e=Im(n,t);if(e!==-1)return e;let r=t[P];r.firstCreatePass&&(n.injectorIndex=t.length,mu(r.data,n),mu(t,null),mu(r.blueprint,null));let o=Vd(n,t),i=n.injectorIndex;if(bm(o)){let s=ha(o),a=pa(o,t),c=a[P].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function mu(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Im(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Vd(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,o=t;for(;o!==null;){if(r=Am(o),r===null)return Rr;if(e++,o=o[Hr],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Rr}function Lu(n,t,e){eC(n,t,e)}function tC(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,o=0;for(;o<r;){let i=e[o];if(Dm(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof e[o]=="string";)o++;else{if(i===t)return e[o+1];o=o+2}}}return null}function Sm(n,t,e){if(e&N.Optional||n!==void 0)return n;Cd(t,"NodeInjector")}function Tm(n,t,e,r){if(e&N.Optional&&r===void 0&&(r=null),(e&(N.Self|N.Host))===0){let o=n[kr],i=Re(void 0);try{return o?o.get(t,r,e&N.Optional):Lg(t,r,e&N.Optional)}finally{Re(i)}}return Sm(r,t,e)}function Mm(n,t,e,r=N.Default,o){if(n!==null){if(t[M]&2048&&!(r&N.Self)){let s=iC(n,t,e,r,_t);if(s!==_t)return s}let i=xm(n,t,e,r,_t);if(i!==_t)return i}return Tm(t,e,r,o)}function xm(n,t,e,r,o){let i=rC(e);if(typeof i=="function"){if(!pm(t,n,r))return r&N.Host?Sm(o,e,r):Tm(t,e,r,o);try{let s;if(s=i(r),s==null&&!(r&N.Optional))Cd(e);else return s}finally{ym()}}else if(typeof i=="number"){let s=null,a=Im(n,t),c=Rr,l=r&N.Host?t[Dt][dt]:null;for((a===-1||r&N.SkipSelf)&&(c=a===-1?Vd(n,t):t[a+8],c===Rr||!Kp(r,!1)?a=-1:(s=t[P],a=ha(c),t=pa(c,t)));a!==-1;){let u=t[P];if(Zp(i,a,u.data)){let d=nC(a,t,e,s,r,l);if(d!==_t)return d}c=t[a+8],c!==Rr&&Kp(r,t[P].data[a+8]===l)&&Zp(i,a,t)?(s=u,a=ha(c),t=pa(c,t)):a=-1}}return o}function nC(n,t,e,r,o,i){let s=t[P],a=s.data[n+8],c=r==null?zr(a)&&Fu:r!=s&&(a.type&3)!==0,l=o&N.Host&&i===a,u=ea(a,s,e,c,l);return u!==null?$o(t,s,u,a,o):_t}function ea(n,t,e,r,o){let i=n.providerIndexes,s=t.data,a=i&1048575,c=n.directiveStart,l=n.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:l;for(let f=d;f<p;f++){let g=s[f];if(f<c&&e===g||f>=c&&g.type===e)return f}if(o){let f=s[c];if(f&&bt(f)&&f.type===e)return c}return null}function $o(n,t,e,r,o){let i=n[e],s=t.data;if(i instanceof jn){let a=i;a.resolving&&Pg(Hb(s[e]));let c=ga(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?Re(a.injectImpl):null,d=pm(n,r,N.Default);try{i=n[e]=a.factory(void 0,o,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&qE(e,s[e],t)}finally{u!==null&&Re(u),ga(c),a.resolving=!1,ym()}}return i}function rC(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Lo)?n[Lo]:void 0;return typeof t=="number"?t>=0?t&Em:oC:t}function Zp(n,t,e){let r=1<<n;return!!(e[t+(n>>Cm)]&r)}function Kp(n,t){return!(n&N.Self)&&!(n&N.Host&&t)}var An=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return Mm(this._tNode,this._lView,t,xa(r),e)}};function oC(){return new An(Te(),L())}function ft(n){return zo(()=>{let t=n.prototype.constructor,e=t[ra]||ju(t),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[ra]||ju(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function ju(n){return Ag(n)?()=>{let t=ju(Ie(n));return t&&t()}:Rn(n)}function iC(n,t,e,r,o){let i=n,s=t;for(;i!==null&&s!==null&&s[M]&2048&&!fa(s);){let a=xm(i,s,e,r|N.Self,_t);if(a!==_t)return a;let c=i.parent;if(!c){let l=s[Yg];if(l){let u=l.get(e,_t,r);if(u!==_t)return u}c=Am(s),s=s[Hr]}i=c}return o}function Am(n){let t=n[P],e=t.type;return e===2?t.declTNode:e===1?n[dt]:null}function Ud(n){return tC(Te(),n)}function Yp(n,t=null,e=null,r){let o=Rm(n,t,e,r);return o.resolveInjectorInitializers(),o}function Rm(n,t=null,e=null,r,o=new Set){let i=[e||Qe,iE(n)];return r=r||(typeof n=="object"?void 0:Ne(n)),new Vo(i,t||Td(),r||null,o)}var qe=class n{static THROW_IF_NOT_FOUND=xn;static NULL=new aa;static create(t,e){if(Array.isArray(t))return Yp({name:""},e,t,"");{let r=t.name??"";return Yp({name:r},t.parent,t.providers,r)}}static \u0275prov=E({token:n,providedIn:"any",factory:()=>I(Bg)});static __NG_ELEMENT_ID__=-1};var sC=new b("");sC.__NG_ELEMENT_ID__=n=>{let t=Te();if(t===null)throw new _(204,!1);if(t.type&2)return t.value;if(n&N.Optional)return null;throw new _(204,!1)};var Nm=!1,Wr=(()=>{class n{static __NG_ELEMENT_ID__=aC;static __NG_ENV_ID__=e=>e}return n})(),Vu=class extends Wr{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let e=this._lView;return qr(e)?(t(),()=>{}):(sm(e,t),()=>SE(e,t))}};function aC(){return new Vu(L())}var jr=class{},Om=new b("",{providedIn:"root",factory:()=>!1});var km=new b(""),Pm=new b(""),dn=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ve(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=E({token:n,providedIn:"root",factory:()=>new n})}return n})();var Uu=class extends X{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Kg()&&(this.destroyRef=y(Wr,{optional:!0})??void 0,this.pendingTasks=y(dn,{optional:!0})??void 0)}emit(t){let e=V(null);try{super.next(t)}finally{V(e)}}subscribe(t,e,r){let o=t,i=e||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof ne&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ce=Uu;function va(...n){}function Fm(n){let t,e;function r(){n=va;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Jp(n){return queueMicrotask(()=>n()),()=>{n=va}}var $d="isAngularZone",ya=$d+"_ID",cC=0,ie=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ce(!1);onMicrotaskEmpty=new ce(!1);onStable=new ce(!1);onError=new ce(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Nm}=t;if(typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,dC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($d)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new _(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,lC,va,va);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},lC={};function Bd(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function uC(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){Fm(()=>{n.callbackScheduled=!1,$u(n),n.isCheckStableRunning=!0,Bd(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),$u(n)}function dC(n){let t=()=>{uC(n)},e=cC++;n._inner=n._inner.fork({name:"angular",properties:{[$d]:!0,[ya]:e,[ya+e]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(fC(c))return r.invokeTask(i,s,a,c);try{return Qp(n),r.invokeTask(i,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),Xp(n)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return Qp(n),r.invoke(i,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!hC(c)&&t(),Xp(n)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,$u(n),Bd(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function $u(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Qp(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Xp(n){n._nesting--,Bd(n)}var Bu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ce;onMicrotaskEmpty=new ce;onStable=new ce;onError=new ce;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,o){return t.apply(e,r)}};function fC(n){return Lm(n,"__ignore_ng_zone__")}function hC(n){return Lm(n,"__scheduler_tick__")}function Lm(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var It=class{_console=console;handleError(t){this._console.error("ERROR",t)}},pC=new b("",{providedIn:"root",factory:()=>{let n=y(ie),t=y(It);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function eg(n,t){return Mg(n,t)}function gC(n){return Mg(Tg,n)}var jm=(eg.required=gC,eg);function mC(){return Zr(Te(),L())}function Zr(n,t){return new ge(Mt(n,t))}var ge=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=mC}return n})();function vC(n){return n instanceof ge?n.nativeElement:n}function yC(n){return typeof n=="function"&&n[Je]!==void 0}function Zo(n,t){let e=Gl(n,t?.equal),r=e[Je];return e.set=o=>Mo(r,o),e.update=o=>Wl(r,o),e.asReadonly=wC.bind(e),e}function wC(){let n=this[Je];if(n.readonlyFn===void 0){let t=()=>this();t[Je]=n,n.readonlyFn=t}return n.readonlyFn}function Vm(n){return yC(n)&&typeof n.set=="function"}function _C(){return this._results[Symbol.iterator]()}var Hu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new X}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=Xb(t);(this._changesDetected=!Qb(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=_C};function Um(n){return(n.flags&128)===128}var $m=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}($m||{}),Bm=new Map,DC=0;function bC(){return DC++}function EC(n){Bm.set(n[Ra],n)}function zu(n){Bm.delete(n[Ra])}var tg="__ngContext__";function Kr(n,t){ln(t)?(n[tg]=t[Ra],EC(t)):n[tg]=t}function Hm(n){return qm(n[Uo])}function zm(n){return qm(n[lt])}function qm(n){for(;n!==null&&!Kt(n);)n=n[lt];return n}var qu;function Gm(n){qu=n}function CC(){if(qu!==void 0)return qu;if(typeof document<"u")return document;throw new _(210,!1)}var Hd=new b("",{providedIn:"root",factory:()=>IC}),IC="ng",zd=new b(""),Yr=new b("",{providedIn:"platform",factory:()=>"unknown"});var L1=new b(""),qd=new b("",{providedIn:"root",factory:()=>CC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var SC="h",TC="b";var Wm=!1,MC=new b("",{providedIn:"root",factory:()=>Wm});var Gd=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Gd||{}),Jr=new b(""),ng=new Set;function Ko(n){ng.has(n)||(ng.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Zm=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=xC}return n})();function xC(){return new Zm(L(),Te())}var Mr=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Mr||{}),Km=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=E({token:n,providedIn:"root",factory:()=>new n})}return n})(),AC=[Mr.EarlyRead,Mr.Write,Mr.MixedReadWrite,Mr.Read],RC=(()=>{class n{ngZone=y(ie);scheduler=y(jr);errorHandler=y(It,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(Jr,{optional:!0})}execute(){let e=this.sequences.size>0;e&&W(16),this.executing=!0;for(let r of AC)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&W(17)}register(e){let{view:r}=e;r!==void 0?((r[Ar]??=[]).push(e),Wo(r),r[M]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Gd.AFTER_NEXT_RENDER,e):e()}static \u0275prov=E({token:n,providedIn:"root",factory:()=>new n})}return n})(),Gu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,o,i,s=null){this.impl=t,this.hooks=e,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Ar];t&&(this.view[Ar]=t.filter(e=>e!==this))}};function Wd(n,t){!t?.injector&&gE(Wd);let e=t?.injector??y(qe);return Ko("NgAfterNextRender"),OC(n,e,t,!0)}function NC(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function OC(n,t,e,r){let o=t.get(Km);o.impl??=t.get(RC);let i=t.get(Jr,null,{optional:!0}),s=e?.phase??Mr.MixedReadWrite,a=e?.manualCleanup!==!0?t.get(Wr):null,c=t.get(Zm,null,{optional:!0}),l=new Gu(o.impl,NC(n,s),c?.view,r,a,i?.snapshot(null));return o.impl.register(l),l}var kC=(n,t,e,r)=>{};function PC(n,t,e,r){kC(n,t,e,r)}var FC=()=>null;function Ym(n,t,e=!1){return FC(n,t,e)}function Jm(n,t){let e=n.contentQueries;if(e!==null){let r=V(null);try{for(let o=0;o<e.length;o+=2){let i=e[o],s=e[o+1];if(s!==-1){let a=n.data[s];Pd(i),a.contentQueries(2,t[s],s)}}}finally{V(r)}}}function Wu(n,t,e){Pd(0);let r=V(null);try{t(n,e)}finally{V(r)}}function Zd(n,t,e){if(Md(t)){let r=V(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=n.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{V(r)}}}var St=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(St||{});var Ks;function LC(){if(Ks===void 0&&(Ks=null,Mn.trustedTypes))try{Ks=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ks}function rg(n){return LC()?.createScriptURL(n)||n}var wa=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ig})`}};function ja(n){return n instanceof wa?n.changingThisBreaksApplicationSecurity:n}function Qm(n,t){let e=jC(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Ig})`)}return e===t}function jC(n){return n instanceof wa&&n.getTypeName()||null}var VC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function UC(n){return n=String(n),n.match(VC)?n:"unsafe:"+n}var Kd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Kd||{});function $C(n){let t=ev();return t?t.sanitize(Kd.URL,n)||"":Qm(n,"URL")?ja(n):UC(Nr(n))}function BC(n){let t=ev();if(t)return rg(t.sanitize(Kd.RESOURCE_URL,n)||"");if(Qm(n,"ResourceURL"))return rg(ja(n));throw new _(904,!1)}function HC(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?BC:$C}function Xm(n,t,e){return HC(t,e)(n)}function ev(){let n=L();return n&&n[Gt].sanitizer}var zC=/^>|^->|<!--|-->|--!>|<!-$/g,qC=/(<|>)/g,GC="\u200B$1\u200B";function WC(n){return n.replace(zC,t=>t.replace(qC,GC))}function tv(n){return n instanceof Function?n():n}function ZC(n,t,e){let r=n.length;for(;;){let o=n.indexOf(t,e);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}e=o+1}}var nv="ng-template";function KC(n,t,e,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&ZC(t[o+1].toLowerCase(),e,0)!==-1)return!0}else if(Yd(n))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===e)return!0}return!1}function Yd(n){return n.type===4&&n.value!==nv}function YC(n,t,e){let r=n.type===4&&!e?nv:n.value;return t===r}function JC(n,t,e){let r=4,o=n.attrs,i=o!==null?eI(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!ct(r)&&!ct(c))return!1;if(s&&ct(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!YC(n,c,e)||c===""&&t.length===1){if(ct(r))return!1;s=!0}}else if(r&8){if(o===null||!KC(n,o,c,e)){if(ct(r))return!1;s=!0}}else{let l=t[++a],u=QC(c,o,Yd(n),e);if(u===-1){if(ct(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(ct(r))return!1;s=!0}}}}return ct(r)||s}function ct(n){return(n&1)===0}function QC(n,t,e,r){if(t===null)return-1;let o=0;if(r||!e){let i=!1;for(;o<t.length;){let s=t[o];if(s===n)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return tI(t,n)}function XC(n,t,e=!1){for(let r=0;r<t.length;r++)if(JC(n,t[r],e))return!0;return!1}function eI(n){for(let t=0;t<n.length;t++){let e=n[t];if(Dm(e))return t}return n.length}function tI(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function og(n,t){return n?":not("+t.trim()+")":t}function nI(n){let t=n[0],e=1,r=2,o="",i=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!ct(s)&&(t+=og(i,o),o=""),r=s,i=i||!ct(r);e++}return o!==""&&(t+=og(i,o)),t}function rI(n){return n.map(nI).join(",")}function oI(n){let t=[],e=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&t.push(i,n[++r]):o===8&&e.push(i);else{if(!ct(o))break;o=i}r++}return e.length&&t.push(1,...e),t}var ht={};function iI(n,t){return n.createText(t)}function sI(n,t,e){n.setValue(t,e)}function aI(n,t){return n.createComment(WC(t))}function rv(n,t,e){return n.createElement(t,e)}function _a(n,t,e,r,o){n.insertBefore(t,e,r,o)}function ov(n,t,e){n.appendChild(t,e)}function ig(n,t,e,r,o){r!==null?_a(n,t,e,r,o):ov(n,t,e)}function cI(n,t,e){n.removeChild(null,t,e)}function lI(n,t,e){n.setAttribute(t,"style",e)}function uI(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function iv(n,t,e){let{mergedAttrs:r,classes:o,styles:i}=e;r!==null&&KE(n,t,r),o!==null&&uI(n,t,o),i!==null&&lI(n,t,i)}function Jd(n,t,e,r,o,i,s,a,c,l,u){let d=ke+r,p=d+o,f=dI(d,p),g=typeof l=="function"?l():l;return f[P]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function dI(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:ht);return e}function fI(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Jd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Qd(n,t,e,r,o,i,s,a,c,l,u){let d=t.blueprint.slice();return d[Zt]=o,d[M]=r|4|128|8|64|1024,(l!==null||n&&n[M]&2048)&&(d[M]|=2048),om(d),d[De]=d[Hr]=n,d[Oe]=e,d[Gt]=s||n&&n[Gt],d[se]=a||n&&n[se],d[kr]=c||n&&n[kr]||null,d[dt]=i,d[Ra]=bC(),d[ca]=u,d[Yg]=l,d[Dt]=t.type==2?n[Dt]:d,d}function hI(n,t,e){let r=Mt(t,n),o=fI(e),i=n[Gt].rendererFactory,s=Xd(n,Qd(n,o,null,sv(e),r,t,null,i.createRenderer(r,e),null,null,null));return n[t.index]=s}function sv(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function av(n,t,e,r){if(e===0)return-1;let o=t.length;for(let i=0;i<e;i++)t.push(r),n.blueprint.push(r),n.data.push(null);return o}function Xd(n,t){return n[Uo]?n[Hp][lt]=t:n[Uo]=t,n[Hp]=t,t}function cv(n=1){lv(he(),L(),Hn()+n,!1)}function lv(n,t,e,r){if(!r)if((t[M]&3)===3){let i=n.preOrderCheckHooks;i!==null&&Qs(t,i,e)}else{let i=n.preOrderHooks;i!==null&&Xs(t,i,0,e)}Ln(e)}var Va=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Va||{});function Zu(n,t,e,r){let o=V(null);try{let[i,s,a]=n.inputs[e],c=null;(s&Va.SignalBased)!==0&&(c=t[i][Je]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),n.setInput!==null?n.setInput(t,c,r,e,i):Qg(t,c,i,r)}finally{V(o)}}function uv(n,t,e,r,o){let i=Hn(),s=r&2;try{Ln(-1),s&&t.length>ke&&lv(n,t,ke,!1),W(s?2:0,o),e(r,o)}finally{Ln(i),W(s?3:1,o)}}function Ua(n,t,e){wI(n,t,e),(e.flags&64)===64&&_I(n,t,e)}function ef(n,t,e=Mt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?e(t,n):n[s];n[o++]=a}}}function pI(n,t,e,r){let i=r.get(MC,Wm)||e===St.ShadowDom,s=n.selectRootElement(t,i);return gI(s),s}function gI(n){mI(n)}var mI=()=>null;function vI(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function tf(n,t,e,r,o,i,s,a){if(!a&&rf(t,n,e,r,o)){zr(t)&&yI(e,t.index);return}if(t.type&3){let c=Mt(t,e);r=vI(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)}else t.type&12}function yI(n,t){let e=Ct(t,n);e[M]&16||(e[M]|=64)}function wI(n,t,e){let r=e.directiveStart,o=e.directiveEnd;zr(e)&&hI(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||ma(e,t);let i=e.initialInputs;for(let s=r;s<o;s++){let a=n.data[s],c=$o(t,n,s,e);if(Kr(c,t),i!==null&&CI(t,s-r,c,a,e,i),bt(a)){let l=Ct(e.index,t);l[Oe]=$o(t,n,s,e)}}}function _I(n,t,e){let r=e.directiveStart,o=e.directiveEnd,i=e.index,s=UE();try{Ln(i);for(let a=r;a<o;a++){let c=n.data[a],l=t[a];Pu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&DI(c,l)}}finally{Ln(-1),Pu(s)}}function DI(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function nf(n,t){let e=n.directiveRegistry,r=null;if(e)for(let o=0;o<e.length;o++){let i=e[o];XC(t,i.selectors,!1)&&(r??=[],bt(i)?r.unshift(i):r.push(i))}return r}function bI(n,t,e,r,o,i){let s=Mt(n,t);EI(t[se],s,i,n.value,e,r,o)}function EI(n,t,e,r,o,i,s){if(i==null)n.removeAttribute(t,o,e);else{let a=s==null?Nr(i):s(i,r||"",o);n.setAttribute(t,o,a,e)}}function CI(n,t,e,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Zu(r,e,c,l)}}function II(n,t){let e=n[kr],r=e?e.get(It,null):null;r&&r.handleError(t)}function rf(n,t,e,r,o){let i=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Zu(d,e[l],u,o),a=!0}if(i)for(let c of i){let l=e[c],u=t.data[c];Zu(u,l,r,o),a=!0}return a}function SI(n,t){let e=Ct(t,n),r=e[P];TI(r,e);let o=e[Zt];o!==null&&e[ca]===null&&(e[ca]=Ym(o,e[kr])),W(18),of(r,e,e[Oe]),W(19,e[Oe])}function TI(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function of(n,t,e){Fd(t);try{let r=n.viewQuery;r!==null&&Wu(1,r,e);let o=n.template;o!==null&&uv(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Wt]?.finishViewCreation(n),n.staticContentQueries&&Jm(n,t),n.staticViewQueries&&Wu(2,n.viewQuery,e);let i=n.components;i!==null&&MI(t,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[M]&=-5,Ld()}}function MI(n,t){for(let e=0;e<t.length;e++)SI(n,t[e])}function xI(n,t,e,r){let o=V(null);try{let i=t.tView,a=n[M]&4096?4096:16,c=Qd(n,i,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[t.index];c[kn]=l;let u=n[Wt];return u!==null&&(c[Wt]=u.createEmbeddedView(i)),of(i,c,e),c}finally{V(o)}}function sg(n,t){return!t||t.firstChild===null||Um(n)}var AI;function sf(n,t){return AI(n,t)}var Tt=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Tt||{});function dv(n){return(n.flags&32)===32}function xr(n,t,e,r,o){if(r!=null){let i,s=!1;Kt(r)?i=r:ln(r)&&(s=!0,r=r[Zt]);let a=Et(r);n===0&&e!==null?o==null?ov(t,e,a):_a(t,e,a,o||null,!0):n===1&&e!==null?_a(t,e,a,o||null,!0):n===2?cI(t,a,s):n===3&&t.destroyNode(a),i!=null&&BI(t,n,i,e,o)}}function RI(n,t){fv(n,t),t[Zt]=null,t[dt]=null}function NI(n,t,e,r,o,i){r[Zt]=o,r[dt]=t,Ba(n,r,e,1,o,i)}function fv(n,t){t[Gt].changeDetectionScheduler?.notify(9),Ba(n,t,t[se],2,null,null)}function OI(n){let t=n[Uo];if(!t)return vu(n[P],n);for(;t;){let e=null;if(ln(t))e=t[Uo];else{let r=t[ze];r&&(e=r)}if(!e){for(;t&&!t[lt]&&t!==n;)ln(t)&&vu(t[P],t),t=t[De];t===null&&(t=n),ln(t)&&vu(t[P],t),e=t&&t[lt]}t=e}}function af(n,t){let e=n[Pr],r=e.indexOf(t);e.splice(r,1)}function hv(n,t){if(qr(t))return;let e=t[se];e.destroyNode&&Ba(n,t,e,3,null,null),OI(t)}function vu(n,t){if(qr(t))return;let e=V(null);try{t[M]&=-129,t[M]|=256,t[Xe]&&Hl(t[Xe]),PI(n,t),kI(n,t),t[P].type===1&&t[se].destroy();let r=t[kn];if(r!==null&&Kt(t[De])){r!==t[De]&&af(r,t);let o=t[Wt];o!==null&&o.detachView(n)}zu(t)}finally{V(e)}}function kI(n,t){let e=n.cleanup,r=t[la];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[la]=null);let o=t[cn];if(o!==null){t[cn]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[ua];if(i!==null){t[ua]=null;for(let s of i)s.destroy()}}function PI(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let o=t[e[r]];if(!(o instanceof jn)){let i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];W(4,a,c);try{c.call(a)}finally{W(5,a,c)}}else{W(4,o,i);try{i.call(o)}finally{W(5,o,i)}}}}}function FI(n,t,e){return LI(n,t.parent,e)}function LI(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[Zt];if(zr(r)){let{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===St.None||o===St.Emulated)return null}return Mt(r,e)}function jI(n,t,e){return UI(n,t,e)}function VI(n,t,e){return n.type&40?Mt(n,e):null}var UI=VI,ag;function $a(n,t,e,r){let o=FI(n,r,t),i=t[se],s=r.parent||t[dt],a=jI(s,r,t);if(o!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)ig(i,o,e[c],a,!1);else ig(i,o,e,a,!1);ag!==void 0&&ag(i,r,t,e,o)}function Fo(n,t){if(t!==null){let e=t.type;if(e&3)return Mt(t,n);if(e&4)return Ku(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return Fo(n,r);{let o=n[t.index];return Kt(o)?Ku(-1,o):Et(o)}}else{if(e&128)return Fo(n,t.next);if(e&32)return sf(t,n)()||Et(n[t.index]);{let r=pv(n,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Fn(n[Dt]);return Fo(o,r)}else return Fo(n,t.next)}}}return null}function pv(n,t){if(t!==null){let r=n[Dt][dt],o=t.projection;return r.projection[o]}return null}function Ku(n,t){let e=ze+n+1;if(e<t.length){let r=t[e],o=r[P].firstChild;if(o!==null)return Fo(r,o)}return t[Pn]}function cf(n,t,e,r,o,i,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],c=e.type;if(s&&t===0&&(a&&Kr(Et(a),r),e.flags|=2),!dv(e))if(c&8)cf(n,t,e.child,r,o,i,!1),xr(t,n,o,a,i);else if(c&32){let l=sf(e,r),u;for(;u=l();)xr(t,n,o,u,i);xr(t,n,o,a,i)}else c&16?$I(n,t,r,e,o,i):xr(t,n,o,a,i);e=s?e.projectionNext:e.next}}function Ba(n,t,e,r,o,i){cf(e,r,n.firstChild,t,o,i,!1)}function $I(n,t,e,r,o,i){let s=e[Dt],c=s[dt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];xr(t,n,o,u,i)}else{let l=c,u=s[De];Um(r)&&(l.flags|=128),cf(n,t,l,u,o,i,!0)}}function BI(n,t,e,r,o){let i=e[Pn],s=Et(e);i!==s&&xr(t,n,r,i,o);for(let a=ze;a<e.length;a++){let c=e[a];Ba(c[P],c,n,t,r,i)}}function HI(n,t,e,r,o){if(t)o?n.addClass(e,r):n.removeClass(e,r);else{let i=r.indexOf("-")===-1?void 0:Tt.DashCase;o==null?n.removeStyle(e,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Tt.Important),n.setStyle(e,r,o,i))}}function Da(n,t,e,r,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let i=t[e.index];i!==null&&r.push(Et(i)),Kt(i)&&zI(i,r);let s=e.type;if(s&8)Da(n,t,e.child,r);else if(s&32){let a=sf(e,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=pv(t,e);if(Array.isArray(a))r.push(...a);else{let c=Fn(t[Dt]);Da(c[P],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}function zI(n,t){for(let e=ze;e<n.length;e++){let r=n[e],o=r[P].firstChild;o!==null&&Da(r[P],r,o,t)}n[Pn]!==n[Zt]&&t.push(n[Pn])}function gv(n){if(n[Ar]!==null){for(let t of n[Ar])t.impl.addSequence(t);n[Ar].length=0}}var mv=[];function qI(n){return n[Xe]??GI(n)}function GI(n){let t=mv.pop()??Object.create(ZI);return t.lView=n,t}function WI(n){n.lView[Xe]!==n&&(n.lView=null,mv.push(n))}var ZI=j(w({},So),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Wo(n.lView)},consumerOnSignalRead(){this.lView[Xe]=this}});function KI(n){let t=n[Xe]??Object.create(YI);return t.lView=n,t}var YI=j(w({},So),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Fn(n.lView);for(;t&&!vv(t[P]);)t=Fn(t);t&&im(t)},consumerOnSignalRead(){this.lView[Xe]=this}});function vv(n){return n.type!==2}function yv(n){if(n[ua]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[ua])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[M]&8192)}}var JI=100;function wv(n,t=!0,e=0){let o=n[Gt].rendererFactory,i=!1;i||o.begin?.();try{QI(n,e)}catch(s){throw t&&II(n,s),s}finally{i||o.end?.()}}function QI(n,t){let e=dm();try{qp(!0),Yu(n,t);let r=0;for(;Oa(n);){if(r===JI)throw new _(103,!1);r++,Yu(n,1)}}finally{qp(e)}}function XI(n,t,e,r){if(qr(t))return;let o=t[M],i=!1,s=!1;Fd(t);let a=!0,c=null,l=null;i||(vv(n)?(l=qI(t),c=gs(l)):Ll()===null?(a=!1,l=KI(t),c=gs(l)):t[Xe]&&(Hl(t[Xe]),t[Xe]=null));try{om(t),LE(n.bindingStartIndex),e!==null&&uv(n,t,e,2,r);let u=(o&3)===3;if(!i)if(u){let f=n.preOrderCheckHooks;f!==null&&Qs(t,f,null)}else{let f=n.preOrderHooks;f!==null&&Xs(t,f,0,null),gu(t,0)}if(s||e0(t),yv(t),_v(t,0),n.contentQueries!==null&&Jm(n,t),!i)if(u){let f=n.contentCheckHooks;f!==null&&Qs(t,f)}else{let f=n.contentHooks;f!==null&&Xs(t,f,1),gu(t,1)}n0(n,t);let d=n.components;d!==null&&bv(t,d,0);let p=n.viewQuery;if(p!==null&&Wu(2,p,r),!i)if(u){let f=n.viewCheckHooks;f!==null&&Qs(t,f)}else{let f=n.viewHooks;f!==null&&Xs(t,f,2),gu(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[pu]){for(let f of t[pu])f();t[pu]=null}i||(gv(t),t[M]&=-73)}catch(u){throw i||Wo(t),u}finally{l!==null&&($l(l,c),a&&WI(l)),Ld()}}function _v(n,t){for(let e=Hm(n);e!==null;e=zm(e))for(let r=ze;r<e.length;r++){let o=e[r];Dv(o,t)}}function e0(n){for(let t=Hm(n);t!==null;t=zm(t)){if(!(t[M]&2))continue;let e=t[Pr];for(let r=0;r<e.length;r++){let o=e[r];im(o)}}}function t0(n,t,e){W(18);let r=Ct(t,n);Dv(r,e),W(19,r[Oe])}function Dv(n,t){Ad(n)&&Yu(n,t)}function Yu(n,t){let r=n[P],o=n[M],i=n[Xe],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Bl(i)),s||=!1,i&&(i.dirty=!1),n[M]&=-9217,s)XI(r,n,r.template,n[Oe]);else if(o&8192){yv(n),_v(n,1);let a=r.components;a!==null&&bv(n,a,1),gv(n)}}function bv(n,t,e){for(let r=0;r<t.length;r++)t0(n,t[r],e)}function n0(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let o=e[r];if(o<0)Ln(~o);else{let i=o,s=e[++r],a=e[++r];VE(s,i);let c=t[i];W(24,c),a(2,c),W(25,c)}}}finally{Ln(-1)}}function lf(n,t){let e=dm()?64:1088;for(n[Gt].changeDetectionScheduler?.notify(t);n;){n[M]|=e;let r=Fn(n);if(fa(n)&&!r)return n;n=r}return null}function Ev(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function r0(n,t,e,r=!0){let o=t[P];if(o0(o,t,n,e),r){let s=Ku(e,n),a=t[se],c=a.parentNode(n[Pn]);c!==null&&NI(o,n[dt],a,t,c,s)}let i=t[ca];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Ju(n,t){if(n.length<=ze)return;let e=ze+t,r=n[e];if(r){let o=r[kn];o!==null&&o!==n&&af(o,r),t>0&&(n[e-1][lt]=r[lt]);let i=sa(n,ze+t);RI(r[P],r);let s=i[Wt];s!==null&&s.detachView(i[P]),r[De]=null,r[lt]=null,r[M]&=-129}return r}function o0(n,t,e,r){let o=ze+r,i=e.length;r>0&&(e[o-1][lt]=t),r<i-ze?(t[lt]=e[o],$g(e,ze+r,t)):(e.push(t),t[lt]=null),t[De]=e;let s=t[kn];s!==null&&e!==s&&Cv(s,t);let a=t[Wt];a!==null&&a.insertView(n),Ou(t),t[M]|=128}function Cv(n,t){let e=n[Pr],r=t[De];if(ln(r))n[M]|=2;else{let o=r[De][Dt];t[Dt]!==o&&(n[M]|=2)}e===null?n[Pr]=[t]:e.push(t)}var Bo=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[P];return Da(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[Oe]}set context(t){this._lView[Oe]=t}get destroyed(){return qr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[De];if(Kt(t)){let e=t[da],r=e?e.indexOf(this):-1;r>-1&&(Ju(t,r),sa(e,r))}this._attachedToViewContainer=!1}hv(this._lView[P],this._lView)}onDestroy(t){sm(this._lView,t)}markForCheck(){lf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[M]&=-129}reattach(){Ou(this._lView),this._lView[M]|=128}detectChanges(){this._lView[M]|=1024,wv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=fa(this._lView),e=this._lView[kn];e!==null&&!t&&af(e,this._lView),fv(this._lView[P],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=t;let e=fa(this._lView),r=this._lView[kn];r!==null&&!e&&Cv(r,this._lView),Ou(this._lView)}};var Vn=(()=>{class n{static __NG_ELEMENT_ID__=a0}return n})(),i0=Vn,s0=class extends i0{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let o=xI(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new Bo(o)}};function a0(){return Ha(Te(),L())}function Ha(n,t){return n.type&4?new s0(t,n,Zr(n,t)):null}function za(n,t,e,r,o){let i=n.data[t];if(i===null)i=c0(n,t,e,r,o),jE()&&(i.flags|=32);else if(i.type&64){i.type=e,i.value=r,i.attrs=o;let s=kE();i.injectorIndex=s===null?-1:s.injectorIndex}return Bn(i,!0),i}function c0(n,t,e,r,o){let i=lm(),s=kd(),a=s?i:i&&i.parent,c=n.data[t]=u0(n,a,e,t,r,o);return l0(n,c,i,s),c}function l0(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function u0(n,t,e,r,o,i){let s=t?t.injectorIndex:-1,a=0;return RE()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var U1=new RegExp(`^(\\d+)*(${TC}|${SC})*(.*)`);var d0=()=>null;function cg(n,t){return d0(n,t)}var f0=class{},Iv=class{},Qu=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Ne(t)}.`)}},qa=class{static NULL=new Qu},Vr=class{},Fe=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>h0()}return n})();function h0(){let n=L(),t=Te(),e=Ct(t.index,n);return(ln(e)?e:n)[se]}var p0=(()=>{class n{static \u0275prov=E({token:n,providedIn:"root",factory:()=>null})}return n})();var yu={},Xu=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=xa(r);let o=this.injector.get(t,yu,r);return o!==yu||e===yu?o:this.parentInjector.get(t,e,r)}};function ed(n,t,e){let r=e?n.styles:null,o=e?n.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=Fp(o,a);else if(i==2){let c=a,l=t[++s];r=Fp(r,c+": "+l+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=o:n.classesWithoutHost=o}function C(n,t=N.Default){let e=L();if(e===null)return I(n,t);let r=Te();return Mm(r,e,Ie(n),t)}function Sv(){let n="invalid";throw new Error(n)}function uf(n,t,e,r,o){let i=r===null?null:{"":-1},s=o(n,e);if(s!==null){let a,c=null,l=null,u=m0(s);u===null?a=s:[a,c,l]=u,w0(n,t,e,a,i,c,l)}i!==null&&r!==null&&g0(e,r,i)}function g0(n,t,e){let r=n.localNames=[];for(let o=0;o<t.length;o+=2){let i=e[t[o+1]];if(i==null)throw new _(-301,!1);r.push(t[o],i)}}function m0(n){let t=null,e=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&bt(a)&&(t=a),a.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,o=null,i=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,v0(s,r,i,o)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?n:n.slice(1)),[r,o,i]):null}function v0(n,t,e,r){let o=t.length;n.findHostDirectiveDefs(n,t,r),e.set(n,[o,t.length-1])}function y0(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function w0(n,t,e,r,o,i,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&bt(f)&&(c=!0,y0(n,e,p)),Lu(ma(e,t),n,f.type)}I0(e,n.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=av(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(e.mergedAttrs=Lr(e.mergedAttrs,f.hostAttrs),D0(n,e,t,d,f),C0(d,f,o),s!==null&&s.has(f)){let[m,v]=s.get(f);e.directiveToIndex.set(f.type,[d,m+e.directiveStart,v+e.directiveStart])}else(i===null||!i.has(f))&&e.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}_0(n,e,i)}function _0(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=n.data[r];if(e===null||!e.has(o))lg(0,t,o,r),lg(1,t,o,r),dg(t,r,!1);else{let i=e.get(o);ug(0,t,i,r),ug(1,t,i,r),dg(t,r,!0)}}}function lg(n,t,e,r){let o=n===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),Tv(t,i)}}function ug(n,t,e,r){let o=n===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;n===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),Tv(t,s)}}function Tv(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function dg(n,t,e){let{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(r===null||!e&&o===null||e&&i===null||Yd(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!e&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(e&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function D0(n,t,e,r,o){n.data[r]=o;let i=o.factory||(o.factory=Rn(o.type,!0)),s=new jn(i,bt(o),C);n.blueprint[r]=s,e[r]=s,b0(n,t,r,av(n,e,o.hostVars,ht),o)}function b0(n,t,e,r,o){let i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;E0(s)!=a&&s.push(a),s.push(e,r,i)}}function E0(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function C0(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;bt(t)&&(e[""]=n)}}function I0(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Mv(n,t,e,r,o,i,s,a){let c=t.consts,l=Fr(c,s),u=za(t,n,2,r,l);return i&&uf(t,e,u,Fr(c,a),o),u.mergedAttrs=Lr(u.mergedAttrs,u.attrs),u.attrs!==null&&ed(u,u.attrs,!1),u.mergedAttrs!==null&&ed(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function xv(n,t){jd(n,t),Md(t)&&n.queries.elementEnd(t)}var ba=class extends qa{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=On(t);return new Ur(e,this.ngModule)}};function S0(n){return Object.keys(n).map(t=>{let[e,r,o]=n[t],i={propName:e,templateName:t,isSignal:(r&Va.SignalBased)!==0};return o&&(i.transform=o),i})}function T0(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function M0(n,t,e){let r=t instanceof _e?t:t?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Xu(e,r):e}function x0(n){let t=n.get(Vr,null);if(t===null)throw new _(407,!1);let e=n.get(p0,null),r=n.get(jr,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:r}}function A0(n,t){let e=(n.selectors[0][0]||"div").toLowerCase();return rv(t,e,e==="svg"?_E:e==="math"?DE:null)}var Ur=class extends Iv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=S0(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=T0(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=rI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,o){W(22);let i=V(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:oI(this.componentDef.selectors[0]),c=Jd(0,null,null,1,0,null,null,null,null,[a],null),l=M0(s,o||this.ngModule,t),u=x0(l),d=u.rendererFactory.createRenderer(null,s),p=r?pI(d,r,s.encapsulation,l):A0(s,d),f=Qd(null,c,null,512|sv(s),null,null,u,d,l,null,Ym(p,l,!0));f[ke]=p,Fd(f);let g=null;try{let m=Mv(ke,c,f,"#host",()=>[this.componentDef],!0,0);p&&(iv(d,p,m),Kr(p,f)),Ua(c,f,m),Zd(c,m,f),xv(c,m),e!==void 0&&R0(m,this.ngContentSelectors,e),g=Ct(m.index,f),f[Oe]=g[Oe],of(c,f,null)}catch(m){throw g!==null&&zu(g),zu(f),m}finally{W(23),Ld()}return new td(this.componentType,f)}finally{V(i)}}},td=class extends f0{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=rm(e[P],ke),this.location=Zr(this._tNode,e),this.instance=Ct(this._tNode.index,e)[Oe],this.hostView=this.changeDetectorRef=new Bo(e,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView,i=rf(r,o[P],o,t,e);this.previousInputValues.set(t,e);let s=Ct(r.index,o);lf(s,1)}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function R0(n,t,e){let r=n.projection=[];for(let o=0;o<t.length;o++){let i=e[o];r.push(i!=null&&i.length?Array.from(i):null)}}var fn=(()=>{class n{static __NG_ELEMENT_ID__=N0}return n})();function N0(){let n=Te();return Rv(n,L())}var O0=fn,Av=class extends O0{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Zr(this._hostTNode,this._hostLView)}get injector(){return new An(this._hostTNode,this._hostLView)}get parentInjector(){let t=Vd(this._hostTNode,this._hostLView);if(bm(t)){let e=pa(t,this._hostLView),r=ha(t),o=e[P].data[r+8];return new An(o,e)}else return new An(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=fg(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-ze}createEmbeddedView(t,e,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=cg(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},i,s);return this.insertImpl(a,o,sg(this._hostTNode,s)),a}createComponent(t,e,r,o,i){let s=t&&!mE(t),a;if(s)a=e;else{let g=e||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let c=s?t:new Ur(On(t)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let m=(s?l:this.parentInjector).get(_e,null);m&&(i=m)}let u=On(c.componentType??{}),d=cg(this._lContainer,u?.id??null),p=d?.firstChild??null,f=c.create(l,o,p,i);return this.insertImpl(f.hostView,a,sg(this._hostTNode,d)),f}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let o=t._lView;if(CE(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[De],l=new Av(c,c[dt],c[De]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(e),s=this._lContainer;return r0(s,o,i,r),t.attachToViewContainerRef(),$g(wu(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=fg(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=Ju(this._lContainer,e);r&&(sa(wu(this._lContainer),e),hv(r[P],r))}detach(t){let e=this._adjustIndex(t,-1),r=Ju(this._lContainer,e);return r&&sa(wu(this._lContainer),e)!=null?new Bo(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function fg(n){return n[da]}function wu(n){return n[da]||(n[da]=[])}function Rv(n,t){let e,r=t[n.index];return Kt(r)?e=r:(e=Ev(r,t,null,n),t[n.index]=e,Xd(t,e)),P0(e,t,n,r),new Av(e,n,t)}function k0(n,t){let e=n[se],r=e.createComment(""),o=Mt(t,n),i=e.parentNode(o);return _a(e,i,r,e.nextSibling(o),!1),r}var P0=j0,F0=()=>!1;function L0(n,t,e){return F0(n,t,e)}function j0(n,t,e,r){if(n[Pn])return;let o;e.type&8?o=Et(r):o=k0(t,e),n[Pn]=o}var nd=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},rd=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){let s=e.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new n(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)df(t,e).matches!==null&&this.queries[e].setDirty()}},od=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=G0(t):this.predicate=t}},id=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let o=e!==null?e.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,e!==null?e.push(i):e=[i])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},sd=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,e,V0(e,i)),this.matchTNodeWithReadOption(t,e,ea(e,t,i,!1,!1))}else r===Vn?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ea(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===ge||o===fn||o===Vn&&e.type&4)this.addMatch(e.index,-2);else{let i=ea(e,t,o,!1,!1);i!==null&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function V0(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function U0(n,t){return n.type&11?Zr(n,t):n.type&4?Ha(n,t):null}function $0(n,t,e,r){return e===-1?U0(t,n):e===-2?B0(n,t,r):$o(n,n[P],e,t)}function B0(n,t,e){if(e===ge)return Zr(t,n);if(e===Vn)return Ha(t,n);if(e===fn)return Rv(t,n)}function Nv(n,t,e,r){let o=t[Wt].queries[r];if(o.matches===null){let i=n.data,s=e.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=i[l];a.push($0(t,u,s[c+1],e.metadata.read))}}o.matches=a}return o.matches}function ad(n,t,e,r){let o=n.queries.getByIndex(e),i=o.matches;if(i!==null){let s=Nv(n,t,o,e);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let l=i[a+1],u=t[-c];for(let d=ze;d<u.length;d++){let p=u[d];p[kn]===p[De]&&ad(p[P],p,l,r)}if(u[Pr]!==null){let d=u[Pr];for(let p=0;p<d.length;p++){let f=d[p];ad(f[P],f,l,r)}}}}}return r}function H0(n,t){return n[Wt].queries[t].queryList}function z0(n,t,e){let r=new Hu((e&4)===4);return TE(n,t,r,r.destroy),(t[Wt]??=new rd).queries.push(new nd(r))-1}function q0(n,t,e){let r=he();return r.firstCreatePass&&(W0(r,new od(n,t,e),-1),(t&2)===2&&(r.staticViewQueries=!0)),z0(r,L(),t)}function G0(n){return n.split(",").map(t=>t.trim())}function W0(n,t,e){n.queries===null&&(n.queries=new id),n.queries.track(new sd(t,e))}function df(n,t){return n.queries.getByIndex(t)}function Z0(n,t){let e=n[P],r=df(e,t);return r.crossesNgTemplate?ad(e,n,t,[]):Nv(e,n,r,t)}var $r=class{},ff=class{};var cd=class extends $r{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ba(this);constructor(t,e,r,o=!0){super(),this.ngModuleType=t,this._parent=e;let i=zg(t);this._bootstrapComponents=tv(i.bootstrap),this._r3Injector=Rm(t,e,[{provide:$r,useValue:this},{provide:qa,useValue:this.componentFactoryResolver},...r],Ne(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ld=class extends ff{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new cd(this.moduleType,t,[])}};var Ea=class extends $r{injector;componentFactoryResolver=new ba(this);instance=null;constructor(t){super();let e=new Vo([...t.providers,{provide:$r,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],t.parent||Td(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Yo(n,t,e=null){return new Ea({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var K0=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=qg(!1,e.type),o=r.length>0?Yo([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=E({token:n,providedIn:"environment",factory:()=>new n(I(_e))})}return n})();function Ga(n){return zo(()=>{let t=Ov(n),e=j(w({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===$m.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(K0).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||St.Emulated,styles:n.styles||Qe,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Ko("NgStandalone"),kv(e);let r=n.dependencies;return e.directiveDefs=hg(r,!1),e.pipeDefs=hg(r,!0),e.id=eS(e),e})}function Y0(n){return On(n)||rE(n)}function J0(n){return n!==null}function pt(n){return zo(()=>({type:n.type,bootstrap:n.bootstrap||Qe,declarations:n.declarations||Qe,imports:n.imports||Qe,exports:n.exports||Qe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Q0(n,t){if(n==null)return Nn;let e={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Va.None,c=null),e[i]=[r,a,c],t[i]=s}return e}function X0(n){if(n==null)return Nn;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function z(n){return zo(()=>{let t=Ov(n);return kv(t),t})}function hf(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ov(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Nn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Qe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Q0(n.inputs,t),outputs:X0(n.outputs),debugInfo:null}}function kv(n){n.features?.forEach(t=>t(n))}function hg(n,t){if(!n)return null;let e=t?oE:Y0;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(J0)}function eS(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function tS(n){return Object.getPrototypeOf(n.prototype).constructor}function me(n){let t=tS(n.type),e=!0,r=[n];for(;t;){let o;if(bt(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new _(903,!1);o=t.\u0275dir}if(o){if(e){r.push(o);let s=n;s.inputs=_u(n.inputs),s.declaredInputs=_u(n.declaredInputs),s.outputs=_u(n.outputs);let a=o.hostBindings;a&&sS(n,a);let c=o.viewQuery,l=o.contentQueries;if(c&&oS(n,c),l&&iS(n,l),nS(n,o),Pb(n.outputs,o.outputs),bt(o)&&o.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(n),a===me&&(e=!1)}}t=Object.getPrototypeOf(t)}rS(r)}function nS(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function rS(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Lr(o.hostAttrs,e=Lr(e,o.hostAttrs))}}function _u(n){return n===Nn?{}:n===Qe?[]:n}function oS(n,t){let e=n.viewQuery;e?n.viewQuery=(r,o)=>{t(r,o),e(r,o)}:n.viewQuery=t}function iS(n,t){let e=n.contentQueries;e?n.contentQueries=(r,o,i)=>{t(r,o,i),e(r,o,i)}:n.contentQueries=t}function sS(n,t){let e=n.hostBindings;e?n.hostBindings=(r,o)=>{t(r,o),e(r,o)}:n.hostBindings=t}function Pv(n){return pf(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function aS(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function pf(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Wa(n,t,e){return n[t]=e}function cS(n,t){return n[t]}function un(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function Ca(n,t,e,r){let o=un(n,t,e);return un(n,t+1,r)||o}function lS(n,t,e,r,o,i){let s=Ca(n,t,e,r);return Ca(n,t+2,o,i)||s}function uS(n,t,e,r,o,i,s,a,c){let l=t.consts,u=za(t,n,4,s||null,a||null);Od()&&uf(t,e,u,Fr(l,c),nf),u.mergedAttrs=Lr(u.mergedAttrs,u.attrs),jd(t,u);let d=u.tView=Jd(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function dS(n,t,e,r,o,i,s,a,c,l){let u=e+ke,d=t.firstCreatePass?uS(u,t,n,r,o,i,s,a,c):t.data[u];Bn(d,!1);let p=fS(t,n,d,e);Fa()&&$a(t,n,p,d),Kr(p,n);let f=Ev(p,n,p,d);return n[u]=f,Xd(n,f),L0(f,d,n),Na(d)&&Ua(t,n,d),c!=null&&ef(n,d,l),d}function gf(n,t,e,r,o,i,s,a){let c=L(),l=he(),u=Fr(l.consts,i);return dS(c,l,n,t,e,r,o,u,s,a),gf}var fS=hS;function hS(n,t,e,r){return La(!0),t[se].createComment("")}var Fv=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Lv=new b("");var pS=(()=>{class n{static \u0275prov=E({token:n,providedIn:"root",factory:()=>new ud})}return n})(),ud=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}};function zn(n){return!!n&&typeof n.then=="function"}function jv(n){return!!n&&typeof n.subscribe=="function"}var Vv=new b("");function mf(n){return Go([{provide:Vv,multi:!0,useValue:n}])}var Uv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=y(Vv,{optional:!0})??[];injector=y(qe);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let i=Pe(this.injector,o);if(zn(i))e.push(i);else if(jv(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Za=new b("");function gS(){ql(()=>{throw new _(600,!1)})}function mS(n){return n.isBoundToModule}var vS=10;var Un=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(pC);afterRenderManager=y(Km);zonelessEnabled=y(Om);rootEffectScheduler=y(pS);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new X;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(dn).hasPendingTasks.pipe(O(e=>!e));constructor(){y(Jr,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=y(_e);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,o=qe.NULL){W(10);let i=e instanceof Iv;if(!this._injector.get(Uv).done){let f="";throw new _(405,f)}let a;i?a=e:a=this._injector.get(qa).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let c=mS(a)?void 0:this._injector.get($r),l=r||a.selector,u=a.create(o,[],l,c),d=u.location.nativeElement,p=u.injector.get(Lv,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ta(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),W(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){W(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Gd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new _(101,!1);let e=V(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,V(e),this.afterTick.next(),W(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Vr,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<vS;)W(14),this.synchronizeOnce(),W(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)yS(r,o,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Oa(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;ta(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Za,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ta(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new _(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ta(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function yS(n,t,e,r){if(!e&&!Oa(n))return;wv(n,t,e&&!r?0:1)}function Ka(n,t,e,r){let o=L(),i=ka();if(un(o,i,t)){let s=he(),a=Pa();bI(a,o,n,t,e,r)}return Ka}function $v(n,t,e,r){return un(n,ka(),e)?t+Nr(e)+r:ht}function wS(n,t,e,r,o,i){let s=FE(),a=Ca(n,s,e,o);return fm(2),a?t+Nr(e)+r+Nr(o)+i:ht}function Ys(n,t){return n<<17|t<<2}function $n(n){return n>>17&32767}function _S(n){return(n&2)==2}function DS(n,t){return n&131071|t<<17}function dd(n){return n|2}function Br(n){return(n&131068)>>2}function Du(n,t){return n&-131069|t<<2}function bS(n){return(n&1)===1}function fd(n){return n|1}function ES(n,t,e,r,o,i){let s=i?t.classBindings:t.styleBindings,a=$n(s),c=Br(s);n[r]=e;let l=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||qo(d,u)>0)&&(l=!0)}else u=e;if(o)if(c!==0){let p=$n(n[a+1]);n[r+1]=Ys(p,a),p!==0&&(n[p+1]=Du(n[p+1],r)),n[a+1]=DS(n[a+1],r)}else n[r+1]=Ys(a,0),a!==0&&(n[a+1]=Du(n[a+1],r)),a=r;else n[r+1]=Ys(c,0),a===0?a=r:n[c+1]=Du(n[c+1],r),c=r;l&&(n[r+1]=dd(n[r+1])),pg(n,u,r,!0),pg(n,u,r,!1),CS(t,u,n,r,i),s=Ys(a,c),i?t.classBindings=s:t.styleBindings=s}function CS(n,t,e,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof t=="string"&&qo(i,t)>=0&&(e[r+1]=fd(e[r+1]))}function pg(n,t,e,r){let o=n[e+1],i=t===null,s=r?$n(o):Br(o),a=!1;for(;s!==0&&(a===!1||i);){let c=n[s],l=n[s+1];IS(c,t)&&(a=!0,n[s+1]=r?fd(l):dd(l)),s=r?$n(l):Br(l)}a&&(n[e+1]=r?dd(o):fd(o))}function IS(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?qo(n,t)>=0:!1}function Ya(n,t,e){let r=L(),o=ka();if(un(r,o,t)){let i=he(),s=Pa();tf(i,s,r,n,t,r[se],e,!1)}return Ya}function gg(n,t,e,r,o){rf(t,n,e,o?"class":"style",r)}function vf(n,t,e){return Bv(n,t,e,!1),vf}function Ja(n,t){return Bv(n,t,null,!0),Ja}function Bv(n,t,e,r){let o=L(),i=he(),s=fm(2);if(i.firstUpdatePass&&TS(i,n,s,r),t!==ht&&un(o,s,t)){let a=i.data[Hn()];NS(i,a,o,o[se],n,o[s+1]=OS(t,e),r,s)}}function SS(n,t){return t>=n.expandoStartIndex}function TS(n,t,e,r){let o=n.data;if(o[e+1]===null){let i=o[Hn()],s=SS(n,e);kS(i,r)&&t===null&&!s&&(t=!1),t=MS(o,i,t,r),ES(o,i,t,e,s,r)}}function MS(n,t,e,r){let o=$E(n),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(e=bu(null,n,t,e,r),e=Ho(e,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==o)if(e=bu(o,n,t,e,r),i===null){let c=xS(n,t,r);c!==void 0&&Array.isArray(c)&&(c=bu(null,n,t,c[1],r),c=Ho(c,t.attrs,r),AS(n,t,r,c))}else i=RS(n,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),e}function xS(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Br(r)!==0)return n[$n(r)]}function AS(n,t,e,r){let o=e?t.classBindings:t.styleBindings;n[$n(o)]=r}function RS(n,t,e){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=n[i].hostAttrs;r=Ho(r,s,e)}return Ho(r,t.attrs,e)}function bu(n,t,e,r,o){let i=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(i=t[a],r=Ho(r,i.hostAttrs,o),i!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function Ho(n,t,e){let r=e?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),tE(n,s,e?!0:t[++i]))}return n===void 0?null:n}function NS(n,t,e,r,o,i,s,a){if(!(t.type&3))return;let c=n.data,l=c[a+1],u=bS(l)?mg(c,t,e,o,Br(l),s):void 0;if(!Ia(u)){Ia(i)||_S(l)&&(i=mg(c,null,e,o,a,s));let d=nm(Hn(),e);HI(r,s,d,o,i)}}function mg(n,t,e,r,o,i){let s=t===null,a;for(;o>0;){let c=n[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=e[o+1];p===ht&&(p=d?Qe:void 0);let f=d?fu(p,r):u===r?p:void 0;if(l&&!Ia(f)&&(f=fu(c,r)),Ia(f)&&(a=f,s))return a;let g=n[o+1];o=s?$n(g):Br(g)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=fu(c,r))}return a}function Ia(n){return n!==void 0}function OS(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Ne(ja(n)))),n}function kS(n,t){return(n.flags&(t?8:16))!==0}function Jo(n,t,e,r){let o=L(),i=he(),s=ke+n,a=o[se],c=i.firstCreatePass?Mv(s,i,o,t,nf,Od(),e,r):i.data[s],l=PS(i,o,c,a,t,n);o[s]=l;let u=Na(c);return Bn(c,!0),iv(a,l,c),!dv(c)&&Fa()&&$a(i,o,l,c),(ME()===0||u)&&Kr(l,o),xE(),u&&(Ua(i,o,c),Zd(i,c,o)),r!==null&&ef(o,c),Jo}function Qo(){let n=Te();kd()?um():(n=n.parent,Bn(n,!1));let t=n;NE(t)&&OE(),AE();let e=he();return e.firstCreatePass&&xv(e,t),t.classesWithoutHost!=null&&WE(t)&&gg(e,t,L(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ZE(t)&&gg(e,t,L(),t.stylesWithoutHost,!1),Qo}function yf(n,t,e,r){return Jo(n,t,e,r),Qo(),yf}var PS=(n,t,e,r,o,i)=>(La(!0),rv(r,o,zE()));function FS(n,t,e,r,o){let i=t.consts,s=Fr(i,r),a=za(t,n,8,"ng-container",s);s!==null&&ed(a,s,!0);let c=Fr(i,o);return Od()&&uf(t,e,a,c,nf),a.mergedAttrs=Lr(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function LS(n,t,e){let r=L(),o=he(),i=n+ke,s=o.firstCreatePass?FS(i,o,r,t,e):o.data[i];Bn(s,!0);let a=VS(o,r,s,n);return r[i]=a,Fa()&&$a(o,r,a,s),Kr(a,r),Na(s)&&(Ua(o,r,s),Zd(o,s,r)),e!=null&&ef(r,s),LS}function jS(){let n=Te(),t=he();return kd()?um():(n=n.parent,Bn(n,!1)),t.firstCreatePass&&(jd(t,n),Md(n)&&t.queries.elementEnd(n)),jS}var VS=(n,t,e,r)=>(La(!0),aI(t[se],""));function Hv(){return L()}var Tn=void 0;function US(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var $S=["en",[["a","p"],["AM","PM"],Tn],[["AM","PM"],Tn,Tn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tn,"{1} 'at' {0}",Tn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",US],Eu={};function et(n){let t=BS(n),e=vg(t);if(e)return e;let r=t.split("-")[0];if(e=vg(r),e)return e;if(r==="en")return $S;throw new _(701,!1)}function vg(n){return n in Eu||(Eu[n]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[n]),Eu[n]}var ae=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ae||{});function BS(n){return n.toLowerCase().replace(/_/g,"-")}var Sa="en-US";var HS=Sa;function zS(n){typeof n=="string"&&(HS=n.toLowerCase().replace(/_/g,"-"))}function yg(n,t,e){return function r(o){if(o===Function)return e;let i=zr(n)?Ct(n.index,t):t;lf(i,5);let s=t[Oe],a=wg(t,s,e,o),c=r.__ngNextListenerFn__;for(;c;)a=wg(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function wg(n,t,e,r){let o=V(null);try{return W(6,t,e),e(r)!==!1}catch(i){return qS(n,i),!1}finally{W(7,t,e),V(o)}}function qS(n,t){let e=n[kr],r=e?e.get(It,null):null;r&&r.handleError(t)}function _g(n,t,e,r,o,i){let s=t[e],a=t[P],l=a.data[e].outputs[r],u=s[l],d=a.firstCreatePass?Nd(a):null,p=Rd(t),f=u.subscribe(i),g=p.length;p.push(i,f),d&&d.push(o,n.index,g,-(g+1))}function Le(n,t,e,r){let o=L(),i=he(),s=Te();return zv(i,o,o[se],s,n,t,r),Le}function GS(n,t,e,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===e&&o[i+1]===r){let a=t[la],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function zv(n,t,e,r,o,i,s){let a=Na(r),l=n.firstCreatePass?Nd(n):null,u=Rd(t),d=!0;if(r.type&3||s){let p=Mt(r,t),f=s?s(p):p,g=u.length,m=s?D=>s(Et(D[r.index])):r.index,v=null;if(!s&&a&&(v=GS(n,t,o,r.index)),v!==null){let D=v.__ngLastListenerFn__||v;D.__ngNextListenerFn__=i,v.__ngLastListenerFn__=i,d=!1}else{i=yg(r,t,i),PC(t,f,o,i);let D=e.listen(f,o,i);u.push(i,D),l&&l.push(o,m,g,g+1)}}else i=yg(r,t,i);if(d){let p=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let g=0;g<f.length;g+=2){let m=f[g],v=f[g+1];_g(r,t,m,v,o,i)}if(p&&p.length)for(let g of p)_g(r,t,g,o,o,i)}}function wf(n=1){return HE(n)}function WS(n,t,e){return qv(n,"",t,"",e),WS}function qv(n,t,e,r,o){let i=L(),s=$v(i,t,e,r);if(s!==ht){let a=he(),c=Pa();tf(a,c,i,n,s,i[se],o,!1)}return qv}function W1(n,t,e){q0(n,t,e)}function ZS(n){let t=L(),e=he(),r=hm();Pd(r+1);let o=df(e,r);if(n.dirty&&EE(t)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let i=Z0(t,r);n.reset(i,vC),n.notifyOnChanges()}return!0}return!1}function KS(){return H0(L(),hm())}function Z1(n){let t=PE();return xd(t,ke+n)}function _f(n,t=""){let e=L(),r=he(),o=n+ke,i=r.firstCreatePass?za(r,o,1,t,null):r.data[o],s=YS(r,e,i,t,n);e[o]=s,Fa()&&$a(r,e,s,i),Bn(i,!1)}var YS=(n,t,e,r,o)=>(La(!0),iI(t[se],r));function Df(n){return Gv("",n,""),Df}function Gv(n,t,e){let r=L(),o=$v(r,n,t,e);return o!==ht&&Wv(r,Hn(),o),Gv}function JS(n,t,e,r,o){let i=L(),s=wS(i,n,t,e,r,o);return s!==ht&&Wv(i,Hn(),s),JS}function Wv(n,t,e){let r=nm(t,n);sI(n[se],r,e)}function QS(n,t,e){Vm(t)&&(t=t());let r=L(),o=ka();if(un(r,o,t)){let i=he(),s=Pa();tf(i,s,r,n,t,r[se],e,!1)}return QS}function K1(n,t){let e=Vm(n);return e&&n.set(t),e}function XS(n,t){let e=L(),r=he(),o=Te();return zv(r,e,e[se],o,n,t),XS}function eT(n,t,e){let r=he();if(r.firstCreatePass){let o=bt(n);hd(e,r.data,r.blueprint,o,!0),hd(t,r.data,r.blueprint,o,!1)}}function hd(n,t,e,r,o){if(n=Ie(n),Array.isArray(n))for(let i=0;i<n.length;i++)hd(n[i],t,e,r,o);else{let i=he(),s=L(),a=Te(),c=Or(n)?n:Ie(n.provide),l=Zg(n),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Or(n)||!n.multi){let f=new jn(l,o,C),g=Iu(c,t,o?u:u+p,d);g===-1?(Lu(ma(a,s),i,c),Cu(i,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[g]=f,s[g]=f)}else{let f=Iu(c,t,u+p,d),g=Iu(c,t,u,u+p),m=f>=0&&e[f],v=g>=0&&e[g];if(o&&!v||!o&&!m){Lu(ma(a,s),i,c);let D=rT(o?nT:tT,e.length,o,r,l);!o&&v&&(e[g].providerFactory=D),Cu(i,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(D),s.push(D)}else{let D=Zv(e[o?g:f],l,!o&&r);Cu(i,n,f>-1?f:g,D)}!o&&r&&v&&e[g].componentProviders++}}}function Cu(n,t,e,r){let o=Or(t),i=lE(t);if(o||i){let c=(i?Ie(t.useClass):t).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){let u=l.indexOf(e);u===-1?l.push(e,[r,c]):l[u+1].push(r,c)}else l.push(e,c)}}}function Zv(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Iu(n,t,e,r){for(let o=e;o<r;o++)if(t[o]===n)return o;return-1}function tT(n,t,e,r,o){return pd(this.multi,[])}function nT(n,t,e,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=$o(r,r[P],this.providerFactory.index,o);s=c.slice(0,a),pd(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],pd(i,s);return s}function pd(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function rT(n,t,e,r,o){let i=new jn(n,e,C);return i.multi=[],i.index=t,i.componentProviders=0,Zv(i,o,r&&!e),i}function Ge(n,t=[]){return e=>{e.providersResolver=(r,o)=>eT(r,o?o(n):n,t)}}function Y1(n,t,e){let r=Gr()+n,o=L();return o[r]===ht?Wa(o,r,e?t.call(e):t()):cS(o,r)}function J1(n,t,e,r){return Kv(L(),Gr(),n,t,e,r)}function Q1(n,t,e,r,o){return Yv(L(),Gr(),n,t,e,r,o)}function X1(n,t,e,r,o,i,s){return oT(L(),Gr(),n,t,e,r,o,i,s)}function bf(n,t){let e=n[t];return e===ht?void 0:e}function Kv(n,t,e,r,o,i){let s=t+e;return un(n,s,o)?Wa(n,s+1,i?r.call(i,o):r(o)):bf(n,s+1)}function Yv(n,t,e,r,o,i,s){let a=t+e;return Ca(n,a,o,i)?Wa(n,a+2,s?r.call(s,o,i):r(o,i)):bf(n,a+2)}function oT(n,t,e,r,o,i,s,a,c){let l=t+e;return lS(n,l,o,i,s,a)?Wa(n,l+4,c?r.call(c,o,i,s,a):r(o,i,s,a)):bf(n,l+4)}function ej(n,t){let e=he(),r,o=n+ke;e.firstCreatePass?(r=iT(t,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks??=[]).push(o,r.onDestroy)):r=e.data[o];let i=r.factory||(r.factory=Rn(r.type,!0)),s,a=Re(C);try{let c=ga(!1),l=i();return ga(c),bE(e,L(),o,l),l}finally{Re(a)}}function iT(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function tj(n,t,e){let r=n+ke,o=L(),i=xd(o,r);return Jv(o,r)?Kv(o,Gr(),t,i.transform,e,i):i.transform(e)}function nj(n,t,e,r){let o=n+ke,i=L(),s=xd(i,o);return Jv(i,o)?Yv(i,Gr(),t,s.transform,e,r,s):s.transform(e,r)}function Jv(n,t){return n[P].data[t].pure}function rj(n,t){return Ha(n,t)}var gd=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},Qv=(()=>{class n{compileModuleSync(e){return new ld(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),o=zg(e),i=tv(o.declarations).reduce((s,a)=>{let c=On(a);return c&&s.push(new Ur(c)),s},[]);return new gd(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sT=(()=>{class n{zone=y(ie);changeDetectionScheduler=y(jr);applicationRef=y(Un);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aT({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new ie(j(w({},cT()),{scheduleInRootZone:e})),[{provide:ie,useFactory:n},{provide:jo,multi:!0,useFactory:()=>{let r=y(sT,{optional:!0});return()=>r.initialize()}},{provide:jo,multi:!0,useFactory:()=>{let r=y(lT);return()=>{r.initialize()}}},t===!0?{provide:km,useValue:!0}:[],{provide:Pm,useValue:e??Nm}]}function cT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var lT=(()=>{class n{subscription=new ne;initialized=!1;zone=y(ie);pendingTasks=y(dn);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uT=(()=>{class n{appRef=y(Un);taskService=y(dn);ngZone=y(ie);zonelessEnabled=y(Om);tracing=y(Jr,{optional:!0});disableScheduling=y(km,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ya):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(Pm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Bu||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Jp:Fm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ya+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dT(){return typeof $localize<"u"&&$localize.locale||Sa}var Qa=new b("",{providedIn:"root",factory:()=>y(Qa,N.Optional|N.SkipSelf)||dT()});var md=new b(""),fT=new b("");function ko(n){return!n.moduleRef}function hT(n){let t=ko(n)?n.r3Injector:n.moduleRef.injector,e=t.get(ie);return e.run(()=>{ko(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(It,null),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:i=>{r.handleError(i)}})}),ko(n)){let i=()=>t.destroy(),s=n.platformInjector.get(md);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>n.moduleRef.destroy(),s=n.platformInjector.get(md);s.add(i),n.moduleRef.onDestroy(()=>{ta(n.allPlatformModules,n.moduleRef),o.unsubscribe(),s.delete(i)})}return gT(r,e,()=>{let i=t.get(Uv);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(Qa,Sa);if(zS(s||Sa),!t.get(fT,!0))return ko(n)?t.get(Un):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ko(n)){let c=t.get(Un);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return pT(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function pT(n,t){let e=n.injector.get(Un);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new _(-403,!1);t.push(n)}function gT(n,t,e){try{let r=e();return zn(r)?r.catch(o=>{throw t.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var na=null;function mT(n=[],t){return qe.create({name:t,providers:[{provide:Aa,useValue:"platform"},{provide:md,useValue:new Set([()=>na=null])},...n]})}function vT(n=[]){if(na)return na;let t=mT(n);return na=t,gS(),yT(t),t}function yT(n){let t=n.get(zd,null);Pe(n,()=>{t?.forEach(e=>e())})}var qn=(()=>{class n{static __NG_ELEMENT_ID__=wT}return n})();function wT(n){return _T(Te(),L(),(n&16)===16)}function _T(n,t,e){if(zr(n)&&!e){let r=Ct(n.index,t);return new Bo(r,r)}else if(n.type&175){let r=t[Dt];return new Bo(r,t)}return null}var vd=class{constructor(){}supports(t){return Pv(t)}create(t){return new yd(t)}},DT=(n,t)=>t,yd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||DT}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){let s=!r||e&&e.currentIndex<Dg(r,o,i)?e:r,a=Dg(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let p=0;p<l;p++){let f=p<i.length?i[p]:i[p]=0,g=f+p;u<=g&&g<l&&(i[p]=f+1)}let d=s.previousIndex;i[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Pv(t))throw new _(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,i,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)),e=e._next}else o=0,aS(t,a=>{s=this._trackByFn(o,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,o),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,o)):t=this._addAfter(new wd(e,r),i,o)),t}_verifyReinsertion(t,e,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let o=e===null?this._itHead:e._next;return t._next=o,t._prev=e,o===null?this._itTail=t:o._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ta),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},wd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},_d=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Ta=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new _d,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,o=this.map.get(r);return o?o.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Dg(n,t,e){let r=n.previousIndex;if(r===null)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+t+o}var Dd=class{constructor(){}supports(t){return t instanceof Map||pf(t)}create(){return new bd}},bd=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||pf(t)))throw new _(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let i=this._getOrCreateRecordForKey(o,r);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let o=this._records.get(t);this._maybeAddToChanges(o,e);let i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}let r=new Ed(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}},Ed=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function bg(){return new Ef([new vd])}var Ef=(()=>{class n{factories;static \u0275prov=E({token:n,providedIn:"root",factory:bg});constructor(e){this.factories=e}static create(e,r){if(r!=null){let o=r.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||bg()),deps:[[n,new Ug,new Vg]]}}find(e){let r=this.factories.find(o=>o.supports(e));if(r!=null)return r;throw new _(901,!1)}}return n})();function Eg(){return new Xa([new Dd])}var Xa=(()=>{class n{static \u0275prov=E({token:n,providedIn:"root",factory:Eg});factories;constructor(e){this.factories=e}static create(e,r){if(r){let o=r.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Eg()),deps:[[n,new Ug,new Vg]]}}find(e){let r=this.factories.find(o=>o.supports(e));if(r)return r;throw new _(901,!1)}}return n})();function Xv(n){W(8);try{let{rootComponent:t,appProviders:e,platformProviders:r}=n,o=vT(r),i=[aT({}),{provide:jr,useExisting:uT},...e||[]],s=new Ea({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return hT({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(t){return Promise.reject(t)}finally{W(9)}}function Gn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Jt(n){return Zl(n)}function Xo(n,t){return zl(n,t?.equal)}var Cg=class{[Je];constructor(t){this[Je]=t}destroy(){this[Je].destroy()}};function ey(n){let t=On(n);if(!t)return null;let e=new Ur(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var le=new b("");var ry=null;function tt(){return ry}function Cf(n){ry??=n}var ei=class{},ti=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>y(oy),providedIn:"platform"})}return n})(),If=new b(""),oy=(()=>{class n extends ti{_location;_history;_doc=y(le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tt().getBaseHref(this._doc)}onPopState(e){let r=tt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=tt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ec(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function ty(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function gt(n){return n&&n[0]!=="?"?`?${n}`:n}var mt=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>y(nc),providedIn:"root"})}return n})(),tc=new b(""),nc=(()=>{class n extends mt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ec(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+gt(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+gt(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+gt(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(I(ti),I(tc,8))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hn=(()=>{class n{_subject=new X;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=CT(ty(ny(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+gt(r))}normalize(e){return n.stripTrailingSlash(ET(this._basePath,ny(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gt(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=gt;static joinWithSlash=ec;static stripTrailingSlash=ty;static \u0275fac=function(r){return new(r||n)(I(mt))};static \u0275prov=E({token:n,factory:()=>bT(),providedIn:"root"})}return n})();function bT(){return new hn(I(mt))}function ET(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function ny(n){return n.replace(/\/index.html$/,"")}function CT(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Af=(()=>{class n extends mt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=ec(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+gt(i))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+gt(i))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(I(ti),I(tc,8))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();var be=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(be||{}),Z=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Z||{}),je=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(je||{}),Xt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function uy(n){return et(n)[ae.LocaleId]}function dy(n,t,e){let r=et(n),o=[r[ae.DayPeriodsFormat],r[ae.DayPeriodsStandalone]],i=nt(o,t);return nt(i,e)}function fy(n,t,e){let r=et(n),o=[r[ae.DaysFormat],r[ae.DaysStandalone]],i=nt(o,t);return nt(i,e)}function hy(n,t,e){let r=et(n),o=[r[ae.MonthsFormat],r[ae.MonthsStandalone]],i=nt(o,t);return nt(i,e)}function py(n,t){let r=et(n)[ae.Eras];return nt(r,t)}function ni(n,t){let e=et(n);return nt(e[ae.DateFormat],t)}function ri(n,t){let e=et(n);return nt(e[ae.TimeFormat],t)}function oi(n,t){let r=et(n)[ae.DateTimeFormat];return nt(r,t)}function ii(n,t){let e=et(n),r=e[ae.NumberSymbols][t];if(typeof r>"u"){if(t===Xt.CurrencyDecimal)return e[ae.NumberSymbols][Xt.Decimal];if(t===Xt.CurrencyGroup)return e[ae.NumberSymbols][Xt.Group]}return r}function gy(n){if(!n[ae.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ae.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function my(n){let t=et(n);return gy(t),(t[ae.ExtraData][2]||[]).map(r=>typeof r=="string"?Sf(r):[Sf(r[0]),Sf(r[1])])}function vy(n,t,e){let r=et(n);gy(r);let o=[r[ae.ExtraData][0],r[ae.ExtraData][1]],i=nt(o,t)||[];return nt(i,e)||[]}function nt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Sf(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var IT=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rc={},ST=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function yy(n,t,e,r){let o=PT(n);t=Qt(e,t)||t;let s=[],a;for(;t;)if(a=ST.exec(t),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;t=u}else{s.push(t);break}let c=o.getTimezoneOffset();r&&(c=_y(r,c),o=kT(o,r));let l="";return s.forEach(u=>{let d=NT(u);l+=d?d(o,e,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function cc(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Qt(n,t){let e=uy(n);if(rc[e]??={},rc[e][t])return rc[e][t];let r="";switch(t){case"shortDate":r=ni(n,je.Short);break;case"mediumDate":r=ni(n,je.Medium);break;case"longDate":r=ni(n,je.Long);break;case"fullDate":r=ni(n,je.Full);break;case"shortTime":r=ri(n,je.Short);break;case"mediumTime":r=ri(n,je.Medium);break;case"longTime":r=ri(n,je.Long);break;case"fullTime":r=ri(n,je.Full);break;case"short":let o=Qt(n,"shortTime"),i=Qt(n,"shortDate");r=oc(oi(n,je.Short),[o,i]);break;case"medium":let s=Qt(n,"mediumTime"),a=Qt(n,"mediumDate");r=oc(oi(n,je.Medium),[s,a]);break;case"long":let c=Qt(n,"longTime"),l=Qt(n,"longDate");r=oc(oi(n,je.Long),[c,l]);break;case"full":let u=Qt(n,"fullTime"),d=Qt(n,"fullDate");r=oc(oi(n,je.Full),[u,d]);break}return r&&(rc[e][t]=r),r}function oc(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function vt(n,t,e="-",r,o){let i="";(n<0||o&&n<=0)&&(o?n=-n+1:(n=-n,i=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),i+s}function TT(n,t){return vt(n,3).substring(0,t)}function ue(n,t,e=0,r=!1,o=!1){return function(i,s){let a=MT(n,i);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return TT(a,t);let c=ii(s,Xt.MinusSign);return vt(a,t,c,r,o)}}function MT(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Q(n,t,e=be.Format,r=!1){return function(o,i){return xT(o,i,n,t,e,r)}}function xT(n,t,e,r,o,i){switch(e){case 2:return hy(t,o,r)[n.getMonth()];case 1:return fy(t,o,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(i){let l=my(t),u=vy(t,o,r),d=l.findIndex(p=>{if(Array.isArray(p)){let[f,g]=p,m=s>=f.hours&&a>=f.minutes,v=s<g.hours||s===g.hours&&a<g.minutes;if(f.hours<g.hours){if(m&&v)return!0}else if(m||v)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return dy(t,o,r)[s<12?0:1];case 3:return py(t,r)[n.getFullYear()<=0?0:1];default:let c=e;throw new Error(`unexpected translation type ${c}`)}}function ic(n){return function(t,e,r){let o=-1*r,i=ii(e,Xt.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case 0:return(o>=0?"+":"")+vt(s,2,i)+vt(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+vt(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+vt(s,2,i)+":"+vt(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+vt(s,2,i)+":"+vt(Math.abs(o%60),2,i);default:throw new Error(`Unknown zone width "${n}"`)}}}var AT=0,ac=4;function RT(n){let t=cc(n,AT,1).getDay();return cc(n,0,1+(t<=ac?ac:ac+7)-t)}function wy(n){let t=n.getDay(),e=t===0?-3:ac-t;return cc(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Tf(n,t=!1){return function(e,r){let o;if(t){let i=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();o=1+Math.floor((s+i)/7)}else{let i=wy(e),s=RT(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return vt(o,n,ii(r,Xt.MinusSign))}}function sc(n,t=!1){return function(e,r){let i=wy(e).getFullYear();return vt(i,n,ii(r,Xt.MinusSign),t)}}var Mf={};function NT(n){if(Mf[n])return Mf[n];let t;switch(n){case"G":case"GG":case"GGG":t=Q(3,Z.Abbreviated);break;case"GGGG":t=Q(3,Z.Wide);break;case"GGGGG":t=Q(3,Z.Narrow);break;case"y":t=ue(0,1,0,!1,!0);break;case"yy":t=ue(0,2,0,!0,!0);break;case"yyy":t=ue(0,3,0,!1,!0);break;case"yyyy":t=ue(0,4,0,!1,!0);break;case"Y":t=sc(1);break;case"YY":t=sc(2,!0);break;case"YYY":t=sc(3);break;case"YYYY":t=sc(4);break;case"M":case"L":t=ue(1,1,1);break;case"MM":case"LL":t=ue(1,2,1);break;case"MMM":t=Q(2,Z.Abbreviated);break;case"MMMM":t=Q(2,Z.Wide);break;case"MMMMM":t=Q(2,Z.Narrow);break;case"LLL":t=Q(2,Z.Abbreviated,be.Standalone);break;case"LLLL":t=Q(2,Z.Wide,be.Standalone);break;case"LLLLL":t=Q(2,Z.Narrow,be.Standalone);break;case"w":t=Tf(1);break;case"ww":t=Tf(2);break;case"W":t=Tf(1,!0);break;case"d":t=ue(2,1);break;case"dd":t=ue(2,2);break;case"c":case"cc":t=ue(7,1);break;case"ccc":t=Q(1,Z.Abbreviated,be.Standalone);break;case"cccc":t=Q(1,Z.Wide,be.Standalone);break;case"ccccc":t=Q(1,Z.Narrow,be.Standalone);break;case"cccccc":t=Q(1,Z.Short,be.Standalone);break;case"E":case"EE":case"EEE":t=Q(1,Z.Abbreviated);break;case"EEEE":t=Q(1,Z.Wide);break;case"EEEEE":t=Q(1,Z.Narrow);break;case"EEEEEE":t=Q(1,Z.Short);break;case"a":case"aa":case"aaa":t=Q(0,Z.Abbreviated);break;case"aaaa":t=Q(0,Z.Wide);break;case"aaaaa":t=Q(0,Z.Narrow);break;case"b":case"bb":case"bbb":t=Q(0,Z.Abbreviated,be.Standalone,!0);break;case"bbbb":t=Q(0,Z.Wide,be.Standalone,!0);break;case"bbbbb":t=Q(0,Z.Narrow,be.Standalone,!0);break;case"B":case"BB":case"BBB":t=Q(0,Z.Abbreviated,be.Format,!0);break;case"BBBB":t=Q(0,Z.Wide,be.Format,!0);break;case"BBBBB":t=Q(0,Z.Narrow,be.Format,!0);break;case"h":t=ue(3,1,-12);break;case"hh":t=ue(3,2,-12);break;case"H":t=ue(3,1);break;case"HH":t=ue(3,2);break;case"m":t=ue(4,1);break;case"mm":t=ue(4,2);break;case"s":t=ue(5,1);break;case"ss":t=ue(5,2);break;case"S":t=ue(6,1);break;case"SS":t=ue(6,2);break;case"SSS":t=ue(6,3);break;case"Z":case"ZZ":case"ZZZ":t=ic(0);break;case"ZZZZZ":t=ic(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ic(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=ic(2);break;default:return null}return Mf[n]=t,t}function _y(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function OT(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function kT(n,t,e){let o=n.getTimezoneOffset(),i=_y(t,o);return OT(n,-1*(i-o))}function PT(n){if(iy(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[o,i=1,s=1]=n.split("-").map(a=>+a);return cc(o,i-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(IT))return FT(r)}let t=new Date(n);if(!iy(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function FT(n){let t=new Date(0),e=0,r=0,o=n[8]?t.setUTCFullYear:t.setFullYear,i=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return i.call(t,s,a,c,l),t}function iy(n){return n instanceof Date&&!isNaN(n.valueOf())}var xf=/\s+/,sy=[],Rf=(()=>{class n{_ngEl;_renderer;initialClasses=sy;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(xf):sy}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(xf):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let o=this.stateMap.get(e);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],o=e[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(xf).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||n)(C(ge),C(Fe))};static \u0275dir=z({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var lc=class{$implicit;ngForOf;index;count;constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dy=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new lc(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),ay(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);ay(i,o)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(C(fn),C(Vn),C(Ef))};static \u0275dir=z({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function ay(n,t){n.context.$implicit=t.item}var Nf=(()=>{class n{_viewContainer;_context=new uc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){cy(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){cy(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(C(fn),C(Vn))};static \u0275dir=z({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),uc=class{$implicit=null;ngIf=null};function cy(n,t){if(n&&!n.createEmbeddedView)throw new _(2020,!1)}var LT=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,o){this._ngEl=e,this._differs=r,this._renderer=o}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[o,i]=e.split("."),s=o.indexOf("-")===-1?void 0:Tt.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,i?`${r}${i}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,o,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(C(ge),C(Xa),C(Fe))};static \u0275dir=z({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function jT(n,t){return new _(2100,!1)}var VT="mediumDate",by=new b(""),Ey=new b(""),UT=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,o){this.locale=e,this.defaultTimezone=r,this.defaultOptions=o}transform(e,r,o,i){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??VT,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return yy(e,s,i||this.locale,a)}catch(s){throw jT(n,s.message)}}static \u0275fac=function(r){return new(r||n)(C(Qa,16),C(by,24),C(Ey,24))};static \u0275pipe=hf({name:"date",type:n,pure:!0})}return n})();function $T(n,t){return{key:n,value:t}}var BT=(()=>{class n{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=ly;transform(e,r=ly){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let o=this.differ.diff(e),i=r!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(s=>{this.keyValues.push($T(s.key,s.currentValue))})),(o||i)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||n)(C(Xa,16))};static \u0275pipe=hf({name:"keyvalue",type:n,pure:!1})}return n})();function ly(n,t){let e=n.key,r=t.key;if(e===r)return 0;if(e==null)return 1;if(r==null)return-1;if(typeof e=="string"&&typeof r=="string")return e<r?-1:1;if(typeof e=="number"&&typeof r=="number")return e-r;if(typeof e=="boolean"&&typeof r=="boolean")return e<r?-1:1;let o=String(e),i=String(r);return o==i?0:o<i?-1:1}var Cy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pt({type:n});static \u0275inj=ut({})}return n})();function si(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[o,i]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Of="browser",Iy="server";function dc(n){return n===Iy}var Wn=class{};var Sy=(()=>{class n{static \u0275prov=E({token:n,providedIn:"root",factory:()=>new kf(y(le),window)})}return n})(),kf=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=zT(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function zT(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var pc=new b(""),jf=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,o,i){return this._findPluginFor(r).addEventListener(e,r,o,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new _(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(I(pc),I(ie))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),ai=class{_doc;constructor(t){this._doc=t}manager},fc="ng-app-id";function Ty(n){for(let t of n)t.remove()}function My(n,t){let e=t.createElement("style");return e.textContent=n,e}function GT(n,t,e,r){let o=n.head?.querySelectorAll(`style[${fc}="${t}"],link[${fc}="${t}"]`);if(o)for(let i of o)i.removeAttribute(fc),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function Ff(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Vf=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,o,i={}){this.doc=e,this.appId=r,this.nonce=o,this.isServer=dc(i),GT(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let o of e)this.addUsage(o,this.inline,My);r?.forEach(o=>this.addUsage(o,this.external,Ff))}removeStyles(e,r){for(let o of e)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,r,o){let i=r.get(e);i?i.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,r){let o=r.get(e);o&&(o.usage--,o.usage<=0&&(Ty(o.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Ty(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(e,My(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(e,Ff(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(fc,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(I(le),I(Hd),I(qd,8),I(Yr))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Pf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uf=/%COMP%/g;var Ay="%COMP%",WT=`_nghost-${Ay}`,ZT=`_ngcontent-${Ay}`,KT=!0,YT=new b("",{providedIn:"root",factory:()=>KT});function JT(n){return ZT.replace(Uf,n)}function QT(n){return WT.replace(Uf,n)}function Ry(n,t){return t.map(e=>e.replace(Uf,n))}var $f=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,o,i,s,a,c,l=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=dc(a),this.defaultRenderer=new ci(e,s,c,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===St.ShadowDom&&(r=j(w({},r),{encapsulation:St.Emulated}));let o=this.getOrCreateRenderer(e,r);return o instanceof hc?o.applyToHost(e):o instanceof li&&o.applyStyles(),o}getOrCreateRenderer(e,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case St.Emulated:i=new hc(c,l,r,this.appId,u,s,a,d,p);break;case St.ShadowDom:return new Lf(c,l,e,r,s,a,this.nonce,d,p);default:i=new li(c,l,r,u,s,a,d,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(I(jf),I(Vf),I(Hd),I(YT),I(le),I(Yr),I(ie),I(qd),I(Jr,8))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),ci=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,o,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Pf[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(xy(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(xy(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new _(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;let i=Pf[o];i?t.setAttributeNS(i,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let o=Pf[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(Tt.DashCase|Tt.Important)?t.style.setProperty(e,r,o&Tt.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Tt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,o){if(typeof t=="string"&&(t=tt().getGlobalEventTarget(this.doc,t),!t))throw new _(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,e,i)),this.eventManager.addEventListener(t,e,i,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function xy(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Lf=class extends ci{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,o,i,s,a,c,l){super(t,i,s,c,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=Ry(o.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let p of d){let f=Ff(p,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},li=class extends ci{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,o,i,s,a,c,l){super(t,i,s,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?Ry(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},hc=class extends li{contentAttr;hostAttr;constructor(t,e,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(t,e,r,i,s,a,c,l,u),this.contentAttr=JT(u),this.hostAttr=QT(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var gc=class n extends ei{supportsDOMEvents=!0;static makeCurrent(){Cf(new n)}onAndCancel(t,e,r,o){return t.addEventListener(e,r,o),()=>{t.removeEventListener(e,r,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=XT();return e==null?null:eM(e)}resetBaseElement(){ui=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return si(document.cookie,t)}},ui=null;function XT(){return ui=ui||document.head.querySelector("base"),ui?ui.getAttribute("href"):null}function eM(n){return new URL(n,document.baseURI).pathname}var tM=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Oy=(()=>{class n extends ai{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o,i){return e.addEventListener(r,o,i),()=>this.removeEventListener(e,r,o,i)}removeEventListener(e,r,o,i){return e.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(I(le))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Ny=["alt","control","meta","shift"],nM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rM={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ky=(()=>{class n extends ai{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,o,i){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tt().onAndCancel(e,s.domEventName,a,i))}static parseEventName(e){let r=e.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ny.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let o=nM[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Ny.forEach(s=>{if(s!==o){let a=rM[s];a(e)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{n.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(I(le))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();function oM(n,t){return Xv(w({rootComponent:n},iM(t)))}function iM(n){return{appProviders:[...uM,...n?.providers??[]],platformProviders:lM}}function sM(){gc.makeCurrent()}function aM(){return new It}function cM(){return Gm(document),document}var lM=[{provide:Yr,useValue:Of},{provide:zd,useValue:sM,multi:!0},{provide:le,useFactory:cM}];var uM=[{provide:Aa,useValue:"root"},{provide:It,useFactory:aM},{provide:pc,useClass:Oy,multi:!0,deps:[le]},{provide:pc,useClass:ky,multi:!0,deps:[le]},$f,Vf,jf,{provide:Vr,useExisting:$f},{provide:Wn,useClass:tM},[]];var Xr=class{},di=class{},pn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let o=e.slice(0,r),i=e.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let o=(t.op==="a"?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":let i=t.value;if(!i)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var vc=class{encodeKey(t){return Py(t)}encodeValue(t){return Py(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function dM(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var fM=/%(\d[a-f0-9])/gi,hM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Py(n){return encodeURIComponent(n).replace(fM,(t,e)=>hM[e]??t)}function mc(n){return`${n}`}var en=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new vc,t.fromString){if(t.fromObject)throw new _(2805,!1);this.map=dM(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],o=Array.isArray(r)?r.map(mc):[mc(r)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(mc(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(mc(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var yc=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function pM(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Fy(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ly(n){return typeof Blob<"u"&&n instanceof Blob}function jy(n){return typeof FormData<"u"&&n instanceof FormData}function gM(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Vy="Content-Type",Uy="Accept",$y="X-Request-URL",By="text/plain",Hy="application/json",mM=`${Hy}, ${By}, */*`,Qr=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,o){this.url=e,this.method=t.toUpperCase();let i;if(pM(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new pn,this.context??=new yc,!this.params)this.params=new en,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Fy(this.body)||Ly(this.body)||jy(this.body)||gM(this.body)?this.body:this.body instanceof en?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||jy(this.body)?null:Ly(this.body)?this.body.type||null:Fy(this.body)?null:typeof this.body=="string"?By:this.body instanceof en?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Hy:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,l=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((p,f)=>p.set(f,t.setHeaders[f]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((p,f)=>p.set(f,t.setParams[f]),u)),new n(e,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:o,withCredentials:a,transferCache:i})}},Zn=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Zn||{}),eo=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new pn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},wc=class n extends eo{constructor(t={}){super(t)}type=Zn.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},fi=class n extends eo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Zn.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},hi=class extends eo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},vM=200,yM=204;function Bf(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var zy=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof Qr)i=e;else{let c;o.headers instanceof pn?c=o.headers:c=new pn(o.headers);let l;o.params&&(o.params instanceof en?l=o.params:l=new en({fromObject:o.params})),i=new Qr(e,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=T(i).pipe(wt(c=>this.handler.handle(c)));if(e instanceof Qr||o.observe==="events")return s;let a=s.pipe(Ce(c=>c instanceof fi));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(O(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new _(2806,!1);return c.body}));case"blob":return a.pipe(O(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new _(2807,!1);return c.body}));case"text":return a.pipe(O(c=>{if(c.body!==null&&typeof c.body!="string")throw new _(2808,!1);return c.body}));case"json":default:return a.pipe(O(c=>c.body))}case"response":return a;default:throw new _(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new en().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Bf(o,r))}post(e,r,o={}){return this.request("POST",e,Bf(o,r))}put(e,r,o={}){return this.request("PUT",e,Bf(o,r))}static \u0275fac=function(r){return new(r||n)(I(Xr))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();var wM=new b("");function _M(n,t){return t(n)}function DM(n,t,e){return(r,o)=>Pe(e,()=>t(r,i=>n(i,o)))}var bM=new b(""),qy=new b(""),Gy=new b(""),Wy=new b("",{providedIn:"root",factory:()=>!0});var _c=(()=>{class n extends Xr{backend;injector;chain=null;pendingTasks=y(dn);contributeToStability=y(Wy);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(qy),...this.injector.get(Gy,[])]));this.chain=r.reduceRight((o,i)=>DM(o,i,this.injector),_M)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(an(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(I(di),I(_e))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();var EM=/^\)\]\}',?\n/,CM=RegExp(`^${$y}:`,"m");function IM(n){return"responseURL"in n&&n.responseURL?n.responseURL:CM.test(n.getAllResponseHeaders())?n.getResponseHeader($y):null}var Hf=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new _(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?J(r.\u0275loadImpl()):T(null)).pipe(Ae(()=>new B(i=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((m,v)=>s.setRequestHeader(m,v.join(","))),e.headers.has(Uy)||s.setRequestHeader(Uy,mM),!e.headers.has(Vy)){let m=e.detectContentTypeHeader();m!==null&&s.setRequestHeader(Vy,m)}if(e.responseType){let m=e.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=e.serializeBody(),c=null,l=()=>{if(c!==null)return c;let m=s.statusText||"OK",v=new pn(s.getAllResponseHeaders()),D=IM(s)||e.url;return c=new wc({headers:v,status:s.status,statusText:m,url:D}),c},u=()=>{let{headers:m,status:v,statusText:D,url:G}=l(),H=null;v!==yM&&(H=typeof s.response>"u"?s.responseText:s.response),v===0&&(v=H?vM:0);let S=v>=200&&v<300;if(e.responseType==="json"&&typeof H=="string"){let K=H;H=H.replace(EM,"");try{H=H!==""?JSON.parse(H):null}catch($e){H=K,S&&(S=!1,H={error:$e,text:H})}}S?(i.next(new fi({body:H,headers:m,status:v,statusText:D,url:G||void 0})),i.complete()):i.error(new hi({error:H,headers:m,status:v,statusText:D,url:G||void 0}))},d=m=>{let{url:v}=l(),D=new hi({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:v||void 0});i.error(D)},p=!1,f=m=>{p||(i.next(l()),p=!0);let v={type:Zn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(v.total=m.total),e.responseType==="text"&&s.responseText&&(v.partialText=s.responseText),i.next(v)},g=m=>{let v={type:Zn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(v.total=m.total),i.next(v)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),i.next({type:Zn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),e.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(I(Wn))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Zy=new b(""),SM="XSRF-TOKEN",TM=new b("",{providedIn:"root",factory:()=>SM}),MM="X-XSRF-TOKEN",xM=new b("",{providedIn:"root",factory:()=>MM}),pi=class{},AM=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=si(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(I(le),I(TM))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();function RM(n,t){let e=n.url.toLowerCase();if(!y(Zy)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=y(pi).getToken(),o=y(xM);return r!=null&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),t(n)}function NM(...n){let t=[zy,Hf,_c,{provide:Xr,useExisting:_c},{provide:di,useFactory:()=>y(wM,{optional:!0})??y(Hf)},{provide:qy,useValue:RM,multi:!0},{provide:Zy,useValue:!0},{provide:pi,useClass:AM}];for(let e of n)t.push(...e.\u0275providers);return Go(t)}var Ky=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(I(le))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sw=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(C(Fe),C(ge))};static \u0275dir=z({type:n})}return n})(),Kn=(()=>{class n extends sw{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ft(n)))(o||n)}})();static \u0275dir=z({type:n,features:[me]})}return n})(),tn=new b(""),kM={provide:tn,useExisting:Se(()=>PM),multi:!0},PM=(()=>{class n extends Kn{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ft(n)))(o||n)}})();static \u0275dir=z({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&Le("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Ge([kM]),me]})}return n})(),FM={provide:tn,useExisting:Se(()=>aw),multi:!0};function LM(){let n=tt()?tt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var jM=new b(""),aw=(()=>{class n extends sw{_compositionMode;_composing=!1;constructor(e,r,o){super(e,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!LM())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(C(Fe),C(ge),C(jM,8))};static \u0275dir=z({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Le("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Ge([FM]),me]})}return n})();function Yf(n){return n==null||Jf(n)===0}function Jf(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var _i=new b(""),Di=new b(""),VM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Yy=class{static min(t){return UM(t)}static max(t){return $M(t)}static required(t){return BM(t)}static requiredTrue(t){return HM(t)}static email(t){return zM(t)}static minLength(t){return qM(t)}static maxLength(t){return GM(t)}static pattern(t){return WM(t)}static nullValidator(t){return cw()}static compose(t){return pw(t)}static composeAsync(t){return mw(t)}};function UM(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function $M(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function BM(n){return Yf(n.value)?{required:!0}:null}function HM(n){return n.value===!0?null:{required:!0}}function zM(n){return Yf(n.value)||VM.test(n.value)?null:{email:!0}}function qM(n){return t=>{let e=t.value?.length??Jf(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function GM(n){return t=>{let e=t.value?.length??Jf(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function WM(n){if(!n)return cw;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Yf(r.value))return null;let o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function cw(n){return null}function lw(n){return n!=null}function uw(n){return zn(n)?J(n):n}function dw(n){let t={};return n.forEach(e=>{t=e!=null?w(w({},t),e):t}),Object.keys(t).length===0?null:t}function fw(n,t){return t.map(e=>e(n))}function ZM(n){return!n.validate}function hw(n){return n.map(t=>ZM(t)?t:e=>t.validate(e))}function pw(n){if(!n)return null;let t=n.filter(lw);return t.length==0?null:function(e){return dw(fw(e,t))}}function gw(n){return n!=null?pw(hw(n)):null}function mw(n){if(!n)return null;let t=n.filter(lw);return t.length==0?null:function(e){let r=fw(e,t).map(uw);return su(r).pipe(O(dw))}}function vw(n){return n!=null?mw(hw(n)):null}function Jy(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function yw(n){return n._rawValidators}function ww(n){return n._rawAsyncValidators}function zf(n){return n?Array.isArray(n)?n:[n]:[]}function bc(n,t){return Array.isArray(n)?n.includes(t):n===t}function Qy(n,t){let e=zf(t);return zf(n).forEach(o=>{bc(e,o)||e.push(o)}),e}function Xy(n,t){return zf(t).filter(e=>!bc(n,e))}var Ec=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=gw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Ze=class extends Ec{name;get formDirective(){return null}get path(){return null}},gn=class extends Ec{_parent=null;name=null;valueAccessor=null},Cc=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},KM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},t$=j(w({},KM),{"[class.ng-submitted]":"isSubmitted"}),n$=(()=>{class n extends Cc{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(C(gn,2))};static \u0275dir=z({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ja("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[me]})}return n})(),r$=(()=>{class n extends Cc{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(C(Ze,10))};static \u0275dir=z({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ja("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[me]})}return n})();var gi="VALID",Dc="INVALID",to="PENDING",mi="DISABLED",mn=class{},Ic=class extends mn{value;source;constructor(t,e){super(),this.value=t,this.source=e}},vi=class extends mn{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},yi=class extends mn{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},no=class extends mn{status;source;constructor(t,e){super(),this.status=t,this.source=e}},qf=class extends mn{source;constructor(t){super(),this.source=t}},Gf=class extends mn{source;constructor(t){super(),this.source=t}};function Qf(n){return(xc(n)?n.validators:n)||null}function YM(n){return Array.isArray(n)?gw(n):n||null}function Xf(n,t){return(xc(t)?t.asyncValidators:n)||null}function JM(n){return Array.isArray(n)?vw(n):n||null}function xc(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function _w(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new _(1e3,"");if(!r[e])throw new _(1001,"")}function Dw(n,t,e){n._forEachChild((r,o)=>{if(e[o]===void 0)throw new _(1002,"")})}var ro=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Jt(this.statusReactive)}set status(t){Jt(()=>this.statusReactive.set(t))}_status=Xo(()=>this.statusReactive());statusReactive=Zo(void 0);get valid(){return this.status===gi}get invalid(){return this.status===Dc}get pending(){return this.status==to}get disabled(){return this.status===mi}get enabled(){return this.status!==mi}errors;get pristine(){return Jt(this.pristineReactive)}set pristine(t){Jt(()=>this.pristineReactive.set(t))}_pristine=Xo(()=>this.pristineReactive());pristineReactive=Zo(!0);get dirty(){return!this.pristine}get touched(){return Jt(this.touchedReactive)}set touched(t){Jt(()=>this.touchedReactive.set(t))}_touched=Xo(()=>this.touchedReactive());touchedReactive=Zo(!1);get untouched(){return!this.touched}_events=new X;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Qy(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Qy(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Xy(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Xy(t,this._rawAsyncValidators))}hasValidator(t){return bc(this._rawValidators,t)}hasAsyncValidator(t){return bc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(j(w({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new yi(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new yi(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(j(w({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new vi(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new vi(!0,r))}markAsPending(t={}){this.status=to;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new no(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(j(w({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=mi,this.errors=null,this._forEachChild(o=>{o.disable(j(w({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ic(this.value,r)),this._events.next(new no(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(w({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=gi,this._forEachChild(r=>{r.enable(j(w({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(j(w({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gi||this.status===to)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ic(this.value,e)),this._events.next(new no(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(j(w({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mi:gi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=to,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=uw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new no(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?mi:this.errors?Dc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(to)?to:this._anyControlsHaveStatus(Dc)?Dc:gi}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new vi(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new yi(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=YM(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=JM(this._rawAsyncValidators)}},Sc=class extends ro{constructor(t,e,r){super(Qf(e),Xf(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Dw(this,!0,t),Object.keys(t).forEach(r=>{_w(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Wf=class extends Sc{};var bi=new b("",{providedIn:"root",factory:()=>Ei}),Ei="always";function Ac(n,t){return[...t.path,n]}function Zf(n,t,e=Ei){eh(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),XM(n,t),tx(n,t),ex(n,t),QM(n,t)}function ew(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Mc(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Tc(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function QM(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function eh(n,t){let e=yw(n);t.validator!==null?n.setValidators(Jy(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=ww(n);t.asyncValidator!==null?n.setAsyncValidators(Jy(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();Tc(t._rawValidators,o),Tc(t._rawAsyncValidators,o)}function Mc(n,t){let e=!1;if(n!==null){if(t.validator!==null){let o=yw(n);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==t.validator);i.length!==o.length&&(e=!0,n.setValidators(i))}}if(t.asyncValidator!==null){let o=ww(n);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(e=!0,n.setAsyncValidators(i))}}}let r=()=>{};return Tc(t._rawValidators,r),Tc(t._rawAsyncValidators,r),e}function XM(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&bw(n,t)})}function ex(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&bw(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function bw(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tx(n,t){let e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function nx(n,t){n==null,eh(n,t)}function rx(n,t){return Mc(n,t)}function Ew(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function ox(n){return Object.getPrototypeOf(n.constructor)===Kn}function ix(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Cw(n,t){if(!t)return null;Array.isArray(t);let e,r,o;return t.forEach(i=>{i.constructor===aw?e=i:ox(i)?r=i:o=i}),o||r||e||null}function sx(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function tw(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function nw(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var wi=class extends ro{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(Qf(e),Xf(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(nw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){tw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){tw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){nw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var ax=n=>n instanceof wi,cx=(()=>{class n extends Ze{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ac(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ft(n)))(o||n)}})();static \u0275dir=z({type:n,standalone:!1,features:[me]})}return n})();var lx={provide:gn,useExisting:Se(()=>ux)},rw=Promise.resolve(),ux=(()=>{class n extends gn{_changeDetectorRef;callSetDisabledState;control=new wi;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ce;constructor(e,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Cw(this,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Ew(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Zf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){rw.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,o=r!==0&&Gn(r);rw.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Ac(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(C(Ze,9),C(_i,10),C(Di,10),C(tn,10),C(qn,8),C(bi,8))};static \u0275dir=z({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ge([lx]),me,Yt]})}return n})();var i$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=z({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),dx={provide:tn,useExisting:Se(()=>fx),multi:!0},fx=(()=>{class n extends Kn{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ft(n)))(o||n)}})();static \u0275dir=z({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&Le("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Ge([dx]),me]})}return n})(),hx={provide:tn,useExisting:Se(()=>gx),multi:!0};var px=(()=>{class n{_accessors=[];add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e){this._accessors.splice(r,1);return}}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return e[0].control?e[0]._parent===r._control._parent&&e[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gx=(()=>{class n extends Kn{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=y(bi,{optional:!0})??Ei;constructor(e,r,o,i){super(e,r),this._registry=o,this._injector=i}ngOnInit(){this._control=this._injector.get(gn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(C(Fe),C(ge),C(px),C(qe))};static \u0275dir=z({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,o){r&1&&Le("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Ge([hx]),me]})}return n})(),mx={provide:tn,useExisting:Se(()=>vx),multi:!0},vx=(()=>{class n extends Kn{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ft(n)))(o||n)}})();static \u0275dir=z({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,o){r&1&&Le("change",function(s){return o.onChange(s.target.value)})("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Ge([mx]),me]})}return n})(),Iw=new b("");var yx={provide:Ze,useExisting:Se(()=>Sw)},Sw=(()=>{class n extends Ze{callSetDisabledState;get submitted(){return Jt(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Xo(()=>this._submittedReactive());_submittedReactive=Zo(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ce;constructor(e,r,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Zf(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){ew(e.control||null,e,!1),sx(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),ix(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new qf(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Gf(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,o=this.form.get(e.path);r!==o&&(ew(r||null,e),ax(o)&&(Zf(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);nx(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&rx(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eh(this.form,this),this._oldForm&&Mc(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(C(_i,10),C(Di,10),C(bi,8))};static \u0275dir=z({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&Le("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ge([yx]),me,Yt]})}return n})(),wx={provide:Ze,useExisting:Se(()=>Tw)},Tw=(()=>{class n extends cx{name=null;constructor(e,r,o){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(o)}_checkParentType(){xw(this._parent)}static \u0275fac=function(r){return new(r||n)(C(Ze,13),C(_i,10),C(Di,10))};static \u0275dir=z({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Ge([wx]),me]})}return n})(),_x={provide:Ze,useExisting:Se(()=>Mw)},Mw=(()=>{class n extends Ze{_parent;name=null;constructor(e,r,o){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(o)}ngOnInit(){xw(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ac(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(C(Ze,13),C(_i,10),C(Di,10))};static \u0275dir=z({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Ge([_x]),me]})}return n})();function xw(n){return!(n instanceof Tw)&&!(n instanceof Sw)&&!(n instanceof Mw)}var Dx={provide:gn,useExisting:Se(()=>bx)},bx=(()=>{class n extends gn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ce;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Cw(this,i)}ngOnChanges(e){this._added||this._setUpControl(),Ew(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Ac(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(C(Ze,13),C(_i,10),C(Di,10),C(tn,10),C(Iw,8))};static \u0275dir=z({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ge([Dx]),me,Yt]})}return n})();var Ex={provide:tn,useExisting:Se(()=>Rw),multi:!0};function Aw(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Cx(n){return n.split(":")[0]}var Rw=(()=>{class n extends Kn{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),o=Aw(r,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=Cx(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ft(n)))(o||n)}})();static \u0275dir=z({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&Le("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ge([Ex]),me]})}return n})(),s$=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Aw(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(C(ge),C(Fe),C(Rw,9))};static \u0275dir=z({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Ix={provide:tn,useExisting:Se(()=>Nw),multi:!0};function ow(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Sx(n){return n.split(":")[0]}var Nw=(()=>{class n extends Kn{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let o=e.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);o.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,e(o)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=Sx(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ft(n)))(o||n)}})();static \u0275dir=z({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&Le("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ge([Ix]),me]})}return n})(),a$=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(ow(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ow(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(C(ge),C(Fe),C(Nw,9))};static \u0275dir=z({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var Ow=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pt({type:n});static \u0275inj=ut({})}return n})(),Kf=class extends ro{constructor(t,e,r){super(Qf(e),Xf(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Dw(this,!1,t),t.forEach((r,o)=>{_w(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function iw(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var c$=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let o=this._reduceControls(e),i={};return iw(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new Sc(o,i)}record(e,r=null){let o=this._reduceControls(e);return new Wf(o,r)}control(e,r,o){let i={};return this.useNonNullable?(iw(r)?i=r:(i.validators=r,i.asyncValidators=o),new wi(e,j(w({},i),{nonNullable:!0}))):new wi(e,r,o)}array(e,r,o){let i=e.map(s=>this._createControl(s));return new Kf(i,r,o)}_reduceControls(e){let r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){if(e instanceof wi)return e;if(e instanceof ro)return e;if(Array.isArray(e)){let r=e[0],o=e.length>1?e[1]:null,i=e.length>2?e[2]:null;return this.control(r,o,i)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var l$=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:bi,useValue:e.callSetDisabledState??Ei}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=pt({type:n});static \u0275inj=ut({imports:[Ow]})}return n})(),u$=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Iw,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:bi,useValue:e.callSetDisabledState??Ei}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=pt({type:n});static \u0275inj=ut({imports:[Ow]})}return n})();var R="primary",Fi=Symbol("RouteTitle"),ih=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Qn(n){return new ih(n)}function $w(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Tx(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!xt(n[e],t[e]))return!1;return!0}function xt(n,t){let e=n?sh(n):void 0,r=t?sh(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Bw(n[o],t[o]))return!1;return!0}function sh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Bw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((o,i)=>r[i]===o)}else return n===t}function Hw(n){return n.length>0?n[n.length-1]:null}function Dn(n){return iu(n)?n:zn(n)?J(Promise.resolve(n)):T(n)}var Mx={exact:qw,subset:Gw},zw={exact:xx,subset:Ax,ignored:()=>!0};function kw(n,t,e){return Mx[e.paths](n.root,t.root,e.matrixParams)&&zw[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function xx(n,t){return xt(n,t)}function qw(n,t,e){if(!Yn(n.segments,t.segments)||!Oc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!qw(n.children[r],t.children[r],e))return!1;return!0}function Ax(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Bw(n[e],t[e]))}function Gw(n,t,e){return Ww(n,t,t.segments,e)}function Ww(n,t,e,r){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!Yn(o,e)||t.hasChildren()||!Oc(o,e,r))}else if(n.segments.length===e.length){if(!Yn(n.segments,e)||!Oc(n.segments,e,r))return!1;for(let o in t.children)if(!n.children[o]||!Gw(n.children[o],t.children[o],r))return!1;return!0}else{let o=e.slice(0,n.segments.length),i=e.slice(n.segments.length);return!Yn(n.segments,o)||!Oc(n.segments,o,r)||!n.children[R]?!1:Ww(n.children[R],t,i,r)}}function Oc(n,t,e){return t.every((r,o)=>zw[e](n[o].parameters,r.parameters))}var Rt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new q([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qn(this.queryParams),this._queryParamMap}toString(){return Ox.serialize(this)}},q=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kc(this)}},vn=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Qn(this.parameters),this._parameterMap}toString(){return Kw(this)}};function Rx(n,t){return Yn(n,t)&&n.every((e,r)=>xt(e.parameters,t[r].parameters))}function Yn(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function Nx(n,t){let e=[];return Object.entries(n.children).forEach(([r,o])=>{r===R&&(e=e.concat(t(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==R&&(e=e.concat(t(o,r)))}),e}var Xn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>new yn,providedIn:"root"})}return n})(),yn=class{parse(t){let e=new ch(t);return new Rt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Ci(t.root,!0)}`,r=Fx(t.queryParams),o=typeof t.fragment=="string"?`#${kx(t.fragment)}`:"";return`${e}${r}${o}`}},Ox=new yn;function kc(n){return n.segments.map(t=>Kw(t)).join("/")}function Ci(n,t){if(!n.hasChildren())return kc(n);if(t){let e=n.children[R]?Ci(n.children[R],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==R&&r.push(`${o}:${Ci(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=Nx(n,(r,o)=>o===R?[Ci(n.children[R],!1)]:[`${o}:${Ci(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[R]!=null?`${kc(n)}/${e[0]}`:`${kc(n)}/(${e.join("//")})`}}function Zw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rc(n){return Zw(n).replace(/%3B/gi,";")}function kx(n){return encodeURI(n)}function ah(n){return Zw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pc(n){return decodeURIComponent(n)}function Pw(n){return Pc(n.replace(/\+/g,"%20"))}function Kw(n){return`${ah(n.path)}${Px(n.parameters)}`}function Px(n){return Object.entries(n).map(([t,e])=>`;${ah(t)}=${ah(e)}`).join("")}function Fx(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(o=>`${Rc(e)}=${Rc(o)}`).join("&"):`${Rc(e)}=${Rc(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Lx=/^[^\/()?;#]+/;function th(n){let t=n.match(Lx);return t?t[0]:""}var jx=/^[^\/()?;=#]+/;function Vx(n){let t=n.match(jx);return t?t[0]:""}var Ux=/^[^=?&#]+/;function $x(n){let t=n.match(Ux);return t?t[0]:""}var Bx=/^[^&#]+/;function Hx(n){let t=n.match(Bx);return t?t[0]:""}var ch=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[R]=new q(t,e)),r}parseSegment(){let t=th(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(t),new vn(Pc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=Vx(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=th(this.remaining);o&&(r=o,this.capture(r))}t[Pc(e)]=Pc(r)}parseQueryParam(t){let e=$x(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=Hx(this.remaining);s&&(r=s,this.capture(r))}let o=Pw(e),i=Pw(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=th(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new _(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=R);let s=this.parseChildren();e[i]=Object.keys(s).length===1?s[R]:new q([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new _(4011,!1)}};function Yw(n){return n.segments.length>0?new q([],{[R]:n}):n}function Jw(n){let t={};for(let[r,o]of Object.entries(n.children)){let i=Jw(o);if(r===R&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let e=new q(n.segments,t);return zx(e)}function zx(n){if(n.numberOfChildren===1&&n.children[R]){let t=n.children[R];return new q(n.segments.concat(t.segments),t.children)}return n}function wn(n){return n instanceof Rt}function Qw(n,t,e=null,r=null){let o=Xw(n);return e_(o,t,e,r)}function Xw(n){let t;function e(i){let s={};for(let c of i.children){let l=e(c);s[c.outlet]=l}let a=new q(i.url,s);return i===n&&(t=a),a}let r=e(n.root),o=Yw(r);return t??o}function e_(n,t,e,r){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return nh(o,o,o,e,r);let i=qx(t);if(i.toRoot())return nh(o,o,new q([],{}),e,r);let s=Gx(i,o,n),a=s.processChildren?Si(s.segmentGroup,s.index,i.commands):n_(s.segmentGroup,s.index,i.commands);return nh(o,s.segmentGroup,a,e,r)}function Lc(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Mi(n){return typeof n=="object"&&n!=null&&n.outlets}function nh(n,t,e,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===t?s=e:s=t_(n,t,e);let a=Yw(Jw(s));return new Rt(a,i,o)}function t_(n,t,e){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===t?r[o]=e:r[o]=t_(i,t,e)}),new q(n.segments,r)}var jc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Lc(r[0]))throw new _(4003,!1);let o=r.find(Mi);if(o&&o!==Hw(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qx(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new jc(!0,0,n);let t=0,e=!1,r=n.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new jc(e,t,r)}var so=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function Gx(n,t,e){if(n.isAbsolute)return new so(t,!0,0);if(!e)return new so(t,!1,NaN);if(e.parent===null)return new so(e,!0,0);let r=Lc(n.commands[0])?0:1,o=e.segments.length-1+r;return Wx(e,o,n.numberOfDoubleDots)}function Wx(n,t,e){let r=n,o=t,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new _(4005,!1);o=r.segments.length}return new so(r,!1,o-i)}function Zx(n){return Mi(n[0])?n[0].outlets:{[R]:n}}function n_(n,t,e){if(n??=new q([],{}),n.segments.length===0&&n.hasChildren())return Si(n,t,e);let r=Kx(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new q(n.segments.slice(0,r.pathIndex),{});return i.children[R]=new q(n.segments.slice(r.pathIndex),n.children),Si(i,0,o)}else return r.match&&o.length===0?new q(n.segments,{}):r.match&&!n.hasChildren()?lh(n,t,e):r.match?Si(n,0,o):lh(n,t,e)}function Si(n,t,e){if(e.length===0)return new q(n.segments,{});{let r=Zx(e),o={};if(Object.keys(r).some(i=>i!==R)&&n.children[R]&&n.numberOfChildren===1&&n.children[R].segments.length===0){let i=Si(n.children[R],t,e);return new q(n.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=n_(n.children[i],t,s))}),Object.entries(n.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new q(n.segments,o)}}function Kx(n,t,e){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return i;let s=n.segments[o],a=e[r];if(Mi(a))break;let c=`${a}`,l=r<e.length-1?e[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Lw(c,l,s))return i;r+=2}else{if(!Lw(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function lh(n,t,e){let r=n.segments.slice(0,t),o=0;for(;o<e.length;){let i=e[o];if(Mi(i)){let c=Yx(i.outlets);return new q(r,c)}if(o===0&&Lc(e[0])){let c=n.segments[t];r.push(new vn(c.path,Fw(e[0]))),o++;continue}let s=Mi(i)?i.outlets[R]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Lc(a)?(r.push(new vn(s,Fw(a))),o+=2):(r.push(new vn(s,{})),o++)}return new q(r,{})}function Yx(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=lh(new q([],{}),0,r))}),t}function Fw(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function Lw(n,t,e){return n==e.path&&xt(t,e.parameters)}var Fc="imperative",pe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(pe||{}),Ye=class{id;url;constructor(t,e){this.id=t,this.url=e}},_n=class extends Ye{type=pe.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rt=class extends Ye{urlAfterRedirects;type=pe.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ve=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ve||{}),co=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(co||{}),At=class extends Ye{reason;code;type=pe.NavigationCancel;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nt=class extends Ye{reason;code;type=pe.NavigationSkipped;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}},lo=class extends Ye{error;target;type=pe.NavigationError;constructor(t,e,r,o){super(t,e),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xi=class extends Ye{urlAfterRedirects;state;type=pe.RoutesRecognized;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vc=class extends Ye{urlAfterRedirects;state;type=pe.GuardsCheckStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uc=class extends Ye{urlAfterRedirects;state;shouldActivate;type=pe.GuardsCheckEnd;constructor(t,e,r,o,i){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$c=class extends Ye{urlAfterRedirects;state;type=pe.ResolveStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bc=class extends Ye{urlAfterRedirects;state;type=pe.ResolveEnd;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hc=class{route;type=pe.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zc=class{route;type=pe.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qc=class{snapshot;type=pe.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gc=class{snapshot;type=pe.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wc=class{snapshot;type=pe.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zc=class{snapshot;type=pe.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uo=class{routerEvent;position;anchor;type=pe.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ai=class{},fo=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Jx(n,t){return n.providers&&!n._injector&&(n._injector=Yo(n.providers,t,`Route: ${n.path}`)),n._injector??t}function yt(n){return n.outlet||R}function Qx(n,t){let e=n.filter(r=>yt(r)===t);return e.push(...n.filter(r=>yt(r)!==t)),e}function Li(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Kc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Li(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new er(this.rootInjector)}},er=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Kc(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(I(_e))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=uh(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=uh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=dh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return dh(t,this._root).map(e=>e.value)}};function uh(n,t){if(n===t.value)return t;for(let e of t.children){let r=uh(n,e);if(r)return r}return null}function dh(n,t){if(n===t.value)return[t];for(let e of t.children){let r=dh(n,e);if(r.length)return r.unshift(t),r}return[]}var Ke=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function io(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ri=class extends Yc{snapshot;constructor(t,e){super(t),this.snapshot=e,wh(this,t)}toString(){return this.snapshot.toString()}};function r_(n){let t=Xx(n),e=new ve([new vn("",{})]),r=new ve({}),o=new ve({}),i=new ve({}),s=new ve(""),a=new Ot(e,r,i,s,o,R,n,t.root);return a.snapshot=t.root,new Ri(new Ke(a,[]),t)}function Xx(n){let t={},e={},r={},o="",i=new Jn([],t,r,o,e,R,n,null,{});return new Ni("",new Ke(i,[]))}var Ot=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(O(l=>l[Fi]))??T(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(O(t=>Qn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(O(t=>Qn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jc(n,t,e="emptyOnly"){let r,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:w(w({},t.params),n.params),data:w(w({},t.data),n.data),resolve:w(w(w(w({},n.data),t.data),o?.data),n._resolvedData)}:r={params:w({},n.params),data:w({},n.data),resolve:w(w({},n.data),n._resolvedData??{})},o&&i_(o)&&(r.resolve[Fi]=o.title),r}var Jn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Fi]}constructor(t,e,r,o,i,s,a,c,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qn(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ni=class extends Yc{url;constructor(t,e){super(e),this.url=t,wh(this,e)}toString(){return o_(this._root)}};function wh(n,t){t.value._routerState=n,t.children.forEach(e=>wh(n,e))}function o_(n){let t=n.children.length>0?` { ${n.children.map(o_).join(", ")} } `:"";return`${n.value}${t}`}function rh(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,xt(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),xt(t.params,e.params)||n.paramsSubject.next(e.params),Tx(t.url,e.url)||n.urlSubject.next(e.url),xt(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fh(n,t){let e=xt(n.params,t.params)&&Rx(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||fh(n.parent,t.parent))}function i_(n){return typeof n.title=="string"||n.title===null}var s_=new b(""),_h=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=R;activateEvents=new ce;deactivateEvents=new ce;attachEvents=new ce;detachEvents=new ce;routerOutletData=jm(void 0);parentContexts=y(er);location=y(fn);changeDetector=y(qn);inputBinder=y(ji,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new hh(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=z({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Yt]})}return n})(),hh=class{route;childContexts;parent;outletData;constructor(t,e,r,o){this.route=t,this.childContexts=e,this.parent=r,this.outletData=o}get(t,e){return t===Ot?this.route:t===er?this.childContexts:t===s_?this.outletData:this.parent.get(t,e)}},ji=new b(""),Dh=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,o=Oo([r.queryParams,r.params,r.data]).pipe(Ae(([i,s,a],c)=>(a=w(w(w({},i),s),a),c===0?T(a):Promise.resolve(a)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=ey(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),bh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ga({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&yf(0,"router-outlet")},dependencies:[_h],encapsulation:2})}return n})();function Eh(n){let t=n.children&&n.children.map(Eh),e=t?j(w({},n),{children:t}):w({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==R&&(e.component=bh),e}function eA(n,t,e){let r=Oi(n,t._root,e?e._root:void 0);return new Ri(r,t)}function Oi(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let o=tA(n,t,e);return new Ke(r,o)}else{if(n.shouldAttach(t.value)){let i=n.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Oi(n,a)),s}}let r=nA(t.value),o=t.children.map(i=>Oi(n,i));return new Ke(r,o)}}function tA(n,t,e){return t.children.map(r=>{for(let o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Oi(n,r,o);return Oi(n,r)})}function nA(n){return new Ot(new ve(n.url),new ve(n.params),new ve(n.queryParams),new ve(n.fragment),new ve(n.data),n.outlet,n.component,n)}var ho=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},a_="ngNavigationCancelingError";function Qc(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=wn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=c_(!1,Ve.Redirect);return o.url=e,o.navigationBehaviorOptions=r,o}function c_(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[a_]=!0,e.cancellationCode=t,e}function rA(n){return l_(n)&&wn(n.url)}function l_(n){return!!n&&n[a_]}var oA=(n,t,e,r)=>O(o=>(new ph(t,o.targetRouterState,o.currentRouterState,e,r).activate(n),o)),ph=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,o,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),rh(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let o=io(e);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,e,r){let o=t.value,i=e?e.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=io(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=io(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let o=io(e);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Zc(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Gc(t.value.snapshot))}activateRoutes(t,e,r){let o=t.value,i=e?e.value:null;if(rh(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rh(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Xc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ao=class{component;route;constructor(t,e){this.component=t,this.route=e}};function iA(n,t,e){let r=n._root,o=t?t._root:null;return Ii(r,o,e,[r.value])}function sA(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function go(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Rg(n)?n:t.get(n):r}function Ii(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=io(t);return n.children.forEach(s=>{aA(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Ti(a,e.getContext(s),o)),o}function aA(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=cA(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Xc(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Ii(n,t,a?a.children:null,r,o):Ii(n,t,e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ao(a.outlet.component,s))}else s&&Ti(t,a,o),o.canActivateChecks.push(new Xc(r)),i.component?Ii(n,null,a?a.children:null,r,o):Ii(n,null,e,r,o);return o}function cA(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Yn(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Yn(n.url,t.url)||!xt(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fh(n,t)||!xt(n.queryParams,t.queryParams);case"paramsChange":default:return!fh(n,t)}}function Ti(n,t,e){let r=io(n),o=n.value;Object.entries(r).forEach(([i,s])=>{o.component?t?Ti(s,t.children.getContext(i),e):Ti(s,null,e):Ti(s,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ao(t.outlet.component,o)):e.canDeactivateChecks.push(new ao(null,o)):e.canDeactivateChecks.push(new ao(null,o))}function Vi(n){return typeof n=="function"}function lA(n){return typeof n=="boolean"}function uA(n){return n&&Vi(n.canLoad)}function dA(n){return n&&Vi(n.canActivate)}function fA(n){return n&&Vi(n.canActivateChild)}function hA(n){return n&&Vi(n.canDeactivate)}function pA(n){return n&&Vi(n.canMatch)}function u_(n){return n instanceof Bt||n?.name==="EmptyError"}var Nc=Symbol("INITIAL_VALUE");function po(){return Ae(n=>Oo(n.map(t=>t.pipe(zt(1),uu(Nc)))).pipe(O(t=>{for(let e of t)if(e!==!0){if(e===Nc)return Nc;if(e===!1||gA(e))return e}return!0}),Ce(t=>t!==Nc),zt(1)))}function gA(n){return wn(n)||n instanceof ho}function mA(n,t){return oe(e=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?T(j(w({},e),{guardsResult:!0})):vA(s,r,o,n).pipe(oe(a=>a&&lA(a)?yA(r,i,n,t):T(a)),O(a=>j(w({},e),{guardsResult:a})))})}function vA(n,t,e,r){return J(n).pipe(oe(o=>EA(o.component,o.route,e,t,r)),qt(o=>o!==!0,!0))}function yA(n,t,e,r){return J(t).pipe(wt(o=>Cr(_A(o.route.parent,r),wA(o.route,r),bA(n,o.path,e),DA(n,o.route,e))),qt(o=>o!==!0,!0))}function wA(n,t){return n!==null&&t&&t(new Wc(n)),T(!0)}function _A(n,t){return n!==null&&t&&t(new qc(n)),T(!0)}function DA(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return T(!0);let o=r.map(i=>Gs(()=>{let s=Li(t)??e,a=go(i,s),c=dA(a)?a.canActivate(t,n):Pe(s,()=>a(t,n));return Dn(c).pipe(qt())}));return T(o).pipe(po())}function bA(n,t,e){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>sA(s)).filter(s=>s!==null).map(s=>Gs(()=>{let a=s.guards.map(c=>{let l=Li(s.node)??e,u=go(c,l),d=fA(u)?u.canActivateChild(r,n):Pe(l,()=>u(r,n));return Dn(d).pipe(qt())});return T(a).pipe(po())}));return T(i).pipe(po())}function EA(n,t,e,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return T(!0);let s=i.map(a=>{let c=Li(t)??o,l=go(a,c),u=hA(l)?l.canDeactivate(n,t,e,r):Pe(c,()=>l(n,t,e,r));return Dn(u).pipe(qt())});return T(s).pipe(po())}function CA(n,t,e,r){let o=t.canLoad;if(o===void 0||o.length===0)return T(!0);let i=o.map(s=>{let a=go(s,n),c=uA(a)?a.canLoad(t,e):Pe(n,()=>a(t,e));return Dn(c)});return T(i).pipe(po(),d_(r))}function d_(n){return tu(ye(t=>{if(typeof t!="boolean")throw Qc(n,t)}),O(t=>t===!0))}function IA(n,t,e,r){let o=t.canMatch;if(!o||o.length===0)return T(!0);let i=o.map(s=>{let a=go(s,n),c=pA(a)?a.canMatch(t,e):Pe(n,()=>a(t,e));return Dn(c)});return T(i).pipe(po(),d_(r))}var ki=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Pi=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function oo(n){return br(new ki(n))}function SA(n){return br(new _(4e3,!1))}function TA(n){return br(c_(!1,Ve.GuardRejected))}var gh=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return T(r);if(o.numberOfChildren>1||!o.children[R])return SA(`${t.redirectTo}`);o=o.children[R]}}applyRedirectCommands(t,e,r,o,i){if(typeof e!="string"){let a=e,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,params:f,data:g,title:m}=o,v=Pe(i,()=>a({params:f,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,title:m}));if(v instanceof Rt)throw new Pi(v);e=v}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new Pi(s);return s}applyRedirectCreateUrlTree(t,e,r,o){let i=this.createSegmentGroup(t,e.root,r,o);return new Rt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(t,e,r,o){let i=this.createSegments(t,e.segments,r,o),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new q(i,s)}createSegments(t,e,r,o){return e.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,e,r){let o=r[e.path.substring(1)];if(!o)throw new _(4001,!1);return o}findOrReturn(t,e){let r=0;for(let o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}},mh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MA(n,t,e,r,o){let i=f_(n,t,e);return i.matched?(r=Jx(t,r),IA(r,t,e,o).pipe(O(s=>s===!0?i:w({},mh)))):T(i)}function f_(n,t,e){if(t.path==="**")return xA(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?w({},mh):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||$w)(e,n,t);if(!o)return w({},mh);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function xA(n){return{matched:!0,parameters:n.length>0?Hw(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function jw(n,t,e,r){return e.length>0&&NA(n,e,r)?{segmentGroup:new q(t,RA(r,new q(e,n.children))),slicedSegments:[]}:e.length===0&&OA(n,e,r)?{segmentGroup:new q(n.segments,AA(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new q(n.segments,n.children),slicedSegments:e}}function AA(n,t,e,r){let o={};for(let i of e)if(tl(n,t,i)&&!r[yt(i)]){let s=new q([],{});o[yt(i)]=s}return w(w({},r),o)}function RA(n,t){let e={};e[R]=t;for(let r of n)if(r.path===""&&yt(r)!==R){let o=new q([],{});e[yt(r)]=o}return e}function NA(n,t,e){return e.some(r=>tl(n,t,r)&&yt(r)!==R)}function OA(n,t,e){return e.some(r=>tl(n,t,r))}function tl(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function kA(n,t,e){return t.length===0&&!n.children[e]}var vh=class{};function PA(n,t,e,r,o,i,s="emptyOnly"){return new yh(n,t,e,r,o,s,i).recognize()}var FA=31,yh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,o,i,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new gh(this.urlSerializer,this.urlTree)}noMatchError(t){return new _(4002,`'${t.segmentGroup}'`)}recognize(){let t=jw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(O(({children:e,rootSnapshot:r})=>{let o=new Ke(r,e),i=new Ni("",o),s=Qw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let e=new Jn([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),R,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,R,e).pipe(O(r=>({children:r,rootSnapshot:e})),Ht(r=>{if(r instanceof Pi)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ki?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,i):this.processSegment(t,e,r,r.segments,o,!0,i).pipe(O(s=>s instanceof Ke?[s]:[]))}processChildren(t,e,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return J(i).pipe(wt(s=>{let a=r.children[s],c=Qx(e,s);return this.processSegmentGroup(t,c,a,s,o)}),cu((s,a)=>(s.push(...a),s)),sn(null),au(),oe(s=>{if(s===null)return oo(r);let a=h_(s);return LA(a),T(a)}))}processSegment(t,e,r,o,i,s,a){return J(e).pipe(wt(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,r,o,i,s,a).pipe(Ht(l=>{if(l instanceof ki)return T(null);throw l}))),qt(c=>!!c),Ht(c=>{if(u_(c))return kA(r,o,i)?T(new vh):oo(r);throw c}))}processSegmentAgainstRoute(t,e,r,o,i,s,a,c){return yt(r)!==s&&(s===R||!tl(o,i,r))?oo(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,r,i,s,c):oo(o)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=f_(e,o,i);if(!c)return oo(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FA&&(this.allowRedirects=!1));let f=new Jn(i,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Vw(o),yt(o),o.component??o._loadedComponent??null,o,Uw(o)),g=Jc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(o,m).pipe(oe(v=>this.processSegment(t,r,e,v.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,o,i,s){let a=MA(e,r,o,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Ae(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Ae(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:p,remainingSegments:f}=c,g=new Jn(p,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Vw(r),yt(r),r.component??r._loadedComponent??null,r,Uw(r)),m=Jc(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:D}=jw(e,p,f,l);if(D.length===0&&v.hasChildren())return this.processChildren(u,l,v,g).pipe(O(H=>new Ke(g,H)));if(l.length===0&&D.length===0)return T(new Ke(g,[]));let G=yt(r)===i;return this.processSegment(u,l,v,D,G?R:i,!0,g).pipe(O(H=>new Ke(g,H instanceof Ke?[H]:[])))}))):oo(e)))}getChildConfig(t,e,r){return e.children?T({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?T({routes:e._loadedRoutes,injector:e._loadedInjector}):CA(t,e,r,this.urlSerializer).pipe(oe(o=>o?this.configLoader.loadChildren(t,e).pipe(ye(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):TA(e))):T({routes:[],injector:t})}};function LA(n){n.sort((t,e)=>t.value.outlet===R?-1:e.value.outlet===R?1:t.value.outlet.localeCompare(e.value.outlet))}function jA(n){let t=n.value.routeConfig;return t&&t.path===""}function h_(n){let t=[],e=new Set;for(let r of n){if(!jA(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),e.add(o)):t.push(r)}for(let r of e){let o=h_(r.children);t.push(new Ke(r.value,o))}return t.filter(r=>!e.has(r))}function Vw(n){return n.data||{}}function Uw(n){return n.resolve||{}}function VA(n,t,e,r,o,i){return oe(s=>PA(n,t,e,r,s.extractedUrl,o,i).pipe(O(({state:a,tree:c})=>j(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function UA(n,t){return oe(e=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return T(e);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of p_(c))s.add(l);let a=0;return J(s).pipe(wt(c=>i.has(c)?$A(c,r,n,t):(c.data=Jc(c,c.parent,n).resolve,T(void 0))),ye(()=>a++),Ir(1),oe(c=>a===s.size?T(e):Me))})}function p_(n){let t=n.children.map(e=>p_(e)).flat();return[n,...t]}function $A(n,t,e,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!i_(o)&&(i[Fi]=o.title),BA(i,n,t,r).pipe(O(s=>(n._resolvedData=s,n.data=Jc(n,n.parent,e).resolve,null)))}function BA(n,t,e,r){let o=sh(n);if(o.length===0)return T({});let i={};return J(o).pipe(oe(s=>HA(n[s],t,e,r).pipe(qt(),ye(a=>{if(a instanceof ho)throw Qc(new yn,a);i[s]=a}))),Ir(1),O(()=>i),Ht(s=>u_(s)?Me:br(s)))}function HA(n,t,e,r){let o=Li(t)??r,i=go(n,o),s=i.resolve?i.resolve(t,e):Pe(o,()=>i(t,e));return Dn(s)}function oh(n){return Ae(t=>{let e=n(t);return e?J(e).pipe(O(()=>t)):T(t)})}var Ch=(()=>{class n{buildTitle(e){let r,o=e.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===R);return r}getResolvedTitleForRoute(e){return e.data[Fi]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>y(g_),providedIn:"root"})}return n})(),g_=(()=>{class n extends Ch{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(I(Ky))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tr=new b("",{providedIn:"root",factory:()=>({})}),nr=new b(""),nl=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Qv);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return T(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Dn(e.loadComponent()).pipe(O(v_),ye(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),an(()=>{this.componentLoaders.delete(e)})),o=new _r(r,()=>new X).pipe(wr());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return T({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=m_(r,this.compiler,e,this.onLoadEndListener).pipe(an(()=>{this.childrenLoaders.delete(r)})),s=new _r(i,()=>new X).pipe(wr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m_(n,t,e,r){return Dn(n.loadChildren()).pipe(O(v_),oe(o=>o instanceof ff||Array.isArray(o)?T(o):J(t.compileModuleAsync(o))),O(o=>{r&&r(n);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(e).injector,s=i.get(nr,[],{optional:!0,self:!0}).flat()),{routes:s.map(Eh),injector:i}}))}function zA(n){return n&&typeof n=="object"&&"default"in n}function v_(n){return zA(n)?n.default:n}var rl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>y(qA),providedIn:"root"})}return n})(),qA=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ih=new b(""),Sh=new b("");function y_(n,t,e){let r=n.get(Sh),o=n.get(le);return n.get(ie).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i,s=new Promise(l=>{i=l}),a=o.startViewTransition(()=>(i(),GA(n))),{onViewTransitionCreated:c}=r;return c&&Pe(n,()=>c({transition:a,from:t,to:e})),s})}function GA(n){return new Promise(t=>{Wd({read:()=>setTimeout(t)},{injector:n})})}var Th=new b(""),ol=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new X;transitionAbortSubject=new X;configLoader=y(nl);environmentInjector=y(_e);destroyRef=y(Wr);urlSerializer=y(Xn);rootContexts=y(er);location=y(hn);inputBindingEnabled=y(ji,{optional:!0})!==null;titleStrategy=y(Ch);options=y(tr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(rl);createViewTransition=y(Ih,{optional:!0});navigationErrorHandler=y(Th,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>T(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new Hc(o)),r=o=>this.events.next(new zc(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(j(w({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new ve(null),this.transitions.pipe(Ce(r=>r!==null),Ae(r=>{let o=!1,i=!1;return T(r).pipe(Ae(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),Me;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?j(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Nt(s.id,this.urlSerializer.serialize(s.rawUrl),l,co.IgnoredSameUrlNavigation)),s.resolve(!1),Me}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return T(s).pipe(Ae(l=>(this.events.next(new _n(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Me:Promise.resolve(l))),VA(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ye(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=j(w({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new xi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:p,extras:f}=s,g=new _n(l,this.urlSerializer.serialize(u),d,p);this.events.next(g);let m=r_(this.rootComponentType).snapshot;return this.currentTransition=r=j(w({},s),{targetSnapshot:m,urlAfterRedirects:u,extras:j(w({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,T(r)}else{let l="";return this.events.next(new Nt(s.id,this.urlSerializer.serialize(s.extractedUrl),l,co.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Me}}),ye(s=>{let a=new Vc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),O(s=>(this.currentTransition=r=j(w({},s),{guards:iA(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),mA(this.environmentInjector,s=>this.events.next(s)),ye(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Qc(this.urlSerializer,s.guardsResult);let a=new Uc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ce(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ve.GuardRejected),!1)),oh(s=>{if(s.guards.canActivateChecks.length!==0)return T(s).pipe(ye(a=>{let c=new $c(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Ae(a=>{let c=!1;return T(a).pipe(UA(this.paramsInheritanceStrategy,this.environmentInjector),ye({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Ve.NoDataFromResolver)}}))}),ye(a=>{let c=new Bc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),oh(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(ye(u=>{c.component=u}),O(()=>{})));for(let u of c.children)l.push(...a(u));return l};return Oo(a(s.targetSnapshot.root)).pipe(sn(null),zt(1))}),oh(()=>this.afterPreactivation()),Ae(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?J(c).pipe(O(()=>r)):T(r)}),O(s=>{let a=eA(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=j(w({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ye(()=>{this.events.next(new Ai)}),oA(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),zt(1),ye({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),du(this.transitionAbortSubject.pipe(ye(s=>{throw s}))),an(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ht(s=>{if(this.destroyed)return r.resolve(!1),Me;if(i=!0,l_(s))this.events.next(new At(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),rA(s)?this.events.next(new fo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new lo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Pe(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof ho){let{message:l,cancellationCode:u}=Qc(this.urlSerializer,c);this.events.next(new At(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new fo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Me}))}))}cancelNavigationTransition(e,r,o){let i=new At(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WA(n){return n!==Fc}var w_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>y(ZA),providedIn:"root"})}return n})(),el=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},ZA=(()=>{class n extends el{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ft(n)))(o||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),__=(()=>{class n{urlSerializer=y(Xn);options=y(tr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(hn);urlHandlingStrategy=y(rl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:o}){let i=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=o??i;return s instanceof Rt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:o}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=e):this.rawUrlTree=o}routerState=r_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>y(KA),providedIn:"root"})}return n})(),KA=(()=>{class n extends __{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof _n?this.updateStateMemento():e instanceof Nt?this.commitTransition(r):e instanceof xi?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Ai?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof At&&(e.code===Ve.GuardRejected||e.code===Ve.NoDataFromResolver)?this.restoreHistory(r):e instanceof lo?this.restoreHistory(r,!0):e instanceof rt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||i){let a=this.browserPageId,c=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(e,"",c)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&i===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ft(n)))(o||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function il(n,t){n.events.pipe(Ce(e=>e instanceof rt||e instanceof At||e instanceof lo||e instanceof Nt),O(e=>e instanceof rt||e instanceof Nt?0:(e instanceof At?e.code===Ve.Redirect||e.code===Ve.SupersededByNewNavigation:!1)?2:1),Ce(e=>e!==2),zt(1)).subscribe(()=>{t()})}var YA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Fv);stateManager=y(__);options=y(tr,{optional:!0})||{};pendingTasks=y(dn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(ol);urlSerializer=y(Xn);location=y(hn);urlHandlingStrategy=y(rl);_events=new X;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(w_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(nr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(ji,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ne;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof At&&r.code!==Ve.Redirect&&r.code!==Ve.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rt)this.navigated=!0;else if(r instanceof fo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||WA(o.source)},s);this.scheduleNavigation(a,Fc,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}XA(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,o)=>{this.navigateToSyncWithBrowser(e,o,r)})}navigateToSyncWithBrowser(e,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=w({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Eh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=o?o.snapshot:this.routerState.snapshot.root;d=Xw(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return e_(d,e,u,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){let o=wn(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Fc,null,r)}navigate(e,r={skipLocationChange:!1}){return QA(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let o;if(r===!0?o=w({},YA):r===!1?o=w({},JA):o=r,wn(e))return kw(this.currentUrlTree,e,o);let i=this.parseUrl(e);return kw(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return il(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QA(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new _(4008,!1)}function XA(n){return!(n instanceof Ai)&&!(n instanceof fo)}var D_=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new X;constructor(e,r,o,i,s,a){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof rt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wn(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:Xm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,e,r):o.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:wn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(C(kt),C(Ot),Ud("tabindex"),C(Fe),C(ge),C(mt))};static \u0275dir=z({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Le("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ka("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Gn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Gn],replaceUrl:[2,"replaceUrl","replaceUrl",Gn],routerLink:"routerLink"},features:[Yt]})}return n})();var Ui=class{};var b_=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,o,i){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Ce(e=>e instanceof rt),wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Yo(i.providers,e,`Route: ${i.path}`));let s=i._injector??e,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return J(o).pipe(Er())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(e,r):o=T(null);let i=o.pipe(oe(s=>s===null?T(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return J([i,s]).pipe(Er())}else return i})}static \u0275fac=function(r){return new(r||n)(I(kt),I(_e),I(Ui),I(nl))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E_=new b(""),eR=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,o,i,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof rt?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Nt&&e.code===co.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof uo&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uo(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Sv()};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();function tR(n,...t){return Go([{provide:nr,multi:!0,useValue:n},[],{provide:Ot,useFactory:C_,deps:[kt]},{provide:Za,multi:!0,useFactory:I_},t.map(e=>e.\u0275providers)])}function C_(n){return n.routerState.root}function $i(n,t){return{\u0275kind:n,\u0275providers:t}}function I_(){let n=y(qe);return t=>{let e=n.get(Un);if(t!==e.components[0])return;let r=n.get(kt),o=n.get(S_);n.get(xh)===1&&r.initialNavigation(),n.get(x_,null,N.Optional)?.setUpPreloading(),n.get(E_,null,N.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var S_=new b("",{factory:()=>new X}),xh=new b("",{providedIn:"root",factory:()=>1});function T_(){let n=[{provide:xh,useValue:0},mf(()=>{let t=y(qe);return t.get(If,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(kt),i=t.get(S_);il(o,()=>{r(!0)}),t.get(ol).afterPreactivation=()=>(r(!0),i.closed?T(void 0):i),o.initialNavigation()}))})];return $i(2,n)}function M_(){let n=[mf(()=>{y(kt).setUpLocationChangeListener()}),{provide:xh,useValue:2}];return $i(3,n)}var x_=new b("");function A_(n){return $i(0,[{provide:x_,useExisting:b_},{provide:Ui,useExisting:n}])}function R_(){return $i(8,[Dh,{provide:ji,useExisting:Dh}])}function N_(n){Ko("NgRouterViewTransitions");let t=[{provide:Ih,useValue:y_},{provide:Sh,useValue:w({skipNextTransition:!!n?.skipInitialTransition},n)}];return $i(9,t)}var O_=[hn,{provide:Xn,useClass:yn},kt,er,{provide:Ot,useFactory:C_,deps:[kt]},nl,[]],nR=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[O_,[],{provide:nr,multi:!0,useValue:e},[],r?.errorHandler?{provide:Th,useValue:r.errorHandler}:[],{provide:tr,useValue:r||{}},r?.useHash?oR():iR(),rR(),r?.preloadingStrategy?A_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?sR(r):[],r?.bindToComponentInputs?R_().\u0275providers:[],r?.enableViewTransitions?N_().\u0275providers:[],aR()]}}static forChild(e){return{ngModule:n,providers:[{provide:nr,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=pt({type:n});static \u0275inj=ut({})}return n})();function rR(){return{provide:E_,useFactory:()=>{let n=y(Sy),t=y(ie),e=y(tr),r=y(ol),o=y(Xn);return e.scrollOffset&&n.setOffset(e.scrollOffset),new eR(o,r,n,t,e)}}}function oR(){return{provide:mt,useClass:Af}}function iR(){return{provide:mt,useClass:nc}}function sR(n){return[n.initialNavigation==="disabled"?M_().\u0275providers:[],n.initialNavigation==="enabledBlocking"?T_().\u0275providers:[]]}var Mh=new b("");function aR(){return[{provide:Mh,useFactory:I_},{provide:Za,multi:!0,useExisting:Mh}]}var k_=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var Bi=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},sl=class extends Bi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Hi=class extends Bi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},zi=class extends Bi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Ah=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(Ah||{});var cR=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},qi=class{constructor(t,{headers:e={},customFetch:r,region:o=Ah.Any}={}){this.url=t,this.headers=e,this.region=o,this.fetch=k_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return cR(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=e,a={},{region:c}=e;c||(c=this.region);let l=new URL(`${this.url}/${t}`);c&&c!=="any"&&(a["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let d=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:u}).catch(m=>{throw new sl(m)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new Hi(d);if(!d.ok)throw new zi(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(o){return{data:null,error:o,response:o instanceof zi||o instanceof Hi?o.context:void 0}}})}};var W_=JD(G_(),1),{PostgrestClient:Z_,PostgrestQueryBuilder:DB,PostgrestFilterBuilder:bB,PostgrestTransformBuilder:EB,PostgrestBuilder:CB,PostgrestError:_R}=W_.default;function K_(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var Y_=K_();var J_="2.11.15";var Q_=`realtime-js/${J_}`,X_="1.0.0";var ul=1e4,eD=1e3,Qi=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Qi||{}),Ee=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Ee||{}),ot=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(ot||{}),Bh=function(n){return n.websocket="websocket",n}(Bh||{}),rr=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(rr||{});var dl=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let o=e.getUint8(1),i=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var vo=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ee=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(ee||{}),zh=(n,t,e={})=>{var r;let o=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=DR(s,n,t,o),i),{})},DR=(n,t,e,r)=>{let o=t.find(a=>a.name===n),i=o?.type,s=e[n];return i&&!r.includes(i)?tD(i,s):Hh(s)},tD=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return IR(t,e)}switch(n){case ee.bool:return bR(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return ER(t);case ee.json:case ee.jsonb:return CR(t);case ee.timestamp:return SR(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Hh(t);default:return Hh(t)}},Hh=n=>n,bR=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},ER=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},CR=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},IR=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let i,s=n.slice(1,e);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>tD(t,a))}return n},SR=n=>typeof n=="string"?n.replace(" ","T"):n,fl=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var yo=class{constructor(t,e,r={},o=ul){this.channel=t,this.event=e,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Xi=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=n.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,o){let i=this.cloneDeep(t),s=this.transformState(e),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let p=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),g=u.filter(v=>f.indexOf(v.presence_ref)<0),m=d.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,e,r,o){let{joins:i,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,o(a,l,c),l.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let o=t[r];return"metas"in o?e[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[r]=o,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var nn=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(nn||{});var es=class n{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new yo(this,ot.join,this.params,this.timeout),this.rejoinTimer=new vo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Xi(this),this.broadcastEndpointURL=fl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){let{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(u=>t?.(nn.CHANNEL_ERROR,u)),this._onClose(()=>t?.(nn.CLOSED));let c={},l={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:u}){var p;if(this.socket.setAuth(),u===void 0){t?.(nn.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(p=f?.length)!==null&&p!==void 0?p:0,m=[];for(let v=0;v<g;v++){let D=f[v],{filter:{event:G,schema:H,table:S,filter:K}}=D,$e=u&&u[v];if($e&&$e.event===G&&$e.schema===H&&$e.table===S&&$e.filter===K)m.push(Object.assign(Object.assign({},D),{id:$e.id}));else{this.unsubscribe(),this.state=Ee.errored,t?.(nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(nn.SUBSCRIBED);return}})).receive("error",u=>{this.state=Ee.errored,t?.(nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t?.(nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this._on(t,e,r)}send(r){return h(this,arguments,function*(t,e={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=e.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new yo(this,ot.leave,{},t),r.receive("ok",()=>{e(),o("ok")}).receive("timeout",()=>{e(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(t,e,r){return h(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:o.signal}));return clearTimeout(i),s})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new yo(this,t,e,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ot;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,e,r);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,m,v;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=f.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,m,v,D,G,H;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let S=f.id,K=(g=f.filter)===null||g===void 0?void 0:g.event;return S&&((m=e.ids)===null||m===void 0?void 0:m.includes(S))&&(K==="*"||K?.toLocaleLowerCase()===((v=e.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let S=(G=(D=f?.filter)===null||D===void 0?void 0:D.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return S==="*"||S===((H=e?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:v,commit_timestamp:D,type:G,errors:H}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:D,eventType:G,new:{},old:{},errors:H}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let o=t.toLocaleLowerCase(),i={type:o,filter:e,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&n.isEqual(o.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ot.close,{},t)}_onError(t){this._on(ot.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=zh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=zh(t.columns,t.old_record)),e}};var nD=()=>{},MR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ts=class{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ul,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nD,this.ref=0,this.logger=nD,this.conn=null,this.sendBuffer=[],this.serializer=new dl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-NPJLHOA5.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${Bh.websocket}`,this.httpEndpoint=fl(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let o=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=e?.encode?e.encode:(i,s)=>s(JSON.stringify(i)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vo(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Y_),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:X_}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qi.connecting:return rr.Connecting;case Qi.open:return rr.Open;case Qi.closing:return rr.Closing;default:return rr.Closed}}isConnected(){return this.connectionState()===rr.Open}channel(t,e={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new es(`realtime:${t}`,e,this);return this.channels.push(i),i}}push(t){let{topic:e,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${e} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){let e=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let o={access_token:e,version:Q_};e&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(ot.access_token,{access_token:e})}))})}sendHeartbeat(){return h(this,null,function*(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(eD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:o,payload:i,ref:s}=e;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(e.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ot.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(e);return`${t}${r}${o}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([MR],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var wo=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function de(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var hl=class extends wo{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},or=class extends wo{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var xR=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},gl=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},rD=()=>xR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),pl=n=>{if(Array.isArray(n))return n.map(e=>pl(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let o=e.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=pl(r)}),t};var ir=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},qh=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),AR=(n,t,e)=>ir(void 0,void 0,void 0,function*(){let r=yield rD();n instanceof r&&!e?.noResolveJson?n.json().then(o=>{t(new hl(qh(o),n.status||500))}).catch(o=>{t(new or(qh(o),o))}):t(new or(qh(n),n))}),RR=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),e))};function ns(n,t,e,r,o,i){return ir(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,RR(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>AR(c,a,r))})})}function _o(n,t,e,r){return ir(this,void 0,void 0,function*(){return ns(n,"GET",t,e,r)})}function Pt(n,t,e,r,o){return ir(this,void 0,void 0,function*(){return ns(n,"POST",t,r,o,e)})}function oD(n,t,e,r,o){return ir(this,void 0,void 0,function*(){return ns(n,"PUT",t,r,o,e)})}function iD(n,t,e,r){return ir(this,void 0,void 0,function*(){return ns(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function ml(n,t,e,r,o){return ir(this,void 0,void 0,function*(){return ns(n,"DELETE",t,r,o,e)})}var Ue=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},NR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},vl=class{constructor(t,e={},r,o){this.url=t,this.headers=e,this.bucketId=r,this.fetch=gl(o)}uploadOrUpdate(t,e,r,o){return Ue(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},sD),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),p=yield d.json();return d.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(t,e,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,o){return Ue(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let c,l=Object.assign({upsert:sD.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(de(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);e?.upsert&&(o["x-upsert"]="true");let i=yield Pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new wo("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}update(t,e,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}})}copy(t,e,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}})}createSignedUrl(t,e,r){return Ue(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield Pt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}})}createSignedUrls(t,e,r){return Ue(this,void 0,void 0,function*(){try{let o=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}})}download(t,e){return Ue(this,void 0,void 0,function*(){let o=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield _o(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}info(t){return Ue(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield _o(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:pl(r),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield iD(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(de(r)&&r instanceof or){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),o=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&o.push(i);let a=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}list(t,e,r){return Ue(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},NR),e),{prefix:t||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var aD="2.7.1";var cD={"X-Client-Info":`storage-js/${aD}`};var Do=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},yl=class{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},cD),e),this.fetch=gl(r)}listBuckets(){return Do(this,void 0,void 0,function*(){try{return{data:yield _o(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield _o(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return Do(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return Do(this,void 0,void 0,function*(){try{return{data:yield oD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}};var rs=class extends yl{constructor(t,e={},r){super(t,e,r)}from(t){return new vl(this.url,this.headers,t,this.fetch)}};var lD="2.50.3";var os="";typeof Deno<"u"?os="deno":typeof document<"u"?os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?os="react-native":os="node";var OR={"X-Client-Info":`supabase-js-${os}/${lD}`},uD={headers:OR},dD={schema:"public"},fD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hD={};rp();var kR=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},PR=n=>{let t;return n?t=n:typeof fetch>"u"?t=tp:t=fetch,(...e)=>t(...e)},FR=()=>typeof Headers>"u"?np:Headers,pD=(n,t,e)=>{let r=PR(e),o=FR();return(i,s)=>kR(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:n,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};var LR=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})};function gD(n){return n.endsWith("/")?n:n+"/"}function mD(n,t){var e,r;let{db:o,auth:i,realtime:s,global:a}=n,{db:c,auth:l,realtime:u,global:d}=t,p={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>LR(this,void 0,void 0,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}var wl="2.70.0";var sr=30*1e3,_l=3,Dl=_l*sr,vD="http://localhost:9999",yD="supabase.auth.token";var wD={"X-Client-Info":`gotrue-js/${wl}`};var is="X-Supabase-Api-Version",Gh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_D=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DD=6e5;var ss=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function x(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var bl=class extends ss{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function bD(n){return x(n)&&n.name==="AuthApiError"}var bo=class extends ss{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Ft=class extends ss{constructor(t,e,r,o){super(t,r,o),this.name=e,this.status=r}},it=class extends Ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ED(n){return x(n)&&n.name==="AuthSessionMissingError"}var ar=class extends Ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},cr=class extends Ft{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},lr=class extends Ft{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function CD(n){return x(n)&&n.name==="AuthImplicitGrantRedirectError"}var as=class extends Ft{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Eo=class extends Ft{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function El(n){return x(n)&&n.name==="AuthRetryableFetchError"}var cs=class extends Ft{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var rn=class extends Ft{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ID=` 	
\r=`.split(""),jR=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<ID.length;t+=1)n[ID[t].charCodeAt(0)]=-2;for(let t=0;t<Cl.length;t+=1)n[Cl[t].charCodeAt(0)]=t;return n})();function SD(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Cl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Cl[r]),t.queuedBits-=6}}function TD(n,t,e){let r=jR[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Wh(n){let t=[],e=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{$R(s,r,e)};for(let s=0;s<n.length;s+=1)TD(n.charCodeAt(s),o,i);return t.join("")}function VR(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function UR(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|o)+65536,e+=1}VR(r,t)}}function $R(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function MD(n){let t=[],e={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)TD(n.charCodeAt(o),e,r);return new Uint8Array(t)}function xD(n){let t=[];return UR(n,e=>t.push(e)),new Uint8Array(t)}function AD(n){let t=[],e={queue:0,queuedBits:0},r=o=>{t.push(o)};return n.forEach(o=>SD(o,e,r)),SD(null,e,r),t.join("")}function RD(n){return Math.round(Date.now()/1e3)+n}function ND(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var st=()=>typeof window<"u"&&typeof document<"u",ur={tested:!1,writable:!1},bn=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ur.tested)return ur.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ur.tested=!0,ur.writable=!0}catch{ur.tested=!0,ur.writable=!1}return ur.writable};function OD(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return e.searchParams.forEach((r,o)=>{t[o]=r}),t}var Il=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},kD=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Zh=(n,t,e)=>h(null,null,function*(){yield n.setItem(t,JSON.stringify(e))}),us=(n,t)=>h(null,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),ds=(n,t)=>h(null,null,function*(){yield n.removeItem(t)}),ls=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};ls.promiseConstructor=Promise;function Sl(n){let t=n.split(".");if(t.length!==3)throw new rn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!_D.test(t[r]))throw new rn("JWT not in base64url format");return{header:JSON.parse(Wh(t[0])),payload:JSON.parse(Wh(t[1])),signature:MD(t[2]),raw:{header:t[0],payload:t[1]}}}function PD(n){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function FD(n,t){return new Promise((r,o)=>{h(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield n(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})})}function BR(n){return("0"+n.toString(16)).substr(-2)}function HR(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,o="";for(let i=0;i<56;i++)o+=e.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,BR).join("")}function zR(n){return h(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function qR(n){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield zR(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function dr(n,t,e=!1){return h(this,null,function*(){let r=HR(),o=r;e&&(o+="/PASSWORD_RECOVERY"),yield Zh(n,`${t}-code-verifier`,o);let i=yield qR(r);return[i,r===i?"plain":"s256"]})}var GR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LD(n){let t=n.headers.get(is);if(!t||!t.match(GR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jD(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function VD(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var WR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fr(n){if(!WR.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ZR=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},hr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),KR=[502,503,504];function UD(n){return h(this,null,function*(){var t;if(!kD(n))throw new Eo(hr(n),0);if(KR.includes(n.status))throw new Eo(hr(n),n.status);let e;try{e=yield n.json()}catch(i){throw new bo(hr(i),i)}let r,o=LD(n);if(o&&o.getTime()>=Gh["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new cs(hr(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new it}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new cs(hr(e),n.status,e.weak_password.reasons);throw new bl(hr(e),n.status||500,r)})}var YR=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),e))};function F(n,t,e,r){return h(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[is]||(i[is]=Gh["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield JR(n,t,e+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function JR(n,t,e,r,o,i){return h(this,null,function*(){let s=YR(t,r,o,i),a;try{a=yield n(e,Object.assign({},s))}catch(c){throw console.error(c),new Eo(hr(c),0)}if(a.ok||(yield UD(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield UD(c)}})}function Lt(n){var t;let e=null;QR(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=RD(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function Kh(n){let t=Lt(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function jt(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function $D(n){return{data:n,error:null}}function BD(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i}=n,s=ZR(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function HD(n){return n}function QR(n){return n.access_token&&n.refresh_token&&n.expires_in}var Tl=["global","local","others"];var XR=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},Co=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=Il(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return h(this,arguments,function*(t,e=Tl[0]){if(Tl.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tl.join(", ")}`);try{return yield F(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(x(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return h(this,arguments,function*(t,e={}){try{return yield F(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:jt})}catch(o){if(x(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return h(this,null,function*(){try{let{options:e}=t,r=XR(t,["options"]),o=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:BD,redirectTo:e?.redirectTo})}catch(e){if(x(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return h(this,null,function*(){try{return yield F(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jt})}catch(e){if(x(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return h(this,null,function*(){var e,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:HD});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(x(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return h(this,null,function*(){fr(t);try{return yield F(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jt})}catch(e){if(x(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return h(this,null,function*(){fr(t);try{return yield F(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:jt})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return h(this,null,function*(){fr(t);try{return yield F(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:jt})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){fr(t.userId);try{let{data:e,error:r}=yield F(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:e,error:r}}catch(e){if(x(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return h(this,null,function*(){fr(t.userId),fr(t.id);try{return{data:yield F(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(x(e))return{data:null,error:e};throw e}})}};var zD={getItem:n=>bn()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{bn()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{bn()&&globalThis.localStorage.removeItem(n)}};function Yh(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function qD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var pr={debug:!!(globalThis&&bn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},fs=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Ml=class extends fs{};function Jh(n,t,e){return h(this,null,function*(){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>h(null,null,function*(){if(o){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return yield e()}finally{pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Ml(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(pr.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}qD();var eN={url:vD,storageKey:yD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function GD(n,t,e){return h(this,null,function*(){return yield e()})}var Qh=(()=>{class n{constructor(e){var r,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&st()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},eN),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Co({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Il(i.fetch),this.lock=i.lock||GD,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:st()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Jh:this.lock=GD,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:bn()?this.storage=zD:(this.memoryStorage={},this.storage=Yh(this.memoryStorage)):(this.memoryStorage={},this.storage=Yh(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wl}) ${new Date().toISOString()}`,...e),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var e;try{let r=OD(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),st()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),CD(s)){let l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return x(r)?{error:r}:{error:new bo("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return h(this,null,function*(){var r,o,i;try{let s=yield F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Lt}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return h(this,null,function*(){var r,o,i;try{let s;if("email"in e){let{email:d,password:p,options:f}=e,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield dr(this.storage,this.storageKey)),s=yield F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:Lt})}else if("phone"in e){let{phone:d,password:p,options:f}=e;s=yield F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Lt})}else throw new cr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return h(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:c}=e;r=yield F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Kh})}else if("phone"in e){let{phone:s,password:a,options:c}=e;r=yield F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Kh})}else throw new cr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ar}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return h(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return h(this,null,function*(){let{chain:r}=e;if(r==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(e){return h(this,null,function*(){var r,o,i,s,a,c,l,u,d,p,f,g;let m,v;if("message"in e)m=e.message,v=e.signature;else{let{chain:D,wallet:G,statement:H,options:S}=e,K;if(st())if(typeof G=="object")K=G;else{let re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))K=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=G}let $e=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in K&&K.signIn){let re=yield K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:$e.host,uri:$e.href}),H?{statement:H}:null)),Be;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")Be=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)Be=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Be&&"signature"in Be&&(typeof Be.signedMessage=="string"||Be.signedMessage instanceof Uint8Array)&&Be.signature instanceof Uint8Array)m=typeof Be.signedMessage=="string"?Be.signedMessage:new TextDecoder().decode(Be.signedMessage),v=Be.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${$e.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${$e.href}`,`Issued At: ${(i=(o=S?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((c=S?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(d=S?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(Be=>`- ${Be}`)]:[]].join(`
`);let re=yield K.signMessage(new TextEncoder().encode(m),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=re}}try{let{data:D,error:G}=yield F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:AD(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Lt});if(G)throw G;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new ar}:(D.session&&(yield this._saveSession(D.session),yield this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:G})}catch(D){if(x(D))return{data:{user:null,session:null},error:D};throw D}})}_exchangeCodeForSession(e){return h(this,null,function*(){let r=yield us(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Lt});if(yield ds(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ar}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(x(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return h(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=e,c=yield F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Lt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ar}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return h(this,null,function*(){var r,o,i,s,a;try{if("email"in e){let{email:c,options:l}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield dr(this.storage,this.storageKey));let{error:p}=yield F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){let{phone:c,options:l}=e,{data:u,error:d}=yield F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new cr("You must provide either an email or phone number.")}catch(c){if(x(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(e){return h(this,null,function*(){var r,o;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(o=e.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Lt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(e){return h(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield dr(this.storage,this.storageKey)),yield F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:$D})}catch(s){if(x(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r},error:o}=e;if(o)throw o;if(!r)throw new it;let{error:i}=yield F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(e){if(x(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:o,type:i,options:s}=e,{error:a}=yield F(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:o,type:i,options:s}=e,{data:a,error:c}=yield F(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new cr("You must provide either an email or phone number and a type")}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(e,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=h(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,e,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let o=e.expires_at?e.expires_at*1e3-Date.now()<Dl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}let{session:i,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return h(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return h(this,null,function*(){try{return e?yield F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jt}):yield this._useSession(r=>h(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new it}:yield F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:jt})}))}catch(r){if(x(r))return ED(r)&&(yield this._removeSession(),yield ds(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return h(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(o){return h(this,arguments,function*(e,r={}){try{return yield this._useSession(i=>h(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new it;let c=s.session,l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=yield dr(this.storage,this.storageKey));let{data:d,error:p}=yield F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:jt});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(x(i))return{data:{user:null},error:i};throw i}})}setSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return h(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new it;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Sl(e.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(x(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;if(!e){let{data:a,error:c}=r;if(c)throw c;e=(o=a.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new it;let{session:i,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return h(this,null,function*(){try{if(!st())throw new lr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new as("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new as("No code detected.");let{data:H,error:S}=yield this._exchangeCodeForSession(e.code);if(S)throw S;let K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:H.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=e;if(!s||!c||!a||!u)throw new lr("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let g=f-d;g*1e3<=sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=f-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:v,error:D}=yield this._getUser(s);if(D)throw D;let G={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:G,redirectType:e.type},error:null}}catch(o){if(x(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return h(this,null,function*(){let r=yield us(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return h(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return h(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,e);if(c&&!(bD(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(yield this._removeSession(),yield ds(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=ND(),o={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(e){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return h(this,arguments,function*(e,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield dr(this.storage,this.storageKey,!0));try{return yield F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(x(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var e;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}linkIdentity(e){return h(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield F(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return st()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:e.provider,url:o?.url},error:null}}catch(o){if(x(o))return{data:{provider:e.provider,url:null},error:o};throw o}})}unlinkIdentity(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return h(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield FD(i=>h(this,null,function*(){return i>0&&(yield PD(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Lt})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&El(s)&&Date.now()+a-o<sr})}catch(o){if(this._debug(r,"error",o),x(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return h(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),st()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield us(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=((e=o.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Dl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Dl}s`),i){if(this.autoRefreshToken&&o.refresh_token){let{error:s}=yield this._callRefreshToken(o.refresh_token);s&&(console.error(s),El(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return h(this,null,function*(){var r,o;if(!e)throw new it;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ls;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new it;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),x(s)){let a={session:null,error:s};return El(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(e,r,o=!0){return h(this,null,function*(){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(e,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(e){return h(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield Zh(this.storage,this.storageKey,e)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield ds(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&st()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),sr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-e)/sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sr}ms, refresh threshold is ${_l} ticks`),i<=_l&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof fs)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!st()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return h(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,o){return h(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield dr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${i.join("&")}`})}_unenroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_enroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=yield F(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_verify(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challenge(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return h(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:e.factorId});return o?{data:null,error:o}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=e?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(e=>h(this,null,function*(){var r,o;let{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Sl(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return h(this,arguments,function*(e,r={keys:[]}){let i=r.keys.find(c=>c.kid===e);if(i||(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+DD>Date.now()))return i;let{data:s,error:a}=yield F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new rn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(c=>c.kid===e),!i)throw new rn("No matching signing key found in JWKS");return i})}getClaims(o){return h(this,arguments,function*(e,r={keys:[]}){try{let i=e;if(!i){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return{data:null,error:v};i=m.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Sl(i);if(jD(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:m}=yield this.getUser(i);if(m)throw m;return{data:{claims:a,header:s,signature:c},error:null}}let d=VD(s.alg),p=yield this.fetchJwk(s.kid,r),f=yield crypto.subtle.importKey("jwk",p,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,f,c,xD(`${l}.${u}`))))throw new rn("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(x(i))return{data:null,error:i};throw i}})}}return n.nextInstanceID=0,n})();var tN=Qh,Xh=tN;var xl=class extends Xh{constructor(t){super(t)}};var nN=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},Al=class{constructor(t,e,r){var o,i,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=gD(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);let l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:dD,realtime:hD,auth:Object.assign(Object.assign({},fD),{storageKey:l}),global:uD},d=mD(r??{},u);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=pD(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Z_(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new qi(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rs(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return nN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:c},l,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xl({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ts(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var WD=(n,t,e)=>new Al(n,t,e);var ep={production:!0,apiUrl:"https://kluvtnncsdxeewhjrvkk.supabase.co",publicAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtsdXZ0bm5jc2R4ZWV3aGpydmtrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQxNTU1MDksImV4cCI6MjA1OTczMTUwOX0.1n3vXFJfN9yK0--Ktlqjg0AgbbZOJN0Ttbr1vOQ3mkg"};var Rl=class n{obtenerPacientesPorEspecialidad(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("vista_turnos_con_nombres").select("paciente_id, especialidad");if(e)throw e;let r=t.filter(a=>a.paciente_id&&typeof a.paciente_id=="string"&&a.paciente_id.length===36),o=[...new Set(r.map(a=>a.paciente_id))],i=[];if(o.length){let{data:a,error:c}=yield this.supabase.from("usuarios").select("user_auth_id, nombre, apellido, edad").in("user_auth_id",o);if(c)throw c;i=a}let s={};for(let a of r){let c=i.find(u=>u.user_auth_id===a.paciente_id);if(!c)continue;let l=a.especialidad;s[l]||(s[l]=[]),s[l].some(u=>u.nombre===c.nombre&&u.apellido===c.apellido&&u.edad===c.edad)||s[l].push({nombre:c.nombre,apellido:c.apellido,edad:c.edad})}return s})}obtenerMedicosPorEspecialidad(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("usuarios").select("nombre, apellido, edad, especialidades").eq("perfil","especialista");if(e)throw e;let r={};for(let o of t)if(Array.isArray(o.especialidades))for(let i of o.especialidades)r[i]||(r[i]=[]),r[i].push({nombre:o.nombre,apellido:o.apellido,edad:o.edad});return r})}supabase;constructor(){this.supabase=WD(ep.apiUrl,ep.publicAnonKey)}getEncuestas(){return h(this,null,function*(){return yield this.obtenerTodasLasEncuestas()})}obtenerTodasLasEncuestas(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("encuestas").select("*");if(e)throw e;return t})}obtenerUsuarioActual(t){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("usuarios").select("*").eq("user_auth_id",t).single();if(r)throw r;return e})}obtenerTodosLosUsuarios(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("usuarios").select("*");if(e)throw e;return t})}actualizarEstadoEspecialista(t,e){return h(this,null,function*(){let{error:r}=yield this.supabase.from("usuarios").update({habilitado:e}).eq("user_auth_id",t);if(r)throw r})}registrarLoginUsuario(t,e){return h(this,null,function*(){let{error:r}=yield this.supabase.from("logins").insert([{user_auth_id:t,email:e,fecha_login:new Date().toISOString()}]);if(r)throw r})}agregarEspecialidad(t){return h(this,null,function*(){let{error:e}=yield this.supabase.from("especialidades").insert([{nombre:t}]);if(e)throw e})}obtenerEspecialidades(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("especialidades").select("nombre").order("nombre",{ascending:!0});if(e)throw e;return t.map(r=>r.nombre)})}obtenerEspecialidadesConImagen(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("especialidades").select("nombre, imagen_url").order("nombre",{ascending:!0});if(e)throw e;return t})}getCliente(){return this.supabase}solicitarTurno(t){return h(this,null,function*(){let{error:e}=yield this.supabase.from("turnos").insert(t);if(e)throw e})}cancelarTurno(t,e){return h(this,null,function*(){let{error:r}=yield this.supabase.from("turnos").update({estado:"cancelado",motivo_cancelacion:e}).eq("id",t);if(r)throw r})}rechazarTurno(t,e){return h(this,null,function*(){let{error:r}=yield this.supabase.from("turnos").update({estado:"rechazado",motivo_rechazo:e}).eq("id",t);if(r)throw r})}aceptarTurno(t){return h(this,null,function*(){let{error:e}=yield this.supabase.from("turnos").update({estado:"aceptado"}).eq("id",t);if(e)throw e})}finalizarTurno(t,e){return h(this,null,function*(){let{error:r}=yield this.supabase.from("turnos").update({estado:"realizado",comentario_especialista:e}).eq("id",t);if(r)throw r})}guardarCalificacion(t,e){return h(this,null,function*(){let{error:r}=yield this.supabase.from("turnos").update({calificacion_paciente:e}).eq("id",t);if(r)throw r})}obtenerTurnosPorUsuario(t,e){return h(this,null,function*(){let r=e==="paciente"?"paciente_id":"especialista_id",{data:o,error:i}=yield this.supabase.from("vista_turnos_con_nombres").select("*").eq(r,t);if(i)throw i;return o})}crearEncuesta(t){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("encuestas").insert(t).select().single();if(r)throw r;return e})}obtenerEncuestaPorTurno(t){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("encuestas").select("*").eq("turno_id",t).single();if(r)throw r;return e})}guardarDisponibilidad(t){return h(this,null,function*(){let{error:e}=yield this.supabase.from("disponibilidades").insert(t);if(e)throw e})}obtenerDisponibilidadPorEspecialista(t){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("disponibilidades").select("*").eq("especialista_id",t);if(r)throw r;return e})}obtenerHorariosDisponibles(t,e){return h(this,null,function*(){let{data:r,error:o}=yield this.supabase.rpc("buscar_horarios_disponibles",{especialista_id_input:t,fecha_input:e});if(o)throw o;return r})}obtenerTodosLosTurnos(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("vista_turnos_con_nombres").select("*");if(e)throw e;return t})}obtenerPacientesAtendidos(t){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("vista_turnos_con_nombres").select("paciente_id").eq("especialista_id",t).eq("estado","realizado");if(r)throw r;let o=[...new Set(e.map(a=>a.paciente_id))];if(!o.length)return[];let{data:i,error:s}=yield this.supabase.from("usuarios").select("user_auth_id, nombre, apellido, avatar_url").in("user_auth_id",o);if(s)throw s;return i})}obtenerTurnosPacienteEspecialista(t,e){return h(this,null,function*(){let r=this.supabase.from("vista_turnos_con_nombres").select("*").eq("paciente_id",t);e&&(r=r.eq("especialista_id",e));let{data:o,error:i}=yield r;if(i)throw i;return o})}guardarHistoriaClinica(t){return h(this,null,function*(){let e={paciente_id:t.paciente_id,detalle:{altura:parseFloat(t.altura),peso:parseFloat(t.peso),temperatura:parseFloat(t.temperatura),presion:t.presion,datos_extra:t.datos_extra},fecha_creacion:new Date().toISOString()};console.log(e);let{error:r}=yield this.supabase.from("historias_clinicas").insert(e);if(r)throw r})}obtenerHistoriaClinica(t){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("historias_clinicas").select("*").eq("paciente_id",t).order("fecha_creacion",{ascending:!1}).limit(1).single();if(r&&r.code!=="PGRST116")throw r;return e})}obtenerLogIngresos(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("logins").select("email, fecha_login").limit(20).order("fecha_login",{ascending:!1});if(e)throw e;return t})}obtenerTurnosPorEspecialidad(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("vista_turnos_con_nombres").select("especialidad");if(e)throw e;let r={};return t.forEach(({especialidad:o})=>{r[o]=(r[o]??0)+1}),Object.entries(r).map(([o,i])=>({nombre:o,total:i}))})}obtenerTurnosPorDia(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("vista_turnos_con_nombres").select("fecha_hora");if(e)throw e;let r={};return t.forEach(({fecha_hora:o})=>{let i=new Date(o).toISOString().substring(0,10);r[i]=(r[i]??0)+1}),Object.entries(r).sort(([o],[i])=>o.localeCompare(i)).map(([o,i])=>({fecha:o,total:i}))})}obtenerTurnosPorMedico(t,e){return h(this,null,function*(){let{data:r,error:o}=yield this.supabase.from("vista_turnos_con_nombres").select("nombre_especialista").gte("fecha_hora",t).lte("fecha_hora",e);if(o)throw o;let i={};return r.forEach(({nombre_especialista:s})=>{i[s]=(i[s]??0)+1}),Object.entries(i).map(([s,a])=>({nombre:s,total:a}))})}obtenerTurnosFinalizadosPorMedico(t,e){return h(this,null,function*(){let{data:r,error:o}=yield this.supabase.from("vista_turnos_con_nombres").select("nombre_especialista").eq("estado","realizado").gte("fecha_hora",t).lte("fecha_hora",e);if(o)throw o;let i={};return r.forEach(({nombre_especialista:s})=>{i[s]=(i[s]??0)+1}),Object.entries(i).map(([s,a])=>({nombre:s,total:a}))})}obtenerTurnosSolicitadosMedico(t,e){return h(this,null,function*(){let{data:r,error:o}=yield this.supabase.from("vista_turnos_con_nombres").select("nombre_especialista").eq("estado","solicitado").gte("fecha_hora",t).lte("fecha_hora",e);if(o)throw o;let i={};return r.forEach(({nombre_especialista:s})=>{i[s]=(i[s]??0)+1}),Object.entries(i).map(([s,a])=>({nombre_especialista:s,total:a}))})}obtenerEspecialistasPorEspecialidad(t){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("usuarios").select("user_auth_id, nombre, apellido, avatar_url, especialidades").contains("especialidades",[t]).eq("perfil","especialista").eq("habilitado",!0);if(r)throw r;return e})}obtenerFechasDisponibles(t,e=14){return h(this,null,function*(){let r=new Date,o=[];for(let i=0;i<=e;i++){let s=new Date(r);s.setDate(r.getDate()+i);let a=s.toISOString().substring(0,10),{data:c,error:l}=yield this.supabase.rpc("buscar_horarios_disponibles",{especialista_id_input:t,fecha_input:a});if(l)throw l;Array.isArray(c)&&c.length&&o.push(a)}return o})}obtenerTurnosDePaciente(t){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.from("vista_turnos_con_nombres").select("*").eq("paciente_id",t);if(r)throw r;return e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};var ZD=class n{constructor(t){this.dbService=t;this.supabase=t.getCliente()}supabase;usuarioActual=null;getUsuarioActualAsync(){return h(this,null,function*(){let{data:t,error:e}=yield this.supabase.auth.getSession();return e||!t.session?.user?null:(this.usuarioActual=t.session.user,this.usuarioActual)})}getUsuarioActual(){return this.usuarioActual}estaLogueado(){return this.usuarioActual!==null}login(t,e){return h(this,null,function*(){let{data:r,error:o}=yield this.supabase.auth.signInWithPassword({email:t,password:e});if(o||!r.user)throw new Error("Credenciales inv\xE1lidas");let i=yield this.dbService.obtenerUsuarioActual(r.user.id);if(!r.user.email_confirmed_at)throw new Error("Debe verificar su email para ingresar.");if(i.perfil==="especialista"&&!i.habilitado)throw new Error("Su cuenta a\xFAn no fue habilitada por un administrador.");return this.usuarioActual=r.user,r.user})}logout(){return h(this,null,function*(){yield this.supabase.auth.signOut(),this.usuarioActual=null})}registrarUsuario(t,e){return h(this,null,function*(){let{data:r,error:o}=yield this.supabase.auth.signUp({email:t,password:e});if(o||!r.user)throw new Error("Error al registrar: "+o?.message);return r.user})}subirAvatar(t){return h(this,null,function*(){let{data:e,error:r}=yield this.supabase.storage.from("avatars").upload(`users/${Date.now()}_${t.name}`,t,{cacheControl:"3600",upsert:!1});if(r||!e?.path)throw new Error("Error al subir imagen: "+r?.message);let{data:o}=this.supabase.storage.from("avatars").getPublicUrl(e.path);return o.publicUrl})}guardarDatosUsuario(l,u,d,p,f,g,m){return h(this,arguments,function*(t,e,r,o,i,s,a,c={}){let v=w({user_auth_id:t.id,email:t.email,nombre:e,apellido:r,edad:o,dni:i,perfil:s,avatar_url:a,habilitado:s!=="especialista"},c),{error:D}=yield this.supabase.from("usuarios").insert(v);if(D)throw new Error("Error al guardar datos: "+D.message)})}getPerfilActual(){return h(this,null,function*(){let t=yield this.getUsuarioActualAsync();return t&&(yield this.dbService.obtenerUsuarioActual(t.id)).perfil||null})}static \u0275fac=function(e){return new(e||n)(I(Rl))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};function oN(n,t){if(n&1){let e=Hv();Jo(0,"div",1)(1,"span",2),_f(2),Qo(),Jo(3,"button",3),Le("click",function(){am(e);let o=wf();return cm(o.cerrar())}),_f(4,"\u2716"),Qo()()}if(n&2){let e=wf();Ya("ngClass",e.tipo),cv(2),Df(e.mensaje)}}var KD=class n{tipo="info";mensaje="";autoCerrar=!0;duracion=4e3;visible=!0;ngOnInit(){this.autoCerrar&&setTimeout(()=>this.visible=!1,this.duracion)}cerrar(){this.visible=!1}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Ga({type:n,selectors:[["app-mensaje"]],inputs:{tipo:"tipo",mensaje:"mensaje",autoCerrar:"autoCerrar",duracion:"duracion"},decls:1,vars:1,consts:[["class","alerta",3,"ngClass",4,"ngIf"],[1,"alerta",3,"ngClass"],[1,"contenido"],[1,"cerrar",3,"click"]],template:function(e,r){e&1&&gf(0,oN,5,2,"div",0),e&2&&Ya("ngIf",r.visible)},dependencies:[Nf,Rf],styles:[".alerta[_ngcontent-%COMP%]{position:fixed;top:2rem;left:50%;transform:translate(-50%);z-index:1050;padding:1rem 1.5rem;border-radius:1rem;font-weight:600;font-family:Open Sans,sans-serif;box-shadow:0 4px 12px #00000040;color:#fff;display:flex;justify-content:space-between;align-items:center;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out;max-width:90vw;width:fit-content;min-width:280px}.alerta.success[_ngcontent-%COMP%]{background-color:#28a745e6;border-left:5px solid #0f0}.alerta.error[_ngcontent-%COMP%]{background-color:#dc3545e6;border-left:5px solid #f66}.alerta.warning[_ngcontent-%COMP%]{background-color:#fd7e14e6;border-left:5px solid #ffc107}.alerta.info[_ngcontent-%COMP%]{background-color:#007bffe6;border-left:5px solid #66d9ff}.cerrar[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.2rem;font-weight:700;cursor:pointer;margin-left:1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}"]})};var YD=class n{constructor(t,e){this.el=t;this.rd=e}brSize=64;get w(){return this.brSize}get h(){return this.brSize}radius="50%";overflow="hidden";padding="0";border="0";outline="0";bg="transparent";pos="relative";disp="inline-block";shadow="0 2px 6px rgba(0,0,0,0.2)";transition="transform 0.2s ease";ngAfterViewInit(){this.el.nativeElement.querySelectorAll("img").forEach(e=>{this.rd.setStyle(e,"width","100%"),this.rd.setStyle(e,"height","100%"),this.rd.setStyle(e,"object-fit","cover"),this.rd.setStyle(e,"border-radius","50%"),this.rd.setStyle(e,"display","block"),this.rd.setStyle(e,"pointer-events","none")}),this.rd.listen(this.el.nativeElement,"mouseenter",()=>{this.rd.setStyle(this.el.nativeElement,"transform","scale(1.05)")}),this.rd.listen(this.el.nativeElement,"mouseleave",()=>{this.rd.setStyle(this.el.nativeElement,"transform","scale(1)")})}static \u0275fac=function(e){return new(e||n)(C(ge),C(Fe))};static \u0275dir=z({type:n,selectors:[["","botonesRedondos",""]],hostVars:24,hostBindings:function(e,r){e&2&&vf("width",r.w,"px")("height",r.h,"px")("border-radius",r.radius)("overflow",r.overflow)("padding",r.padding)("border",r.border)("outline",r.outline)("background",r.bg)("position",r.pos)("display",r.disp)("box-shadow",r.shadow)("transition",r.transition)},inputs:{brSize:"brSize"}})};export{X as a,ve as b,T as c,iu as d,O as e,Cr as f,Gs as g,su as h,xb as i,Ce as j,wt as k,zt as l,an as m,Rb as n,Ae as o,_ as p,Se as q,E as r,ut as s,b as t,I as u,y as v,iE as w,am as x,cm as y,ft as z,ce as A,ie as B,ge as C,Zo as D,L1 as E,Ko as F,$C as G,cv as H,Vr as I,Fe as J,C as K,Ga as L,pt as M,z as N,hf as O,gf as P,Ka as Q,Ya as R,vf as S,Ja as T,Jo as U,Qo as V,yf as W,LS as X,jS as Y,Hv as Z,Le as _,wf as $,WS as aa,W1 as ba,ZS as ca,KS as da,Z1 as ea,_f as fa,Df as ga,Gv as ha,JS as ia,QS as ja,K1 as ka,XS as la,Ge as ma,Y1 as na,J1 as oa,Q1 as pa,X1 as qa,ej as ra,tj as sa,nj as ta,rj as ua,qn as va,le as wa,Rf as xa,Dy as ya,Nf as za,LT as Aa,UT as Ba,BT as Ca,Cy as Da,$f as Ea,oM as Fa,zy as Ga,bM as Ha,NM as Ia,_n as Ja,rt as Ka,At as La,lo as Ma,Ot as Na,_h as Oa,kt as Pa,D_ as Qa,tR as Ra,nR as Sa,Rl as Ta,ZD as Ua,PM as Va,aw as Wa,_i as Xa,Yy as Ya,n$ as Za,r$ as _a,ux as $a,i$ as ab,fx as bb,gx as cb,vx as db,Sw as eb,Mw as fb,bx as gb,Rw as hb,s$ as ib,a$ as jb,c$ as kb,l$ as lb,u$ as mb,KD as nb,YD as ob};
