import{b as ea,c as ta,f as jd,g as na}from"./chunk-5PDZ6P5C.js";import{a as $n,b as Un,d as Ee,f as Rd,g as Pd,h}from"./chunk-RS6LHQUM.js";var As=Ee(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var Ns=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Os.default=Ns});var Rs=Ee(_n=>{"use strict";var xu=_n&&_n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_n,"__esModule",{value:!0});var Uv=xu((na(),Pd(jd))),Hv=xu(As()),ks=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Uv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>h(this,null,function*(){var s,a,c;let l=null,u=null,d=null,p=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){let w=yield i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=w:u=JSON.parse(w))}let m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let m=yield i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(u=[],l=null,p=200,f="OK")}catch{i.status===404&&m===""?(p=204,f="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,f="OK"),l&&this.shouldThrowOnError)throw new Hv.default(l)}return{error:l,data:u,count:d,status:p,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};_n.default=ks});var js=Ee(bn=>{"use strict";var Bv=bn&&bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bn,"__esModule",{value:!0});var qv=Bv(Rs()),Ps=class extends qv.default{select(t){let n=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};bn.default=Ps});var io=Ee(In=>{"use strict";var Wv=In&&In.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(In,"__esModule",{value:!0});var Gv=Wv(js()),Ls=class extends Gv.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};In.default=Ls});var Vs=Ee(xn=>{"use strict";var zv=xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xn,"__esModule",{value:!0});var En=zv(io()),Fs=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new En.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new En.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new En.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new En.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new En.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xn.default=Fs});var Cu=Ee(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.version=void 0;so.version="0.0.0-automated"});var Du=Ee(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.DEFAULT_HEADERS=void 0;var Qv=Cu();ao.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Qv.version}`}});var Mu=Ee(Cn=>{"use strict";var Tu=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cn,"__esModule",{value:!0});var Jv=Tu(Vs()),Kv=Tu(io()),Yv=Du(),$s=class e{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},Yv.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){let n=new URL(`${this.url}/${t}`);return new Jv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){let s,a=new URL(`${this.url}/rpc/${t}`),c;r||o?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",c=n);let l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Kv.default({method:s,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Cn.default=$s});var Pu=Ee(B=>{"use strict";var Ft=B&&B.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(B,"__esModule",{value:!0});B.PostgrestError=B.PostgrestBuilder=B.PostgrestTransformBuilder=B.PostgrestFilterBuilder=B.PostgrestQueryBuilder=B.PostgrestClient=void 0;var Su=Ft(Mu());B.PostgrestClient=Su.default;var Nu=Ft(Vs());B.PostgrestQueryBuilder=Nu.default;var Ou=Ft(io());B.PostgrestFilterBuilder=Ou.default;var Au=Ft(js());B.PostgrestTransformBuilder=Au.default;var ku=Ft(Rs());B.PostgrestBuilder=ku.default;var Ru=Ft(As());B.PostgrestError=Ru.default;B.default={PostgrestClient:Su.default,PostgrestQueryBuilder:Nu.default,PostgrestFilterBuilder:Ou.default,PostgrestTransformBuilder:Au.default,PostgrestBuilder:ku.default,PostgrestError:Ru.default}});var ra=null;var So=1,No=Symbol("SIGNAL");function M(e){let t=ra;return ra=e,t}var oa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ld(e){if(!(ko(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===So)){if(!e.producerMustRecompute(e)&&!Oo(e)){e.dirty=!1,e.lastCleanEpoch=So;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=So}}function ia(e){return e&&(e.nextProducerIndex=0),M(e)}function sa(e,t){if(M(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ko(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ao(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Oo(e){Hn(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Ld(n),r!==n.version))return!0}return!1}function aa(e){if(Hn(e),ko(e))for(let t=0;t<e.producerNode.length;t++)Ao(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ao(e,t){if(Fd(e),Hn(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)Ao(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Hn(o),o.producerIndexOfThis[r]=t}}function ko(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Hn(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Fd(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Vd(){throw new Error}var $d=Vd;function ca(e){$d=e}function _(e){return typeof e=="function"}function pt(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bn=pt(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Jt(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var H=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(_(r))try{r()}catch(i){t=i instanceof Bn?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{la(i)}catch(s){t=t??[],s instanceof Bn?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Bn(t)}}add(t){var n;if(t&&t!==this)if(this.closed)la(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Jt(n,t)}remove(t){let{_finalizers:n}=this;n&&Jt(n,t),t instanceof e&&t._removeParent(this)}};H.EMPTY=(()=>{let e=new H;return e.closed=!0,e})();var Ro=H.EMPTY;function qn(e){return e instanceof H||e&&"closed"in e&&_(e.remove)&&_(e.add)&&_(e.unsubscribe)}function la(e){_(e)?e():e.unsubscribe()}var le={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var gt={setTimeout(e,t,...n){let{delegate:r}=gt;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=gt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Wn(e){gt.setTimeout(()=>{let{onUnhandledError:t}=le;if(t)t(e);else throw e})}function Kt(){}var ua=Po("C",void 0,void 0);function da(e){return Po("E",void 0,e)}function fa(e){return Po("N",e,void 0)}function Po(e,t,n){return{kind:e,value:t,error:n}}var Ue=null;function mt(e){if(le.useDeprecatedSynchronousErrorHandling){let t=!Ue;if(t&&(Ue={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Ue;if(Ue=null,n)throw r}}else e()}function ha(e){le.useDeprecatedSynchronousErrorHandling&&Ue&&(Ue.errorThrown=!0,Ue.error=e)}var He=class extends H{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,qn(t)&&t.add(this)):this.destination=Bd}static create(t,n,r){return new vt(t,n,r)}next(t){this.isStopped?Lo(fa(t),this):this._next(t)}error(t){this.isStopped?Lo(da(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Lo(ua,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ud=Function.prototype.bind;function jo(e,t){return Ud.call(e,t)}var Fo=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Gn(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Gn(r)}else Gn(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Gn(n)}}},vt=class extends He{constructor(t,n,r){super();let o;if(_(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&le.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&jo(t.next,i),error:t.error&&jo(t.error,i),complete:t.complete&&jo(t.complete,i)}):o=t}this.destination=new Fo(o)}};function Gn(e){le.useDeprecatedSynchronousErrorHandling?ha(e):Wn(e)}function Hd(e){throw e}function Lo(e,t){let{onStoppedNotification:n}=le;n&&gt.setTimeout(()=>n(e,t))}var Bd={closed:!0,next:Kt,error:Hd,complete:Kt};var yt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Z(e){return e}function qd(...e){return Vo(e)}function Vo(e){return e.length===0?Z:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var S=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Gd(n)?n:new vt(n,r,o);return mt(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=pa(r),new r((o,i)=>{let s=new vt({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[yt](){return this}pipe(...n){return Vo(n)(this)}toPromise(n){return n=pa(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function pa(e){var t;return(t=e??le.Promise)!==null&&t!==void 0?t:Promise}function Wd(e){return e&&_(e.next)&&_(e.error)&&_(e.complete)}function Gd(e){return e&&e instanceof He||Wd(e)&&qn(e)}function $o(e){return _(e?.lift)}function D(e){return t=>{if($o(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(e,t,n,r,o){return new Uo(e,t,n,r,o)}var Uo=class extends He{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Ho(){return D((e,t)=>{let n=null;e._refCount++;let r=x(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Bo=class extends S{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$o(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new H;let n=this.getSubject();t.add(this.source.subscribe(x(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=H.EMPTY)}return t}refCount(){return Ho()(this)}};var ga=pt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class e extends S{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new zn(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ga}next(n){mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Ro:(this.currentObservers=null,i.push(n),new H(()=>{this.currentObservers=null,Jt(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new S;return n.source=this,n}}return e.create=(t,n)=>new zn(t,n),e})(),zn=class extends Oe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Ro}};var Yt=class extends Oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Zt=new S(e=>e.complete());function ma(e){return e&&_(e.schedule)}function va(e){return e[e.length-1]}function Qn(e){return _(va(e))?e.pop():void 0}function Ae(e){return ma(va(e))?e.pop():void 0}function wa(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function ya(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(e){return this instanceof Be?(this.v=e,this):new Be(e)}function _a(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(m){return new Promise(function(v,w){i.push([f,m,v,w])>1||c(f,m)})},g&&(o[f]=g(o[f])))}function c(f,g){try{l(r[f](g))}catch(m){p(i[0][3],m)}}function l(f){f.value instanceof Be?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ba(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ya=="function"?ya(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var Jn=e=>e&&typeof e.length=="number"&&typeof e!="function";function Kn(e){return _(e?.then)}function Yn(e){return _(e[yt])}function Zn(e){return Symbol.asyncIterator&&_(e?.[Symbol.asyncIterator])}function Xn(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zd(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var er=zd();function tr(e){return _(e?.[er])}function nr(e){return _a(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Be(n.read());if(o)return yield Be(void 0);yield yield Be(r)}}finally{n.releaseLock()}})}function rr(e){return _(e?.getReader)}function j(e){if(e instanceof S)return e;if(e!=null){if(Yn(e))return Qd(e);if(Jn(e))return Jd(e);if(Kn(e))return Kd(e);if(Zn(e))return Ia(e);if(tr(e))return Yd(e);if(rr(e))return Zd(e)}throw Xn(e)}function Qd(e){return new S(t=>{let n=e[yt]();if(_(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jd(e){return new S(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Kd(e){return new S(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Wn)})}function Yd(e){return new S(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Ia(e){return new S(t=>{Xd(e,t).catch(n=>t.error(n))})}function Zd(e){return Ia(nr(e))}function Xd(e,t){var n,r,o,i;return wa(this,void 0,void 0,function*(){try{for(n=ba(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function J(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function or(e,t=0){return D((n,r)=>{n.subscribe(x(r,o=>J(r,e,()=>r.next(o),t),()=>J(r,e,()=>r.complete(),t),o=>J(r,e,()=>r.error(o),t)))})}function ir(e,t=0){return D((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Ea(e,t){return j(e).pipe(ir(t),or(t))}function xa(e,t){return j(e).pipe(ir(t),or(t))}function Ca(e,t){return new S(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Da(e,t){return new S(n=>{let r;return J(n,t,()=>{r=e[er](),J(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>_(r?.return)&&r.return()})}function sr(e,t){if(!e)throw new Error("Iterable cannot be null");return new S(n=>{J(n,t,()=>{let r=e[Symbol.asyncIterator]();J(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Ta(e,t){return sr(nr(e),t)}function Ma(e,t){if(e!=null){if(Yn(e))return Ea(e,t);if(Jn(e))return Ca(e,t);if(Kn(e))return xa(e,t);if(Zn(e))return sr(e,t);if(tr(e))return Da(e,t);if(rr(e))return Ta(e,t)}throw Xn(e)}function ke(e,t){return t?Ma(e,t):j(e)}function ef(...e){let t=Ae(e);return ke(e,t)}function tf(e,t){let n=_(e)?e:()=>e,r=o=>o.error(n());return new S(t?o=>t.schedule(r,0,o):r)}function nf(e){return!!e&&(e instanceof S||_(e.lift)&&_(e.subscribe))}var qe=pt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function xe(e,t){return D((n,r)=>{let o=0;n.subscribe(x(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:rf}=Array;function of(e,t){return rf(t)?e(...t):e(t)}function ar(e){return xe(t=>of(e,t))}var{isArray:sf}=Array,{getPrototypeOf:af,prototype:cf,keys:lf}=Object;function cr(e){if(e.length===1){let t=e[0];if(sf(t))return{args:t,keys:null};if(uf(t)){let n=lf(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function uf(e){return e&&typeof e=="object"&&af(e)===cf}function lr(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function df(...e){let t=Ae(e),n=Qn(e),{args:r,keys:o}=cr(e);if(r.length===0)return ke([],t);let i=new S(ff(r,t,o?s=>lr(o,s):Z));return n?i.pipe(ar(n)):i}function ff(e,t,n=Z){return r=>{Sa(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Sa(t,()=>{let l=ke(e[c],t),u=!1;l.subscribe(x(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Sa(e,t,n){e?J(n,e,t):t()}function Na(e,t,n,r,o,i,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&t.complete()},f=m=>l<r?g(m):c.push(m),g=m=>{i&&t.next(m),l++;let v=!1;j(n(m,u++)).subscribe(x(t,w=>{o?.(w),i?f(w):t.next(w)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let w=c.shift();s?J(t,s,()=>g(w)):g(w)}p()}catch(w){t.error(w)}}))};return e.subscribe(x(t,f,()=>{d=!0,p()})),()=>{a?.()}}function We(e,t,n=1/0){return _(t)?We((r,o)=>xe((i,s)=>t(r,i,o,s))(j(e(r,o))),n):(typeof t=="number"&&(n=t),D((r,o)=>Na(r,o,e,n)))}function Oa(e=1/0){return We(Z,e)}function Aa(){return Oa(1)}function ur(...e){return Aa()(ke(e,Ae(e)))}function hf(e){return new S(t=>{j(e()).subscribe(t)})}function pf(...e){let t=Qn(e),{args:n,keys:r}=cr(e),o=new S(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;j(n[u]).subscribe(x(i,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?lr(r,a):a),i.complete())}))}});return t?o.pipe(ar(t)):o}function Xt(e,t){return D((n,r)=>{let o=0;n.subscribe(x(r,i=>e.call(t,i,o++)&&r.next(i)))})}function ka(e){return D((t,n)=>{let r=null,o=!1,i;r=t.subscribe(x(n,void 0,void 0,s=>{i=j(e(s,ka(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Ra(e,t,n,r,o){return(i,s)=>{let a=n,c=t,l=0;i.subscribe(x(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function gf(e,t){return _(t)?We(e,t,1):We(e,1)}function en(e){return D((t,n)=>{let r=!1;t.subscribe(x(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function qo(e){return e<=0?()=>Zt:D((t,n)=>{let r=0;t.subscribe(x(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function mf(e){return xe(()=>e)}function dr(e=vf){return D((t,n)=>{let r=!1;t.subscribe(x(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function vf(){return new qe}function yf(e){return D((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Pa(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Xt((o,i)=>e(o,i,r)):Z,qo(1),n?en(t):dr(()=>new qe))}function Wo(e){return e<=0?()=>Zt:D((t,n)=>{let r=[];t.subscribe(x(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function wf(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Xt((o,i)=>e(o,i,r)):Z,Wo(1),n?en(t):dr(()=>new qe))}function _f(e,t){return D(Ra(e,t,arguments.length>=2,!0))}function bf(...e){let t=Ae(e);return D((n,r)=>{(t?ur(e,n,t):ur(e,n)).subscribe(r)})}function If(e,t){return D((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(x(r,c=>{o?.unsubscribe();let l=0,u=i++;j(e(c,u)).subscribe(o=x(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ef(e){return D((t,n)=>{j(e).subscribe(x(n,()=>n.complete(),Kt)),!n.closed&&t.subscribe(n)})}function xf(e,t,n){let r=_(e)||t||n?{next:e,error:t,complete:n}:e;return r?D((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(x(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Z}var _c="https://g.co/ng/security#xss",N=class extends Error{constructor(t,n){super(Cf(t,n)),this.code=t}};function Cf(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Br(e){return{toString:e}.toString()}var It=globalThis;function O(e){for(let t in e)if(e[t]===O)return t;throw Error("Could not find renamed property on target object.")}function Df(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function X(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(X).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function ja(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var Tf=O({__forward_ref__:O});function bc(e){return e.__forward_ref__=bc,e.toString=function(){return X(this())},e}function z(e){return Ic(e)?e():e}function Ic(e){return typeof e=="function"&&e.hasOwnProperty(Tf)&&e.__forward_ref__===bc}function ie(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sx(e){return{providers:e.providers||[],imports:e.imports||[]}}function qr(e){return La(e,Ec)||La(e,xc)}function Nx(e){return qr(e)!==null}function La(e,t){return e.hasOwnProperty(t)?e[t]:null}function Mf(e){let t=e&&(e[Ec]||e[xc]);return t||null}function Fa(e){return e&&(e.hasOwnProperty(Va)||e.hasOwnProperty(Sf))?e[Va]:null}var Ec=O({\u0275prov:O}),Va=O({\u0275inj:O}),xc=O({ngInjectableDef:O}),Sf=O({ngInjectorDef:O}),F=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cc(e){return e&&!!e.\u0275providers}var Nf=O({\u0275cmp:O}),Of=O({\u0275dir:O}),Af=O({\u0275pipe:O}),kf=O({\u0275mod:O}),br=O({\u0275fac:O}),tn=O({__NG_ELEMENT_ID__:O}),$a=O({__NG_ENV_ID__:O});function Wr(e){return typeof e=="string"?e:e==null?"":String(e)}function Rf(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Wr(e)}function Pf(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new N(-200,e)}function Yi(e,t){throw new N(-201,!1)}var C=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(C||{}),ci;function Dc(){return ci}function re(e){let t=ci;return ci=e,t}function Tc(e,t,n){let r=qr(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&C.Optional)return null;if(t!==void 0)return t;Yi(e,"Injector")}var jf={},nn=jf,Lf="__NG_DI_FLAG__",Ir="ngTempTokenPath",Ff="ngTokenPath",Vf=/\n/gm,$f="\u0275",Ua="__source",Et;function Uf(){return Et}function Re(e){let t=Et;return Et=e,t}function Hf(e,t=C.Default){if(Et===void 0)throw new N(-203,!1);return Et===null?Tc(e,void 0,t):Et.get(e,t&C.Optional?null:void 0,t)}function je(e,t=C.Default){return(Dc()||Hf)(z(e),t)}function W(e,t=C.Default){return je(e,Gr(t))}function Gr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function li(e){let t=[];for(let n=0;n<e.length;n++){let r=z(e[n]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let o,i=C.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Bf(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(je(o,i))}else t.push(je(r))}return t}function Bf(e){return e[Lf]}function qf(e,t,n,r){let o=e[Ir];throw t[Ua]&&o.unshift(t[Ua]),e.message=Wf(`
`+e.message,o,n,r),e[Ff]=o,e[Ir]=null,e}function Wf(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==$f?e.slice(2):e;let o=X(t);if(Array.isArray(t))o=t.map(X).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):X(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Vf,`
  `)}`}function Ct(e,t){let n=e.hasOwnProperty(br);return n?e[br]:null}function Zi(e,t){e.forEach(n=>Array.isArray(n)?Zi(n,t):t(n))}function Mc(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Er(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Gf(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function zf(e,t,n){let r=gn(e,t);return r>=0?e[r|1]=n:(r=~r,Gf(e,r,t,n)),r}function Go(e,t){let n=gn(e,t);if(n>=0)return e[n|1]}function gn(e,t){return Qf(e,t,1)}function Qf(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var Dt={},oe=[],xr=new F(""),Sc=new F("",-1),Nc=new F(""),Cr=class{get(t,n=nn){if(n===nn){let r=new Error(`NullInjectorError: No provider for ${X(t)}!`);throw r.name="NullInjectorError",r}return n}},Oc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Oc||{}),rn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(rn||{}),Tt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Tt||{});function Jf(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function ui(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];Kf(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function Ac(e){return e===3||e===4||e===6}function Kf(e){return e.charCodeAt(0)===64}function on(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Ha(e,n,o,null,t[++r]):Ha(e,n,o,null,null))}}return e}function Ha(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(e[i+1]=o);return}else if(r===e[i+1]){e[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),r!==null&&e.splice(i++,0,r),o!==null&&e.splice(i++,0,o)}var kc="ng-template";function Yf(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&Jf(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Xi(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Xi(e){return e.type===4&&e.value!==kc}function Zf(e,t,n){let r=e.type===4&&!n?kc:e.value;return t===r}function Xf(e,t,n){let r=4,o=e.attrs,i=o!==null?nh(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!ue(r)&&!ue(c))return!1;if(s&&ue(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Zf(e,c,n)||c===""&&t.length===1){if(ue(r))return!1;s=!0}}else if(r&8){if(o===null||!Yf(e,o,c,n)){if(ue(r))return!1;s=!0}}else{let l=t[++a],u=eh(c,o,Xi(e),n);if(u===-1){if(ue(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(ue(r))return!1;s=!0}}}}return ue(r)||s}function ue(e){return(e&1)===0}function eh(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return rh(t,e)}function th(e,t,n=!1){for(let r=0;r<t.length;r++)if(Xf(e,t[r],n))return!0;return!1}function nh(e){for(let t=0;t<e.length;t++){let n=e[t];if(Ac(n))return t}return e.length}function rh(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Ba(e,t){return e?":not("+t.trim()+")":t}function oh(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!ue(s)&&(t+=Ba(i,o),o=""),r=s,i=i||!ue(r);n++}return o!==""&&(t+=Ba(i,o)),t}function ih(e){return e.map(oh).join(",")}function sh(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!ue(o))break;o=i}r++}return{attrs:t,classes:n}}function Ox(e){return Br(()=>{let t=Lc(e),n=Un($n({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Oc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||rn.Emulated,styles:e.styles||oe,_:null,schemas:e.schemas||null,tView:null,id:""});Fc(n);let r=e.dependencies;return n.directiveDefs=Wa(r,!1),n.pipeDefs=Wa(r,!0),n.id=uh(n),n})}function ah(e){return Qe(e)||Rc(e)}function ch(e){return e!==null}function Ax(e){return Br(()=>({type:e.type,bootstrap:e.bootstrap||oe,declarations:e.declarations||oe,imports:e.imports||oe,exports:e.exports||oe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function qa(e,t){if(e==null)return Dt;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a=Tt.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),t?(n[i]=a!==Tt.None?[r,a]:r,t[i]=s):n[i]=r}return n}function kx(e){return Br(()=>{let t=Lc(e);return Fc(t),t})}function Qe(e){return e[Nf]||null}function Rc(e){return e[Of]||null}function Pc(e){return e[Af]||null}function lh(e){let t=Qe(e)||Rc(e)||Pc(e);return t!==null?t.standalone:!1}function jc(e,t){let n=e[kf]||null;if(!n&&t===!0)throw new Error(`Type ${X(e)} does not have '\u0275mod' property.`);return n}function Lc(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Dt,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||oe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qa(e.inputs,t),outputs:qa(e.outputs),debugInfo:null}}function Fc(e){e.features?.forEach(t=>t(e))}function Wa(e,t){if(!e)return null;let n=t?Pc:ah;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(ch)}function uh(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function dh(e){return{\u0275providers:e}}function fh(...e){return{\u0275providers:Vc(!0,e),\u0275fromNgModule:!0}}function Vc(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Zi(t,s=>{let a=s;di(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&$c(o,i),n}function $c(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];es(o,i=>{t(i,r)})}}function di(e,t,n,r){if(e=z(e),!e)return!1;let o=null,i=Fa(e),s=!i&&Qe(e);if(!i&&!s){let c=e.ngModule;if(i=Fa(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)di(l,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Zi(i.imports,u=>{di(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&$c(l,t)}if(!a){let l=Ct(o)||(()=>new o);t({provide:o,useFactory:l,deps:oe},o),t({provide:Nc,useValue:o,multi:!0},o),t({provide:xr,useValue:()=>je(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;es(c,u=>{t(u,l)})}}else return!1;return o!==e&&e.providers!==void 0}function es(e,t){for(let n of e)Cc(n)&&(n=n.\u0275providers),Array.isArray(n)?es(n,t):t(n)}var hh=O({provide:String,useValue:O});function Uc(e){return e!==null&&typeof e=="object"&&hh in e}function ph(e){return!!(e&&e.useExisting)}function gh(e){return!!(e&&e.useFactory)}function Mt(e){return typeof e=="function"}function mh(e){return!!e.useClass}var Hc=new F(""),mr={},vh={},zo;function ts(){return zo===void 0&&(zo=new Cr),zo}var Le=class{},sn=class extends Le{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hi(t,s=>this.processProvider(s)),this.records.set(Sc,wt(void 0,this)),o.has("environment")&&this.records.set(Le,wt(void 0,this));let i=this.records.get(Hc);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Nc,oe,C.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=M(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),M(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Re(this),r=re(void 0),o;try{return t()}finally{Re(n),re(r)}}get(t,n=nn,r=C.Default){if(this.assertNotDestroyed(),t.hasOwnProperty($a))return t[$a](this);r=Gr(r);let o,i=Re(this),s=re(void 0);try{if(!(r&C.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=Ih(t)&&qr(t);l&&this.injectableDefInScope(l)?c=wt(fi(t),mr):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&C.Self?ts():this.parent;return n=r&C.Optional&&n===nn?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ir]=a[Ir]||[]).unshift(X(t)),i)throw a;return qf(a,t,"R3InjectorError",this.source)}else throw a}finally{re(s),Re(i)}}resolveInjectorInitializers(){let t=M(null),n=Re(this),r=re(void 0),o;try{let i=this.get(xr,oe,C.Self);for(let s of i)s()}finally{Re(n),re(r),M(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(X(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(t){t=z(t);let n=Mt(t)?t:z(t&&t.provide),r=wh(t);if(!Mt(t)&&t.multi===!0){let o=this.records.get(n);o||(o=wt(void 0,mr,!0),o.factory=()=>li(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=M(null);try{return n.value===mr&&(n.value=vh,n.value=n.factory()),typeof n.value=="object"&&n.value&&bh(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{M(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=z(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function fi(e){let t=qr(e),n=t!==null?t.factory:Ct(e);if(n!==null)return n;if(e instanceof F)throw new N(204,!1);if(e instanceof Function)return yh(e);throw new N(204,!1)}function yh(e){if(e.length>0)throw new N(204,!1);let n=Mf(e);return n!==null?()=>n.factory(e):()=>new e}function wh(e){if(Uc(e))return wt(void 0,e.useValue);{let t=Bc(e);return wt(t,mr)}}function Bc(e,t,n){let r;if(Mt(e)){let o=z(e);return Ct(o)||fi(o)}else if(Uc(e))r=()=>z(e.useValue);else if(gh(e))r=()=>e.useFactory(...li(e.deps||[]));else if(ph(e))r=()=>je(z(e.useExisting));else{let o=z(e&&(e.useClass||e.provide));if(_h(e))r=()=>new o(...li(e.deps));else return Ct(o)||fi(o)}return r}function wt(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function _h(e){return!!e.deps}function bh(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Ih(e){return typeof e=="function"||typeof e=="object"&&e instanceof F}function hi(e,t){for(let n of e)Array.isArray(n)?hi(n,t):n&&Cc(n)?hi(n.\u0275providers,t):t(n)}function Rx(e,t){e instanceof sn&&e.assertNotDestroyed();let n,r=Re(e),o=re(void 0);try{return t()}finally{Re(r),re(o)}}function Eh(){return Dc()!==void 0||Uf()!=null}function xh(e){return typeof e=="function"}var De=0,I=1,y=2,G=3,de=4,pe=5,an=6,cn=7,K=8,St=9,fe=10,V=11,ln=12,Ga=13,Pt=14,he=15,zr=16,_t=17,Nt=18,Qr=19,qc=20,Pe=21,Qo=22,Je=23,Ce=25,Wc=1;var Ke=7,Dr=8,Tr=9,Q=10,ns=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ns||{});function Ge(e){return Array.isArray(e)&&typeof e[Wc]=="object"}function Te(e){return Array.isArray(e)&&e[Wc]===!0}function Gc(e){return(e.flags&4)!==0}function Jr(e){return e.componentOffset>-1}function rs(e){return(e.flags&1)===1}function Fe(e){return!!e.template}function Ch(e){return(e[y]&512)!==0}var pi=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zc(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Dh(){return Qc}function Qc(e){return e.type.prototype.ngOnChanges&&(e.setInput=Mh),Th}Dh.ngInherit=!0;function Th(){let e=Kc(this),t=e?.current;if(t){let n=e.previous;if(n===Dt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Mh(e,t,n,r,o){let i=this.declaredInputs[r],s=Kc(e)||Sh(e,{previous:Dt,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new pi(l&&l.currentValue,n,c===Dt),zc(e,t,o,n)}var Jc="__ngSimpleChanges__";function Kc(e){return e[Jc]||null}function Sh(e,t){return e[Jc]=t}var za=null;var me=function(e,t,n){za?.(e,t,n)},Nh="svg",Oh="math",Ah=!1;function kh(){return Ah}function we(e){for(;Array.isArray(e);)e=e[De];return e}function Yc(e,t){return we(t[e])}function se(e,t){return we(t[e.index])}function os(e,t){return e.data[t]}function Ve(e,t){let n=t[e];return Ge(n)?n:n[De]}function is(e){return(e[y]&128)===128}function Rh(e){return Te(e[G])}function Mr(e,t){return t==null?null:e[t]}function Zc(e){e[_t]=0}function Ph(e){e[y]&1024||(e[y]|=1024,is(e)&&un(e))}function jh(e,t){for(;e>0;)t=t[Pt],e--;return t}function ss(e){return!!(e[y]&9216||e[Je]?.dirty)}function gi(e){e[fe].changeDetectionScheduler?.notify(1),ss(e)?un(e):e[y]&64&&(kh()?(e[y]|=1024,un(e)):e[fe].changeDetectionScheduler?.notify())}function un(e){e[fe].changeDetectionScheduler?.notify();let t=dn(e);for(;t!==null&&!(t[y]&8192||(t[y]|=8192,!is(t)));)t=dn(t)}function Xc(e,t){if((e[y]&256)===256)throw new N(911,!1);e[Pe]===null&&(e[Pe]=[]),e[Pe].push(t)}function Lh(e,t){if(e[Pe]===null)return;let n=e[Pe].indexOf(t);n!==-1&&e[Pe].splice(n,1)}function dn(e){let t=e[G];return Te(t)?t[G]:t}var T={lFrame:sl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fh(){return T.lFrame.elementDepthCount}function Vh(){T.lFrame.elementDepthCount++}function $h(){T.lFrame.elementDepthCount--}function el(){return T.bindingsEnabled}function Uh(){return T.skipHydrationRootTNode!==null}function Hh(e){return T.skipHydrationRootTNode===e}function Bh(){T.skipHydrationRootTNode=null}function A(){return T.lFrame.lView}function ee(){return T.lFrame.tView}function te(){let e=tl();for(;e!==null&&e.type===64;)e=e.parent;return e}function tl(){return T.lFrame.currentTNode}function qh(){let e=T.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function mn(e,t){let n=T.lFrame;n.currentTNode=e,n.isParent=t}function nl(){return T.lFrame.isParent}function Wh(){T.lFrame.isParent=!1}function Gh(e){return T.lFrame.bindingIndex=e}function vn(){return T.lFrame.bindingIndex++}function zh(e){let t=T.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Qh(){return T.lFrame.inI18n}function Jh(e,t){let n=T.lFrame;n.bindingIndex=n.bindingRootIndex=e,mi(t)}function Kh(){return T.lFrame.currentDirectiveIndex}function mi(e){T.lFrame.currentDirectiveIndex=e}function Yh(e){let t=T.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function rl(e){T.lFrame.currentQueryIndex=e}function Zh(e){let t=e[I];return t.type===2?t.declTNode:t.type===1?e[pe]:null}function ol(e,t,n){if(n&C.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&C.Host);)if(o=Zh(i),o===null||(i=i[Pt],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=T.lFrame=il();return r.currentTNode=t,r.lView=e,!0}function as(e){let t=il(),n=e[I];T.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function il(){let e=T.lFrame,t=e===null?null:e.child;return t===null?sl(e):t}function sl(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function al(){let e=T.lFrame;return T.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var cl=al;function cs(){let e=al();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xh(e){return(T.lFrame.contextLView=jh(e,T.lFrame.contextLView))[K]}function nt(){return T.lFrame.selectedIndex}function Ye(e){T.lFrame.selectedIndex=e}function ls(){let e=T.lFrame;return os(e.tView,e.selectedIndex)}function ep(){return T.lFrame.currentNamespace}var ll=!0;function us(){return ll}function ds(e){ll=e}function tp(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Qc(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function fs(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function vr(e,t,n){ul(e,t,3,n)}function yr(e,t,n,r){(e[y]&3)===n&&ul(e,t,n,r)}function Jo(e,t){let n=e[y];(n&3)===t&&(n&=16383,n+=1,e[y]=n)}function ul(e,t,n,r){let o=r!==void 0?e[_t]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[_t]+=65536),(a<i||i==-1)&&(np(e,n,t,c),e[_t]=(e[_t]&4294901760)+c+2),c++}function Qa(e,t){me(4,e,t);let n=M(null);try{t.call(e)}finally{M(n),me(5,e,t)}}function np(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[y]>>14<e[_t]>>16&&(e[y]&3)===t&&(e[y]+=16384,Qa(a,i)):Qa(a,i)}var xt=-1,Ze=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function rp(e){return e instanceof Ze}function op(e){return(e.flags&8)!==0}function ip(e){return(e.flags&16)!==0}function dl(e){return e!==xt}function Sr(e){return e&32767}function sp(e){return e>>16}function Nr(e,t){let n=sp(e),r=t;for(;n>0;)r=r[Pt],n--;return r}var vi=!0;function Ja(e){let t=vi;return vi=e,t}var ap=256,fl=ap-1,hl=5,cp=0,ve={};function lp(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(tn)&&(r=n[tn]),r==null&&(r=n[tn]=cp++);let o=r&fl,i=1<<o;t.data[e+(o>>hl)]|=i}function Or(e,t){let n=pl(e,t);if(n!==-1)return n;let r=t[I];r.firstCreatePass&&(e.injectorIndex=t.length,Ko(r.data,e),Ko(t,null),Ko(r.blueprint,null));let o=hs(e,t),i=e.injectorIndex;if(dl(o)){let s=Sr(o),a=Nr(o,t),c=a[I].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function Ko(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pl(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function hs(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=wl(o),r===null)return xt;if(n++,o=o[Pt],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return xt}function yi(e,t,n){lp(e,t,n)}function up(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(Ac(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function gl(e,t,n){if(n&C.Optional||e!==void 0)return e;Yi(t,"NodeInjector")}function ml(e,t,n,r){if(n&C.Optional&&r===void 0&&(r=null),!(n&(C.Self|C.Host))){let o=e[St],i=re(void 0);try{return o?o.get(t,r,n&C.Optional):Tc(t,r,n&C.Optional)}finally{re(i)}}return gl(r,t,n)}function vl(e,t,n,r=C.Default,o){if(e!==null){if(t[y]&2048&&!(r&C.Self)){let s=gp(e,t,n,r,ve);if(s!==ve)return s}let i=yl(e,t,n,r,ve);if(i!==ve)return i}return ml(t,n,r,o)}function yl(e,t,n,r,o){let i=hp(n);if(typeof i=="function"){if(!ol(t,e,r))return r&C.Host?gl(o,n,r):ml(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&C.Optional))Yi(n);else return s}finally{cl()}}else if(typeof i=="number"){let s=null,a=pl(e,t),c=xt,l=r&C.Host?t[he][pe]:null;for((a===-1||r&C.SkipSelf)&&(c=a===-1?hs(e,t):t[a+8],c===xt||!Ya(r,!1)?a=-1:(s=t[I],a=Sr(c),t=Nr(c,t)));a!==-1;){let u=t[I];if(Ka(i,a,u.data)){let d=dp(a,t,n,s,r,l);if(d!==ve)return d}c=t[a+8],c!==xt&&Ya(r,t[I].data[a+8]===l)&&Ka(i,a,t)?(s=u,a=Sr(c),t=Nr(c,t)):a=-1}}return o}function dp(e,t,n,r,o,i){let s=t[I],a=s.data[e+8],c=r==null?Jr(a)&&vi:r!=s&&(a.type&3)!==0,l=o&C.Host&&i===a,u=fp(a,s,n,c,l);return u!==null?Ot(t,s,u,a):ve}function fp(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:l;for(let f=d;f<p;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(o){let f=s[c];if(f&&Fe(f)&&f.type===n)return c}return null}function Ot(e,t,n,r){let o=e[n],i=t.data;if(rp(o)){let s=o;s.resolving&&Pf(Rf(i[n]));let a=Ja(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?re(s.injectImpl):null,u=ol(e,r,C.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&tp(n,i[n],t)}finally{l!==null&&re(l),Ja(a),s.resolving=!1,cl()}}return o}function hp(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(tn)?e[tn]:void 0;return typeof t=="number"?t>=0?t&fl:pp:t}function Ka(e,t,n){let r=1<<e;return!!(n[t+(e>>hl)]&r)}function Ya(e,t){return!(e&C.Self)&&!(e&C.Host&&t)}var ze=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return vl(this._tNode,this._lView,t,Gr(r),n)}};function pp(){return new ze(te(),A())}function Px(e){return Br(()=>{let t=e.prototype.constructor,n=t[br]||wi(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[br]||wi(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function wi(e){return Ic(e)?()=>{let t=wi(z(e));return t&&t()}:Ct(e)}function gp(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[y]&2048&&!(s[y]&512);){let a=yl(i,s,n,r|C.Self,ve);if(a!==ve)return a;let c=i.parent;if(!c){let l=s[qc];if(l){let u=l.get(n,ve,r);if(u!==ve)return u}c=wl(s),s=s[Pt]}i=c}return o}function wl(e){let t=e[I],n=t.type;return n===2?t.declTNode:n===1?e[pe]:null}function jx(e){return up(te(),e)}function Za(e,t=null,n=null,r){let o=_l(e,t,n,r);return o.resolveInjectorInitializers(),o}function _l(e,t=null,n=null,r,o=new Set){let i=[n||oe,fh(e)];return r=r||(typeof e=="object"?void 0:X(e)),new sn(i,t||ts(),r||null,o)}var bl=(()=>{class e{static{this.THROW_IF_NOT_FOUND=nn}static{this.NULL=new Cr}static create(n,r){if(Array.isArray(n))return Za({name:""},r,n,"");{let o=n.name??"";return Za({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=ie({token:e,providedIn:"any",factory:()=>je(Sc)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var mp="ngOriginalError";function Yo(e){return e[mp]}var At=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Yo(t);for(;n&&Yo(n);)n=Yo(n);return n||null}},Il=new F("",{providedIn:"root",factory:()=>W(At).handleError.bind(void 0)}),El=(()=>{class e{static{this.__NG_ELEMENT_ID__=vp}static{this.__NG_ENV_ID__=n=>n}}return e})(),_i=class extends El{constructor(t){super(),this._lView=t}onDestroy(t){return Xc(this._lView,t),()=>Lh(this._lView,t)}};function vp(){return new _i(A())}function yp(){return ps(te(),A())}function ps(e,t){return new wp(se(e,t))}var wp=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=yp}}return e})();var bi=class extends Oe{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,Eh()&&(this.destroyRef=W(El,{optional:!0})??void 0)}emit(t){let n=M(null);try{super.next(t)}finally{M(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=Zo(i),o&&(o=Zo(o)),s&&(s=Zo(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof H&&t.add(a),a}};function Zo(e){return t=>{setTimeout(e,void 0,t)}}var fr=bi;function xl(e){return(e.flags&128)===128}var Cl=new Map,_p=0;function bp(){return _p++}function Ip(e){Cl.set(e[Qr],e)}function Ep(e){Cl.delete(e[Qr])}var Xa="__ngContext__";function Xe(e,t){Ge(t)?(e[Xa]=t[Qr],Ip(t)):e[Xa]=t}function Dl(e){return Ml(e[ln])}function Tl(e){return Ml(e[de])}function Ml(e){for(;e!==null&&!Te(e);)e=e[de];return e}var Ii;function Lx(e){Ii=e}function xp(){if(Ii!==void 0)return Ii;if(typeof document<"u")return document;throw new N(210,!1)}var Fx=new F("",{providedIn:"root",factory:()=>Cp}),Cp="ng",Dp=new F(""),Vx=new F("",{providedIn:"platform",factory:()=>"unknown"});var $x=new F("",{providedIn:"root",factory:()=>xp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Tp="h",Mp="b";var Sp=()=>null;function gs(e,t,n=!1){return Sp(e,t,n)}var Sl=!1,Np=new F("",{providedIn:"root",factory:()=>Sl});var hr;function Op(){if(hr===void 0&&(hr=null,It.trustedTypes))try{hr=It.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return hr}function ec(e){return Op()?.createScriptURL(e)||e}var Ar=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_c})`}};function ms(e){return e instanceof Ar?e.changingThisBreaksApplicationSecurity:e}function Nl(e,t){let n=Ap(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${_c})`)}return n===t}function Ap(e){return e instanceof Ar&&e.getTypeName()||null}var kp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rp(e){return e=String(e),e.match(kp)?e:"unsafe:"+e}var vs=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(vs||{});function Pp(e){let t=Ol();return t?t.sanitize(vs.URL,e)||"":Nl(e,"URL")?ms(e):Rp(Wr(e))}function jp(e){let t=Ol();if(t)return ec(t.sanitize(vs.RESOURCE_URL,e)||"");if(Nl(e,"ResourceURL"))return ec(ms(e));throw new N(904,!1)}function Lp(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?jp:Pp}function Ux(e,t,n){return Lp(t,n)(e)}function Ol(){let e=A();return e&&e[fe].sanitizer}function Al(e){return e instanceof Function?e():e}var Ei=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ei||{}),Fp;function ys(e,t){return Fp(e,t)}function bt(e,t,n,r,o){if(r!=null){let i,s=!1;Te(r)?i=r:Ge(r)&&(s=!0,r=r[De]);let a=we(r);e===0&&n!==null?o==null?jl(t,n,a):kr(t,n,a,o||null,!0):e===1&&n!==null?kr(t,n,a,o||null,!0):e===2?tg(t,a,s):e===3&&t.destroyNode(a),i!=null&&rg(t,e,i,n,o)}}function Vp(e,t){return e.createText(t)}function $p(e,t,n){e.setValue(t,n)}function kl(e,t,n){return e.createElement(t,n)}function Up(e,t){Rl(e,t),t[De]=null,t[pe]=null}function Hp(e,t,n,r,o,i){r[De]=o,r[pe]=t,Yr(e,r,n,1,o,i)}function Rl(e,t){t[fe].changeDetectionScheduler?.notify(1),Yr(e,t,t[V],2,null,null)}function Bp(e){let t=e[ln];if(!t)return Xo(e[I],e);for(;t;){let n=null;if(Ge(t))n=t[ln];else{let r=t[Q];r&&(n=r)}if(!n){for(;t&&!t[de]&&t!==e;)Ge(t)&&Xo(t[I],t),t=t[G];t===null&&(t=e),Ge(t)&&Xo(t[I],t),n=t&&t[de]}t=n}}function qp(e,t,n,r){let o=Q+r,i=n.length;r>0&&(n[o-1][de]=t),r<i-Q?(t[de]=n[o],Mc(n,Q+r,t)):(n.push(t),t[de]=null),t[G]=n;let s=t[zr];s!==null&&n!==s&&Wp(s,t);let a=t[Nt];a!==null&&a.insertView(e),gi(t),t[y]|=128}function Wp(e,t){let n=e[Tr],o=t[G][G][he];t[he]!==o&&(e[y]|=ns.HasTransplantedViews),n===null?e[Tr]=[t]:n.push(t)}function Pl(e,t){let n=e[Tr],r=n.indexOf(t);n.splice(r,1)}function fn(e,t){if(e.length<=Q)return;let n=Q+t,r=e[n];if(r){let o=r[zr];o!==null&&o!==e&&Pl(o,r),t>0&&(e[n-1][de]=r[de]);let i=Er(e,Q+t);Up(r[I],r);let s=i[Nt];s!==null&&s.detachView(i[I]),r[G]=null,r[de]=null,r[y]&=-129}return r}function Kr(e,t){if(!(t[y]&256)){let n=t[V];n.destroyNode&&Yr(e,t,n,3,null,null),Bp(t)}}function Xo(e,t){if(t[y]&256)return;let n=M(null);try{t[y]&=-129,t[y]|=256,t[Je]&&aa(t[Je]),zp(e,t),Gp(e,t),t[I].type===1&&t[V].destroy();let r=t[zr];if(r!==null&&Te(t[G])){r!==t[G]&&Pl(r,t);let o=t[Nt];o!==null&&o.detachView(e)}Ep(t)}finally{M(n)}}function Gp(e,t){let n=e.cleanup,r=t[cn];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[n[i+1]];n[i].call(s)}r!==null&&(t[cn]=null);let o=t[Pe];if(o!==null){t[Pe]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function zp(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof Ze)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];me(4,a,c);try{c.call(a)}finally{me(5,a,c)}}else{me(4,o,i);try{i.call(o)}finally{me(5,o,i)}}}}}function Qp(e,t,n){return Jp(e,t.parent,n)}function Jp(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[De];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=e.data[r.directiveStart+o];if(i===rn.None||i===rn.Emulated)return null}return se(r,n)}}function kr(e,t,n,r,o){e.insertBefore(t,n,r,o)}function jl(e,t,n){e.appendChild(t,n)}function tc(e,t,n,r,o){r!==null?kr(e,t,n,r,o):jl(e,t,n)}function Kp(e,t,n,r){e.removeChild(t,n,r)}function ws(e,t){return e.parentNode(t)}function Yp(e,t){return e.nextSibling(t)}function Zp(e,t,n){return eg(e,t,n)}function Xp(e,t,n){return e.type&40?se(e,n):null}var eg=Xp,nc;function _s(e,t,n,r){let o=Qp(e,r,t),i=t[V],s=r.parent||t[pe],a=Zp(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)tc(i,o,n[c],a,!1);else tc(i,o,n,a,!1);nc!==void 0&&nc(i,r,t,n,o)}function wr(e,t){if(t!==null){let n=t.type;if(n&3)return se(t,e);if(n&4)return xi(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return wr(e,r);{let o=e[t.index];return Te(o)?xi(-1,o):we(o)}}else{if(n&32)return ys(t,e)()||we(e[t.index]);{let r=Ll(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=dn(e[he]);return wr(o,r)}else return wr(e,t.next)}}}return null}function Ll(e,t){if(t!==null){let r=e[he][pe],o=t.projection;return r.projection[o]}return null}function xi(e,t){let n=Q+e+1;if(n<t.length){let r=t[n],o=r[I].firstChild;if(o!==null)return wr(r,o)}return t[Ke]}function tg(e,t,n){let r=ws(e,t);r&&Kp(e,r,t,n)}function bs(e,t,n,r,o,i,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Xe(we(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)bs(e,t,n.child,r,o,i,!1),bt(t,e,o,a,i);else if(c&32){let l=ys(n,r),u;for(;u=l();)bt(t,e,o,u,i);bt(t,e,o,a,i)}else c&16?ng(e,t,r,n,o,i):bt(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Yr(e,t,n,r,o,i){bs(n,r,e.firstChild,t,o,i,!1)}function ng(e,t,n,r,o,i){let s=n[he],c=s[pe].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];bt(t,e,o,u,i)}else{let l=c,u=s[G];xl(r)&&(l.flags|=128),bs(e,t,l,u,o,i,!0)}}function rg(e,t,n,r,o){let i=n[Ke],s=we(n);i!==s&&bt(t,e,r,i,o);for(let a=Q;a<n.length;a++){let c=n[a];Yr(c[I],c,e,t,r,i)}}function og(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Ei.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ei.Important),e.setStyle(n,r,o,i))}}function ig(e,t,n){e.setAttribute(t,"style",n)}function Fl(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Vl(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&ui(e,t,r),o!==null&&Fl(e,t,o),i!==null&&ig(e,t,i)}var jt={};function Hx(e=1){$l(ee(),A(),nt()+e,!1)}function $l(e,t,n,r){if(!r)if((t[y]&3)===3){let i=e.preOrderCheckHooks;i!==null&&vr(t,i,n)}else{let i=e.preOrderHooks;i!==null&&yr(t,i,0,n)}Ye(n)}function Is(e,t=C.Default){let n=A();if(n===null)return je(e,t);let r=te();return vl(r,n,z(e),t)}function Ul(e,t,n,r,o,i){let s=M(null);try{let a=null;o&Tt.SignalBased&&(a=t[r][No]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&Tt.HasDecoratorInputTransform&&(i=e.inputTransforms[r].call(t,i)),e.setInput!==null?e.setInput(t,a,i,n,r):zc(t,a,r,i)}finally{M(s)}}function sg(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Ye(~o);else{let i=o,s=n[++r],a=n[++r];Jh(s,i);let c=t[i];a(2,c)}}}finally{Ye(-1)}}function Zr(e,t,n,r,o,i,s,a,c,l,u){let d=t.blueprint.slice();return d[De]=o,d[y]=r|4|128|8|64,(l!==null||e&&e[y]&2048)&&(d[y]|=2048),Zc(d),d[G]=d[Pt]=e,d[K]=n,d[fe]=s||e&&e[fe],d[V]=a||e&&e[V],d[St]=c||e&&e[St]||null,d[pe]=i,d[Qr]=bp(),d[an]=u,d[qc]=l,d[he]=t.type==2?e[he]:d,d}function Xr(e,t,n,r,o){let i=e.data[t];if(i===null)i=ag(e,t,n,r,o),Qh()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=qh();i.injectorIndex=s===null?-1:s.injectorIndex}return mn(i,!0),i}function ag(e,t,n,r,o){let i=tl(),s=nl(),a=s?i:i&&i.parent,c=e.data[t]=fg(e,a,n,t,r,o);return e.firstChild===null&&(e.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function Hl(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Bl(e,t,n,r,o){let i=nt(),s=r&2;try{Ye(-1),s&&t.length>Ce&&$l(e,t,Ce,!1),me(s?2:0,o),n(r,o)}finally{Ye(i),me(s?3:1,o)}}function ql(e,t,n){if(Gc(t)){let r=M(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{M(r)}}}function Wl(e,t,n){el()&&(yg(e,t,n,se(n,t)),(n.flags&64)===64&&Yl(e,t,n))}function Gl(e,t,n=se){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function zl(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Es(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Es(e,t,n,r,o,i,s,a,c,l,u){let d=Ce+r,p=d+o,f=cg(d,p),g=typeof l=="function"?l():l;return f[I]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function cg(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:jt);return n}function lg(e,t,n,r){let i=r.get(Np,Sl)||n===rn.ShadowDom,s=e.selectRootElement(t,i);return ug(s),s}function ug(e){dg(e)}var dg=()=>null;function fg(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Uh()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function rc(e,t,n,r,o){for(let i in t){if(!t.hasOwnProperty(i))continue;let s=t[i];if(s===void 0)continue;r??={};let a,c=Tt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=i;if(o!==null){if(!o.hasOwnProperty(i))continue;l=o[i]}e===0?oc(r,n,l,a,c):oc(r,n,l,a)}return r}function oc(e,t,n,r,o){let i;e.hasOwnProperty(n)?(i=e[n]).push(t,r):i=e[n]=[t,r],o!==void 0&&i.push(o)}function hg(e,t,n){let r=t.directiveStart,o=t.directiveEnd,i=e.data,s=t.attrs,a=[],c=null,l=null;for(let u=r;u<o;u++){let d=i[u],p=n?n.get(d):null,f=p?p.inputs:null,g=p?p.outputs:null;c=rc(0,d.inputs,u,c,f),l=rc(1,d.outputs,u,l,g);let m=c!==null&&s!==null&&!Xi(t)?Sg(c,u,s):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}function pg(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ql(e,t,n,r,o,i,s,a){let c=se(t,n),l=t.inputs,u;!a&&l!=null&&(u=l[r])?(xs(e,n,u,r,o),Jr(t)&&gg(n,t.index)):t.type&3?(r=pg(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)):t.type&12}function gg(e,t){let n=Ve(t,e);n[y]&16||(n[y]|=64)}function Jl(e,t,n,r){if(el()){let o=r===null?null:{"":-1},i=_g(e,n),s,a;i===null?s=a=null:[s,a]=i,s!==null&&Kl(e,t,n,s,o,a),o&&bg(n,r,o)}n.mergedAttrs=on(n.mergedAttrs,n.attrs)}function Kl(e,t,n,r,o,i){for(let l=0;l<r.length;l++)yi(Or(n,t),e,r[l].type);Eg(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Hl(e,t,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=on(n.mergedAttrs,u.hostAttrs),xg(e,n,t,c,u),Ig(c,u,o),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}hg(e,n,i)}function mg(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;vg(s)!=a&&s.push(a),s.push(n,r,i)}}function vg(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function yg(e,t,n,r){let o=n.directiveStart,i=n.directiveEnd;Jr(n)&&Cg(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Or(n,t),Xe(r,t);let s=n.initialInputs;for(let a=o;a<i;a++){let c=e.data[a],l=Ot(t,e,a,n);if(Xe(l,t),s!==null&&Mg(t,a-o,l,c,n,s),Fe(c)){let u=Ve(n.index,t);u[K]=Ot(t,e,a,n)}}}function Yl(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Kh();try{Ye(i);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];mi(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&wg(c,l)}}finally{Ye(-1),mi(s)}}function wg(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function _g(e,t){let n=e.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(th(t,s.selectors,!1))if(r||(r=[]),Fe(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let c=a.length;Ci(e,t,c)}else r.unshift(s),Ci(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function Ci(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function bg(e,t,n){if(t){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new N(-301,!1);r.push(t[o],i)}}}function Ig(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Fe(t)&&(n[""]=e)}}function Eg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function xg(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=Ct(o.type,!0)),s=new Ze(i,Fe(o),Is);e.blueprint[r]=s,n[r]=s,mg(e,t,r,Hl(e,n,o.hostVars,jt),o)}function Cg(e,t,n){let r=se(t,e),o=zl(n),i=e[fe].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=eo(e,Zr(e,o,null,s,r,t,null,i.createRenderer(r,n),null,null,null));e[t.index]=a}function Dg(e,t,n,r,o,i){let s=se(e,t);Tg(t[V],s,i,e.value,n,r,o)}function Tg(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?Wr(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function Mg(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];Ul(r,n,c,l,u,d)}}function Sg(e,t,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(e.hasOwnProperty(i)){r===null&&(r=[]);let s=e[i];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(i,s[a+1],s[a+2],n[o+1]);break}}o+=2}return r}function Zl(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Xl(e,t){let n=e.contentQueries;if(n!==null){let r=M(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];rl(i),a.contentQueries(2,t[s],s)}}}finally{M(r)}}}function eo(e,t){return e[ln]?e[Ga][de]=t:e[ln]=t,e[Ga]=t,t}function Di(e,t,n){rl(0);let r=M(null);try{t(e,n)}finally{M(r)}}function Ng(e){return e[cn]||(e[cn]=[])}function Og(e){return e.cleanup||(e.cleanup=[])}function eu(e,t){let n=e[St],r=n?n.get(At,null):null;r&&r.handleError(t)}function xs(e,t,n,r,o){for(let i=0;i<n.length;){let s=n[i++],a=n[i++],c=n[i++],l=t[s],u=e.data[s];Ul(u,l,r,a,c,o)}}function Ag(e,t,n){let r=Yc(t,e);$p(e[V],r,n)}function kg(e,t){let n=Ve(t,e),r=n[I];Rg(r,n);let o=n[De];o!==null&&n[an]===null&&(n[an]=gs(o,n[St])),Cs(r,n,n[K])}function Rg(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Cs(e,t,n){as(t);try{let r=e.viewQuery;r!==null&&Di(1,r,n);let o=e.template;o!==null&&Bl(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Nt]?.finishViewCreation(e),e.staticContentQueries&&Xl(e,t),e.staticViewQueries&&Di(2,e.viewQuery,n);let i=e.components;i!==null&&Pg(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[y]&=-5,cs()}}function Pg(e,t){for(let n=0;n<t.length;n++)kg(e,t[n])}function tu(e,t,n,r){let o=M(null);try{let i=t.tView,a=e[y]&4096?4096:16,c=Zr(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[zr]=l;let u=e[Nt];return u!==null&&(c[Nt]=u.createEmbeddedView(i)),Cs(i,c,n),c}finally{M(o)}}function jg(e,t){let n=Q+t;if(n<e.length)return e[n]}function Rr(e,t){return!t||t.firstChild===null||xl(e)}function Ds(e,t,n,r=!0){let o=t[I];if(qp(o,t,e,n),r){let s=xi(n,e),a=t[V],c=ws(a,e[Ke]);c!==null&&Hp(o,e[pe],a,t,c,s)}let i=t[an];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Lg(e,t){let n=fn(e,t);return n!==void 0&&Kr(n[I],n),n}function Pr(e,t,n,r,o=!1){for(;n!==null;){let i=t[n.index];i!==null&&r.push(we(i)),Te(i)&&Fg(i,r);let s=n.type;if(s&8)Pr(e,t,n.child,r);else if(s&32){let a=ys(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Ll(t,n);if(Array.isArray(a))r.push(...a);else{let c=dn(t[he]);Pr(c[I],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Fg(e,t){for(let n=Q;n<e.length;n++){let r=e[n],o=r[I].firstChild;o!==null&&Pr(r[I],r,o,t)}e[Ke]!==e[De]&&t.push(e[Ke])}var nu=[];function Vg(e){return e[Je]??$g(e)}function $g(e){let t=nu.pop()??Object.create(Hg);return t.lView=e,t}function Ug(e){e.lView[Je]!==e&&(e.lView=null,nu.push(e))}var Hg=Un($n({},oa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{un(e.lView)},consumerOnSignalRead(){this.lView[Je]=this}}),ru=100;function ou(e,t=!0,n=0){let r=e[fe],o=r.rendererFactory,i=!1;i||o.begin?.();try{Bg(e,n)}catch(s){throw t&&eu(e,s),s}finally{i||(o.end?.(),r.inlineEffectRunner?.flush())}}function Bg(e,t){Ti(e,t);let n=0;for(;ss(e);){if(n===ru)throw new N(103,!1);n++,Ti(e,1)}}function qg(e,t,n,r){let o=t[y];if((o&256)===256)return;let i=!1;!i&&t[fe].inlineEffectRunner?.flush(),as(t);let s=null,a=null;!i&&Wg(e)&&(a=Vg(t),s=ia(a));try{Zc(t),Gh(e.bindingStartIndex),n!==null&&Bl(e,t,n,2,r);let c=(o&3)===3;if(!i)if(c){let d=e.preOrderCheckHooks;d!==null&&vr(t,d,null)}else{let d=e.preOrderHooks;d!==null&&yr(t,d,0,null),Jo(t,0)}if(Gg(t),iu(t,0),e.contentQueries!==null&&Xl(e,t),!i)if(c){let d=e.contentCheckHooks;d!==null&&vr(t,d)}else{let d=e.contentHooks;d!==null&&yr(t,d,1),Jo(t,1)}sg(e,t);let l=e.components;l!==null&&au(t,l,0);let u=e.viewQuery;if(u!==null&&Di(2,u,r),!i)if(c){let d=e.viewCheckHooks;d!==null&&vr(t,d)}else{let d=e.viewHooks;d!==null&&yr(t,d,2),Jo(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Qo]){for(let d of t[Qo])d();t[Qo]=null}i||(t[y]&=-73)}catch(c){throw un(t),c}finally{a!==null&&(sa(a,s),Ug(a)),cs()}}function Wg(e){return e.type!==2}function iu(e,t){for(let n=Dl(e);n!==null;n=Tl(n))for(let r=Q;r<n.length;r++){let o=n[r];su(o,t)}}function Gg(e){for(let t=Dl(e);t!==null;t=Tl(t)){if(!(t[y]&ns.HasTransplantedViews))continue;let n=t[Tr];for(let r=0;r<n.length;r++){let o=n[r],i=o[G];Ph(o)}}}function zg(e,t,n){let r=Ve(t,e);su(r,n)}function su(e,t){is(e)&&Ti(e,t)}function Ti(e,t){let r=e[I],o=e[y],i=e[Je],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Oo(i)),i&&(i.dirty=!1),e[y]&=-9217,s)qg(r,e,r.template,e[K]);else if(o&8192){iu(e,1);let a=r.components;a!==null&&au(e,a,1)}}function au(e,t,n){for(let r=0;r<t.length;r++)zg(e,t[r],n)}function Ts(e){for(e[fe].changeDetectionScheduler?.notify();e;){e[y]|=64;let t=dn(e);if(Ch(e)&&!t)return e;e=t}return null}var kt=class{get rootNodes(){let t=this._lView,n=t[I];return Pr(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[K]}set context(t){this._lView[K]=t}get destroyed(){return(this._lView[y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[G];if(Te(t)){let n=t[Dr],r=n?n.indexOf(this):-1;r>-1&&(fn(t,r),Er(n,r))}this._attachedToViewContainer=!1}Kr(this._lView[I],this._lView)}onDestroy(t){Xc(this._lView,t)}markForCheck(){Ts(this._cdRefInjectingView||this._lView)}detach(){this._lView[y]&=-129}reattach(){gi(this._lView),this._lView[y]|=128}detectChanges(){this._lView[y]|=1024,ou(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Rl(this._lView[I],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=t,gi(this._lView)}};var Bx=new RegExp(`^(\\d+)*(${Mp}|${Tp})*(.*)`);var Qg=()=>null;function jr(e,t){return Qg(e,t)}var Mi=class{},Si=class{},Lr=class{};function Jg(e){let t=Error(`No component factory found for ${X(e)}.`);return t[Kg]=e,t}var Kg="ngComponent";var Ni=class{resolveComponentFactory(t){throw Jg(t)}},to=(()=>{class e{static{this.NULL=new Ni}}return e})(),Oi=class{},qx=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Yg()}}return e})();function Yg(){let e=A(),t=te(),n=Ve(t.index,e);return(Ge(n)?n:e)[V]}var Zg=(()=>{class e{static{this.\u0275prov=ie({token:e,providedIn:"root",factory:()=>null})}}return e})(),ei={};var ic=new Set;function cu(e){ic.has(e)||(ic.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function sc(...e){}function Xg(){let e=typeof It.requestAnimationFrame=="function",t=It[e?"requestAnimationFrame":"setTimeout"],n=It[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var ye=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fr(!1),this.onMicrotaskEmpty=new fr(!1),this.onStable=new fr(!1),this.onError=new fr(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=Xg().nativeRequestAnimationFrame,nm(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new N(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,em,sc,sc);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},em={};function Ms(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function tm(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(It,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ai(e),e.isCheckStableRunning=!0,Ms(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ai(e))}function nm(e){let t=()=>{tm(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(rm(a))return n.invokeTask(o,i,s,a);try{return ac(e),n.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),cc(e)}},onInvoke:(n,r,o,i,s,a,c)=>{try{return ac(e),n.invoke(o,i,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),cc(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&(i.change=="microTask"?(e._hasPendingMicrotasks=i.microTask,Ai(e),Ms(e)):i.change=="macroTask"&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}function Ai(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function ac(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function cc(e){e._nesting--,Ms(e)}function rm(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var lu=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ie({token:e,providedIn:"root",factory:()=>new e})}}return e})();function ki(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=ja(o,a);else if(i==2){let c=a,l=t[++s];r=ja(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}var Fr=class extends to{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Qe(t);return new hn(n,this.ngModule)}};function lc(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function om(e){let t=e.toLowerCase();return t==="svg"?Nh:t==="math"?Oh:null}var Ri=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Gr(r);let o=this.injector.get(t,ei,r);return o!==ei||n===ei?o:this.parentInjector.get(t,n,r)}},hn=class extends Lr{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=lc(t.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return lc(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=ih(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let i=M(null);try{o=o||this.ngModule;let s=o instanceof Le?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ri(t,s):t,c=a.get(Oi,null);if(c===null)throw new N(407,!1);let l=a.get(Zg,null),u=a.get(lu,null),d=a.get(Mi,null),p={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?lg(f,r,this.componentDef.encapsulation,a):kl(f,g,om(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let w=null;m!==null&&(w=gs(m,a,!0));let U=Es(0,null,null,1,0,null,null,null,null,null,null),R=Zr(null,U,null,v,null,null,p,f,a,null,w);as(R);let P,q;try{let $=this.componentDef,ht,Mo=null;$.findHostDirectiveDefs?(ht=[],Mo=new Map,$.findHostDirectiveDefs($,ht,Mo),ht.push($)):ht=[$];let Ad=im(R,m),kd=sm(Ad,m,$,ht,R,p,f);q=os(U,Ce),m&&lm(f,$,m,r),n!==void 0&&um(q,this.ngContentSelectors,n),P=cm(kd,$,ht,Mo,R,[dm]),Cs(U,R,null)}finally{cs()}return new Pi(this.componentType,P,ps(q,R),R,q)}finally{M(i)}}},Pi=class extends Si{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new kt(o,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView;xs(i[I],i,o,t,n),this.previousInputValues.set(t,n);let s=Ve(this._tNode.index,i);Ts(s)}}get injector(){return new ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function im(e,t){let n=e[I],r=Ce;return e[r]=t,Xr(n,r,2,"#host",null)}function sm(e,t,n,r,o,i,s){let a=o[I];am(r,e,t,s);let c=null;t!==null&&(c=gs(t,o[St]));let l=i.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Zr(o,zl(n),null,u,o[e.index],e,i,l,null,null,c);return a.firstCreatePass&&Ci(a,e,r.length-1),eo(o,d),o[e.index]=d}function am(e,t,n,r){for(let o of e)t.mergedAttrs=on(t.mergedAttrs,o.hostAttrs);t.mergedAttrs!==null&&(ki(t,t.mergedAttrs,!0),n!==null&&Vl(r,n,t))}function cm(e,t,n,r,o,i){let s=te(),a=o[I],c=se(s,o);Kl(a,o,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,p=Ot(o,a,d,s);Xe(p,o)}Yl(a,o,s),c&&Xe(c,o);let l=Ot(o,a,s.directiveStart+s.componentOffset,s);if(e[K]=o[K]=l,i!==null)for(let u of i)u(l,t);return ql(a,s,o),l}function lm(e,t,n,r){if(r)ui(e,n,["ng-version","17.3.12"]);else{let{attrs:o,classes:i}=sh(t.selectors[0]);o&&ui(e,n,o),i&&i.length>0&&Fl(e,n,i.join(" "))}}function um(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null?Array.from(i):null)}}function dm(){let e=te();fs(A()[I],e)}var fm=(()=>{class e{static{this.__NG_ELEMENT_ID__=hm}}return e})();function hm(){let e=te();return gm(e,A())}var pm=fm,uu=class extends pm{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ps(this._hostTNode,this._hostLView)}get injector(){return new ze(this._hostTNode,this._hostLView)}get parentInjector(){let t=hs(this._hostTNode,this._hostLView);if(dl(t)){let n=Nr(t,this._hostLView),r=Sr(t),o=n[I].data[r+8];return new ze(o,n)}else return new ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=uc(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Q}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=jr(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Rr(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!xh(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let c=s?t:new hn(Qe(t)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let m=(s?l:this.parentInjector).get(Le,null);m&&(i=m)}let u=Qe(c.componentType??{}),d=jr(this._lContainer,u?.id??null),p=d?.firstChild??null,f=c.create(l,o,p,i);return this.insertImpl(f.hostView,a,Rr(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Rh(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[G],l=new uu(c,c[pe],c[G]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Ds(s,o,i,r),t.attachToViewContainerRef(),Mc(ti(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=uc(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=fn(this._lContainer,n);r&&(Er(ti(this._lContainer),n),Kr(r[I],r))}detach(t){let n=this._adjustIndex(t,-1),r=fn(this._lContainer,n);return r&&Er(ti(this._lContainer),n)!=null?new kt(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function uc(e){return e[Dr]}function ti(e){return e[Dr]||(e[Dr]=[])}function gm(e,t){let n,r=t[e.index];return Te(r)?n=r:(n=Zl(r,t,null,e),t[e.index]=n,eo(t,n)),vm(n,t,e,r),new uu(n,e,t)}function mm(e,t){let n=e[V],r=n.createComment(""),o=se(t,e),i=ws(n,o);return kr(n,i,r,Yp(n,o),!1),r}var vm=_m,ym=()=>!1;function wm(e,t,n){return ym(e,t,n)}function _m(e,t,n,r){if(e[Ke])return;let o;n.type&8?o=we(r):o=mm(t,n),e[Ke]=o}function bm(e){return typeof e=="function"&&e[No]!==void 0}function du(e){return bm(e)&&typeof e.set=="function"}function Im(e){return Object.getPrototypeOf(e.prototype).constructor}function Em(e){let t=Im(e.type),n=!0,r=[e];for(;t;){let o;if(Fe(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new N(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=pr(e.inputs),s.inputTransforms=pr(e.inputTransforms),s.declaredInputs=pr(e.declaredInputs),s.outputs=pr(e.outputs);let a=o.hostBindings;a&&Mm(e,a);let c=o.viewQuery,l=o.contentQueries;if(c&&Dm(e,c),l&&Tm(e,l),xm(e,o),Df(e.outputs,o.outputs),Fe(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===Em&&(n=!1)}}t=Object.getPrototypeOf(t)}Cm(r)}function xm(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function Cm(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=on(o.hostAttrs,n=on(n,o.hostAttrs))}}function pr(e){return e===Dt?{}:e===oe?[]:e}function Dm(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function Tm(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function Mm(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function Gx(e){let t=e.inputConfig,n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}e.inputTransforms=n}var et=class{},ji=class{};var Li=class extends et{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fr(this);let o=jc(t);this._bootstrapComponents=Al(o.bootstrap),this._r3Injector=_l(t,n,[{provide:et,useValue:this},{provide:to,useValue:this.componentFactoryResolver},...r],X(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Fi=class extends ji{constructor(t){super(),this.moduleType=t}create(t){return new Li(this.moduleType,t,[])}};var Vr=class extends et{constructor(t){super(),this.componentFactoryResolver=new Fr(this),this.instance=null;let n=new sn([...t.providers,{provide:et,useValue:this},{provide:to,useValue:this.componentFactoryResolver}],t.parent||ts(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Sm(e,t,n=null){return new Vr({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var fu=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Lt(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Nm(e){return(e.flags&32)===32}function Om(e,t,n,r,o,i,s,a,c){let l=t.consts,u=Xr(t,e,4,s||null,Mr(l,a));Jl(t,n,u,Mr(l,c)),fs(t,u);let d=u.tView=Es(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function Vi(e,t,n,r,o,i,s,a){let c=A(),l=ee(),u=e+Ce,d=l.firstCreatePass?Om(u,l,c,t,n,r,o,i,s):l.data[u];mn(d,!1);let p=Am(l,c,d,e);us()&&_s(l,c,p,d),Xe(p,c);let f=Zl(p,c,p,d);return c[u]=f,eo(c,f),wm(f,d,c),rs(d)&&Wl(l,c,d),s!=null&&Gl(c,d,a),Vi}var Am=km;function km(e,t,n,r){return ds(!0),t[V].createComment("")}function Rm(e,t,n,r){let o=A(),i=vn();if(Lt(o,i,t)){let s=ee(),a=ls();Dg(a,o,e,t,n,r)}return Rm}function Pm(e,t,n,r){return Lt(e,vn(),n)?t+Wr(n)+r:jt}function gr(e,t){return e<<17|t<<2}function tt(e){return e>>17&32767}function jm(e){return(e&2)==2}function Lm(e,t){return e&131071|t<<17}function $i(e){return e|2}function Rt(e){return(e&131068)>>2}function ni(e,t){return e&-131069|t<<2}function Fm(e){return(e&1)===1}function Ui(e){return e|1}function Vm(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=tt(s),c=Rt(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||gn(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let p=tt(e[a+1]);e[r+1]=gr(p,a),p!==0&&(e[p+1]=ni(e[p+1],r)),e[a+1]=Lm(e[a+1],r)}else e[r+1]=gr(a,0),a!==0&&(e[a+1]=ni(e[a+1],r)),a=r;else e[r+1]=gr(c,0),a===0?a=r:e[c+1]=ni(e[c+1],r),c=r;l&&(e[r+1]=$i(e[r+1])),dc(e,u,r,!0),dc(e,u,r,!1),$m(t,u,e,r,i),s=gr(a,c),i?t.classBindings=s:t.styleBindings=s}function $m(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&gn(i,t)>=0&&(n[r+1]=Ui(n[r+1]))}function dc(e,t,n,r){let o=e[n+1],i=t===null,s=r?tt(o):Rt(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],l=e[s+1];Um(c,t)&&(a=!0,e[s+1]=r?Ui(l):$i(l)),s=r?tt(l):Rt(l)}a&&(e[n+1]=r?$i(o):Ui(o))}function Um(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?gn(e,t)>=0:!1}function Hm(e,t,n){let r=A(),o=vn();if(Lt(r,o,t)){let i=ee(),s=ls();Ql(i,s,r,e,t,r[V],n,!1)}return Hm}function fc(e,t,n,r,o){let i=t.inputs,s=o?"class":"style";xs(e,n,i[s],s,r)}function Bm(e,t){return qm(e,t,null,!0),Bm}function qm(e,t,n,r){let o=A(),i=ee(),s=zh(2);if(i.firstUpdatePass&&Gm(i,e,s,r),t!==jt&&Lt(o,s,t)){let a=i.data[nt()];Ym(i,a,o,o[V],e,o[s+1]=Zm(t,n),r,s)}}function Wm(e,t){return t>=e.expandoStartIndex}function Gm(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[nt()],s=Wm(e,n);Xm(i,r)&&t===null&&!s&&(t=!1),t=zm(o,i,t,r),Vm(o,i,t,n,s,r)}}function zm(e,t,n,r){let o=Yh(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=ri(null,e,t,n,r),n=pn(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=ri(o,e,t,n,r),i===null){let c=Qm(e,t,r);c!==void 0&&Array.isArray(c)&&(c=ri(null,e,t,c[1],r),c=pn(c,t.attrs,r),Jm(e,t,r,c))}else i=Km(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function Qm(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Rt(r)!==0)return e[tt(r)]}function Jm(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[tt(o)]=r}function Km(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=pn(r,s,n)}return pn(r,t.attrs,n)}function ri(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=pn(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function pn(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),zf(e,s,n?!0:t[++i]))}return e===void 0?null:e}function Ym(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=Fm(l)?hc(c,t,n,o,Rt(l),s):void 0;if(!$r(u)){$r(i)||jm(l)&&(i=hc(c,null,n,o,a,s));let d=Yc(nt(),n);og(r,s,d,o,i)}}function hc(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[o+1];p===jt&&(p=d?oe:void 0);let f=d?Go(p,r):u===r?p:void 0;if(l&&!$r(f)&&(f=Go(c,r)),$r(f)&&(a=f,s))return a;let g=e[o+1];o=s?tt(g):Rt(g)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=Go(c,r))}return a}function $r(e){return e!==void 0}function Zm(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=X(ms(e)))),e}function Xm(e,t){return(e.flags&(t?8:16))!==0}var Hi=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t))}};function oi(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function ev(e,t,n){let r,o,i=0,s=e.length-1;if(Array.isArray(t)){let a=t.length-1;for(;i<=s&&i<=a;){let c=e.at(i),l=t[i],u=oi(i,c,i,l,n);if(u!==0){u<0&&e.updateValue(i,l),i++;continue}let d=e.at(s),p=t[a],f=oi(s,d,a,p,n);if(f!==0){f<0&&e.updateValue(s,p),s--,a--;continue}let g=n(i,c),m=n(s,d),v=n(i,l);if(Object.is(v,m)){let w=n(a,p);Object.is(w,g)?(e.swap(i,s),e.updateValue(s,p),a--,s--):e.move(s,i),e.updateValue(i,l),i++;continue}if(r??=new Ur,o??=gc(e,i,s,n),Bi(e,r,i,v))e.updateValue(i,l),i++,s++;else if(o.has(v))r.set(g,e.detach(i)),s--;else{let w=e.create(i,t[i]);e.attach(i,w),i++,s++}}for(;i<=a;)pc(e,r,n,i,t[i]),i++}else if(t!=null){let a=t[Symbol.iterator](),c=a.next();for(;!c.done&&i<=s;){let l=e.at(i),u=c.value,d=oi(i,l,i,u,n);if(d!==0)d<0&&e.updateValue(i,u),i++,c=a.next();else{r??=new Ur,o??=gc(e,i,s,n);let p=n(i,u);if(Bi(e,r,i,p))e.updateValue(i,u),i++,s++,c=a.next();else if(!o.has(p))e.attach(i,e.create(i,u)),i++,s++,c=a.next();else{let f=n(i,l);r.set(f,e.detach(i)),s--}}}for(;!c.done;)pc(e,r,n,e.length,c.value),c=a.next()}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(a=>{e.destroy(a)})}function Bi(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function pc(e,t,n,r,o){if(Bi(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function gc(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var Ur=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};var qi=class{constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Q}};function zx(e){return e}var Wi=class{constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Qx(e,t,n,r,o,i,s,a,c,l,u,d,p){cu("NgControlFlow");let f=c!==void 0,g=A(),m=a?s.bind(g[he][K]):s,v=new Wi(f,m);g[Ce+e]=v,Vi(e+1,t,n,r,o,i),f&&Vi(e+2,c,l,u,d,p)}var Gi=class extends Hi{constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Q}at(t){return this.getLView(t)[K].$implicit}attach(t,n){let r=n[an];this.needsIndexUpdate||=t!==this.length,Ds(this.lContainer,n,t,Rr(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,tv(this.lContainer,t)}create(t,n){let r=jr(this.lContainer,this.templateTNode.tView.ssrId);return tu(this.hostLView,this.templateTNode,new qi(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Kr(t[I],t)}updateValue(t,n){this.getLView(t)[K].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[K].$index=t}getLView(t){return nv(this.lContainer,t)}};function Jx(e){let t=M(null),n=nt();try{let r=A(),o=r[I],i=r[n];if(i.liveCollection===void 0){let a=n+1,c=mc(r,a),l=vc(o,a);i.liveCollection=new Gi(c,r,l)}else i.liveCollection.reset();let s=i.liveCollection;if(ev(s,e,i.trackByFn),s.updateIndexes(),i.hasEmptyBlock){let a=vn(),c=s.length===0;if(Lt(r,a,c)){let l=n+2,u=mc(r,l);if(c){let d=vc(o,l),p=jr(u,d.tView.ssrId),f=tu(r,d,void 0,{dehydratedView:p});Ds(u,f,0,Rr(d,p))}else Lg(u,0)}}}finally{M(t)}}function mc(e,t){return e[t]}function tv(e,t){return fn(e,t)}function nv(e,t){return jg(e,t)}function vc(e,t){return os(e,t)}function rv(e,t,n,r,o,i){let s=t.consts,a=Mr(s,o),c=Xr(t,e,2,r,a);return Jl(t,n,c,Mr(s,i)),c.attrs!==null&&ki(c,c.attrs,!1),c.mergedAttrs!==null&&ki(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function hu(e,t,n,r){let o=A(),i=ee(),s=Ce+e,a=o[V],c=i.firstCreatePass?rv(s,i,o,t,n,r):i.data[s],l=iv(i,o,c,a,t,e);o[s]=l;let u=rs(c);return mn(c,!0),Vl(a,l,c),!Nm(c)&&us()&&_s(i,o,l,c),Fh()===0&&Xe(l,o),Vh(),u&&(Wl(i,o,c),ql(i,c,o)),r!==null&&Gl(o,c),hu}function pu(){let e=te();nl()?Wh():(e=e.parent,mn(e,!1));let t=e;Hh(t)&&Bh(),$h();let n=ee();return n.firstCreatePass&&(fs(n,e),Gc(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&op(t)&&fc(n,t,A(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ip(t)&&fc(n,t,A(),t.stylesWithoutHost,!1),pu}function ov(e,t,n,r){return hu(e,t,n,r),pu(),ov}var iv=(e,t,n,r,o,i)=>(ds(!0),kl(r,o,ep()));var Hr="en-US";var sv=Hr;function av(e){typeof e=="string"&&(sv=e.toLowerCase().replace(/_/g,"-"))}function cv(e,t,n,r){let o=A(),i=ee(),s=te();return gu(i,o,o[V],s,e,t,r),cv}function lv(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[cn],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function gu(e,t,n,r,o,i,s){let a=rs(r),l=e.firstCreatePass&&Og(e),u=t[K],d=Ng(t),p=!0;if(r.type&3||s){let m=se(r,t),v=s?s(m):m,w=d.length,U=s?P=>s(we(P[r.index])):r.index,R=null;if(!s&&a&&(R=lv(e,t,o,r.index)),R!==null){let P=R.__ngLastListenerFn__||R;P.__ngNextListenerFn__=i,R.__ngLastListenerFn__=i,p=!1}else{i=wc(r,t,u,i,!1);let P=n.listen(v,o,i);d.push(i,P),l&&l.push(o,U,w,w+1)}}else i=wc(r,t,u,i,!1);let f=r.outputs,g;if(p&&f!==null&&(g=f[o])){let m=g.length;if(m)for(let v=0;v<m;v+=2){let w=g[v],U=g[v+1],q=t[w][U].subscribe(i),$=d.length;d.push(i,q),l&&l.push(o,r.index,$,-($+1))}}}function yc(e,t,n,r){let o=M(null);try{return me(6,t,n),n(r)!==!1}catch(i){return eu(e,i),!1}finally{me(7,t,n),M(o)}}function wc(e,t,n,r,o){return function i(s){if(s===Function)return r;let a=e.componentOffset>-1?Ve(e.index,t):t;Ts(a);let c=yc(t,n,r,s),l=i.__ngNextListenerFn__;for(;l;)c=yc(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return o&&c===!1&&s.preventDefault(),c}}function Kx(e=1){return Xh(e)}function Yx(e,t=""){let n=A(),r=ee(),o=e+Ce,i=r.firstCreatePass?Xr(r,o,1,t,null):r.data[o],s=uv(r,n,i,t,e);n[o]=s,us()&&_s(r,n,s,i),mn(i,!1)}var uv=(e,t,n,r,o)=>(ds(!0),Vp(t[V],r));function dv(e){return mu("",e,""),dv}function mu(e,t,n){let r=A(),o=Pm(r,e,t,n);return o!==jt&&Ag(r,nt(),o),mu}function fv(e,t,n){du(t)&&(t=t());let r=A(),o=vn();if(Lt(r,o,t)){let i=ee(),s=ls();Ql(i,s,r,e,t,r[V],n,!1)}return fv}function Zx(e,t){let n=du(e);return n&&e.set(t),n}function hv(e,t){let n=A(),r=ee(),o=te();return gu(r,n,n[V],o,e,t),hv}function pv(e,t,n){let r=ee();if(r.firstCreatePass){let o=Fe(e);zi(n,r.data,r.blueprint,o,!0),zi(t,r.data,r.blueprint,o,!1)}}function zi(e,t,n,r,o){if(e=z(e),Array.isArray(e))for(let i=0;i<e.length;i++)zi(e[i],t,n,r,o);else{let i=ee(),s=A(),a=te(),c=Mt(e)?e:z(e.provide),l=Bc(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Mt(e)||!e.multi){let f=new Ze(l,o,Is),g=si(c,t,o?u:u+p,d);g===-1?(yi(Or(a,s),i,c),ii(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=si(c,t,u+p,d),g=si(c,t,u,u+p),m=f>=0&&n[f],v=g>=0&&n[g];if(o&&!v||!o&&!m){yi(Or(a,s),i,c);let w=vv(o?mv:gv,n.length,o,r,l);!o&&v&&(n[g].providerFactory=w),ii(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(w),s.push(w)}else{let w=vu(n[o?g:f],l,!o&&r);ii(i,e,f>-1?f:g,w)}!o&&r&&v&&n[g].componentProviders++}}}function ii(e,t,n,r){let o=Mt(t),i=mh(t);if(o||i){let c=(i?z(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function vu(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function si(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function gv(e,t,n,r){return Qi(this.multi,[])}function mv(e,t,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ot(n,n[I],this.providerFactory.index,r);i=a.slice(0,s),Qi(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Qi(o,i);return i}function Qi(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function vv(e,t,n,r,o){let i=new Ze(e,n,Is);return i.multi=[],i.index=t,i.componentProviders=0,vu(i,o,r&&!n),i}function Xx(e,t=[]){return n=>{n.providersResolver=(r,o)=>pv(r,o?o(e):e,t)}}var yv=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Vc(!1,n.type),o=r.length>0?Sm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ie({token:e,providedIn:"environment",factory:()=>new e(je(Le))})}}return e})();function eC(e){cu("NgStandalone"),e.getStandaloneInjector=t=>t.get(yv).getOrCreateStandaloneInjector(e)}var tC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var wv=new F("");function yu(e){return!!e&&typeof e.then=="function"}function _v(e){return!!e&&typeof e.subscribe=="function"}var bv=new F(""),wu=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=W(bv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=o();if(yu(i))n.push(i);else if(_v(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Iv=new F("");function Ev(){ca(()=>{throw new N(600,!1)})}function xv(e){return e.isBoundToModule}function Cv(e,t,n){try{let r=n();return yu(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var _u=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(Il),this.afterRenderEffectManager=W(lu),this.externalTestViews=new Set,this.beforeRender=new Oe,this.afterTick=new Oe,this.componentTypes=[],this.components=[],this.isStable=W(fu).hasPendingTasks.pipe(xe(n=>!n)),this._injector=W(Le)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof Lr;if(!this._injector.get(wu).done){let p=!o&&lh(n),f=!1;throw new N(405,f)}let s;o?s=n:s=this._injector.get(to).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=xv(s)?void 0:this._injector.get(et),c=r||s.selector,l=s.create(bl.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(wv,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),ai(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new N(101,!1);let r=M(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,M(r)}}detectChangesInAttachedViews(n){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===ru)throw new N(103,!1);if(n){let i=r===0;this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:a}of this._views)Dv(s,i,a)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Ji(i))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Ji(i))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ai(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Iv,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ai(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ai(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Dv(e,t,n){!t&&!Ji(e)||Tv(e,n,t)}function Ji(e){return ss(e)}function Tv(e,t,n){let r;n?(r=0,e[y]|=1024):e[y]&64?r=0:r=1,ou(e,t,r)}var Ki=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},nC=(()=>{class e{compileModuleSync(n){return new Fi(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=jc(n),i=Al(o.declarations).reduce((s,a)=>{let c=Qe(a);return c&&s.push(new hn(c)),s},[]);return new Ki(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Mv=(()=>{class e{constructor(){this.zone=W(ye),this.applicationRef=W(_u)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Sv(e){return[{provide:ye,useFactory:e},{provide:xr,multi:!0,useFactory:()=>{let t=W(Mv,{optional:!0});return()=>t.initialize()}},{provide:xr,multi:!0,useFactory:()=>{let t=W(kv);return()=>{t.initialize()}}},{provide:Il,useFactory:Nv}]}function Nv(){let e=W(ye),t=W(At);return n=>e.runOutsideAngular(()=>t.handleError(n))}function Ov(e){let t=Sv(()=>new ye(Av(e)));return dh([[],t])}function Av(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var kv=(()=>{class e{constructor(){this.subscription=new H,this.initialized=!1,this.zone=W(ye),this.pendingTasks=W(fu)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Rv(){return typeof $localize<"u"&&$localize.locale||Hr}var bu=new F("",{providedIn:"root",factory:()=>W(bu,C.Optional|C.SkipSelf)||Rv()});var Iu=new F("");var _r=null;function Pv(e=[],t){return bl.create({name:t,providers:[{provide:Hc,useValue:"platform"},{provide:Iu,useValue:new Set([()=>_r=null])},...e]})}function jv(e=[]){if(_r)return _r;let t=Pv(e);return _r=t,Ev(),Lv(t),t}function Lv(e){e.get(Dp,null)?.forEach(n=>n())}var rC=(()=>{class e{static{this.__NG_ELEMENT_ID__=Fv}}return e})();function Fv(e){return Vv(te(),A(),(e&16)===16)}function Vv(e,t,n){if(Jr(e)&&!n){let r=Ve(e.index,t);return new kt(r,r)}else if(e.type&47){let r=t[he];return new kt(r,t)}return null}function oC(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,o=jv(r),i=[Ov(),...n||[]],a=new Vr({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ye);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(At,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),p=o.get(Iu);return p.add(d),a.onDestroy(()=>{u.unsubscribe(),p.delete(d)}),Cv(l,c,()=>{let f=a.get(wu);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(bu,Hr);av(g||Hr);let m=a.get(_u);return t!==void 0&&m.bootstrap(t),m})})})}catch(t){return Promise.reject(t)}}function iC(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var Eu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-6ISG364Z.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var yn=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},no=class extends yn{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},ro=class extends yn{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},oo=class extends yn{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Ss=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Ss||{});var $v=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},wn=class{constructor(t,{headers:n={},customFetch:r,region:o=Ss.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Eu(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return $v(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=n,a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:l}).catch(g=>{throw new no(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new ro(u);if(!u.ok)throw new oo(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(o){return{data:null,error:o}}})}};var ju=Rd(Pu(),1),{PostgrestClient:Lu,PostgrestQueryBuilder:CC,PostgrestFilterBuilder:DC,PostgrestTransformBuilder:TC,PostgrestBuilder:MC,PostgrestError:Zv}=ju.default;var Fu="2.11.2";var Vu={"X-Client-Info":`realtime-js/${Fu}`},$u="1.0.0",co=1e4,Uu=1e3,Vt=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Vt||{}),ne=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(ne||{}),ae=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(ae||{}),Us=function(e){return e.websocket="websocket",e}(Us||{}),rt=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(rt||{});var lo=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var $t=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var k=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(k||{}),Bs=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=Xv(s,e,t,o),i),{})},Xv=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?Hu(i,s):Hs(s)},Hu=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return ry(t,n)}switch(e){case k.bool:return ey(t);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return ty(t);case k.json:case k.jsonb:return ny(t);case k.timestamp:return oy(t);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:return Hs(t);default:return Hs(t)}},Hs=e=>e,ey=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ty=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ny=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ry=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Hu(t,a))}return e},oy=e=>typeof e=="string"?e.replace(" ","T"):e,uo=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var Ut=class{constructor(t,n,r={},o=co){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Dn=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let p=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),g=u.filter(v=>f.indexOf(v.presence_ref)<0),m=d.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,o(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Me=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Me||{});var Tn=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ut(this,ae.join,this.params,this.timeout),this.rejoinTimer=new $t(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ae.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Dn(this),this.broadcastEndpointURL=uo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(u=>t?.(Me.CHANNEL_ERROR,u)),this._onClose(()=>t?.(Me.CLOSED));let c={},l={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:u}){var p;if(this.socket.setAuth(),u===void 0){t?.(Me.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(p=f?.length)!==null&&p!==void 0?p:0,m=[];for(let v=0;v<g;v++){let w=f[v],{filter:{event:U,schema:R,table:P,filter:q}}=w,$=u&&u[v];if($&&$.event===U&&$.schema===R&&$.table===P&&$.filter===q)m.push(Object.assign(Object.assign({},w),{id:$.id}));else{this.unsubscribe(),t?.(Me.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Me.SUBSCRIBED);return}})).receive("error",u=>{t?.(Me.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t?.(Me.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this._on(t,n,r)}send(r){return h(this,arguments,function*(t,n={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ne.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ae.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Ut(this,ae.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_fetchWithTimeout(t,n,r){return h(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ut(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ae;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,m,v;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=f.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,m,v,w,U,R;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let P=f.id,q=(g=f.filter)===null||g===void 0?void 0:g.event;return P&&((m=n.ids)===null||m===void 0?void 0:m.includes(P))&&(q==="*"||q?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let P=(U=(w=f?.filter)===null||w===void 0?void 0:w.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return P==="*"||P===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:v,commit_timestamp:w,type:U,errors:R}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:w,eventType:U,new:{},old:{},errors:R}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ae.close,{},t)}_onError(t){this._on(ae.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Bs(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Bs(t.columns,t.old_record)),n}};var sy=()=>{},ay=typeof WebSocket<"u",cy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Mn=class{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Vu,this.params={},this.timeout=co,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sy,this.conn=null,this.sendBuffer=[],this.serializer=new lo,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-6ISG364Z.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${Us.websocket}`,this.httpEndpoint=uo(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let o=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $t(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ay){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qs(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-M3U5MHUS.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$u}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vt.connecting:return rt.Connecting;case Vt.open:return rt.Open;case Vt.closing:return rt.Closing;default:return rt.Closed}}isConnected(){return this.connectionState()===rt.Open}channel(t,n={config:{}}){let r=new Tn(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){let n=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(ae.access_token,{access_token:n})})}})}sendHeartbeat(){return h(this,null,function*(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Uu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){return h(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ae.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([cy],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}};var qs=class{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vt.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var Ht=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function L(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var fo=class extends Ht{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},ot=class extends Ht{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var ly=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},po=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-6ISG364Z.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Bu=()=>ly(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-6ISG364Z.js")).Response:Response}),ho=e=>{if(Array.isArray(e))return e.map(n=>ho(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=ho(r)}),t};var it=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},Ws=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uy=(e,t,n)=>it(void 0,void 0,void 0,function*(){let r=yield Bu();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{t(new fo(Ws(o),e.status||500))}).catch(o=>{t(new ot(Ws(o),o))}):t(new ot(Ws(e),e))}),dy=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function Sn(e,t,n,r,o,i){return it(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,dy(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>uy(c,a,r))})})}function Bt(e,t,n,r){return it(this,void 0,void 0,function*(){return Sn(e,"GET",t,n,r)})}function _e(e,t,n,r,o){return it(this,void 0,void 0,function*(){return Sn(e,"POST",t,r,o,n)})}function qu(e,t,n,r,o){return it(this,void 0,void 0,function*(){return Sn(e,"PUT",t,r,o,n)})}function Wu(e,t,n,r){return it(this,void 0,void 0,function*(){return Sn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function go(e,t,n,r,o){return it(this,void 0,void 0,function*(){return Sn(e,"DELETE",t,r,o,n)})}var Y=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},fy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},mo=class{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=po(o)}uploadOrUpdate(t,n,r,o){return Y(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},Gu),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),p=yield d.json();return d.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(L(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Y(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:Gu.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(L(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Y(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield _e(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Ht("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}update(t,n,r){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Y(this,void 0,void 0,function*(){try{return{data:yield _e(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Y(this,void 0,void 0,function*(){try{return{data:{path:(yield _e(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Y(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield _e(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Y(this,void 0,void 0,function*(){try{let o=yield _e(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}download(t,n){return Y(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield Bt(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(L(a))return{data:null,error:a};throw a}})}info(t){return Y(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield Bt(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ho(r),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}exists(t){return Y(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield Wu(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(L(r)&&r instanceof ot){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return Y(this,void 0,void 0,function*(){try{return{data:yield go(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}list(t,n,r){return Y(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},fy),n),{prefix:t||""});return{data:yield _e(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var zu="2.7.1";var Qu={"X-Client-Info":`storage-js/${zu}`};var qt=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},vo=class{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Qu),n),this.fetch=po(r)}listBuckets(){return qt(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}})}getBucket(t){return qt(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return qt(this,void 0,void 0,function*(){try{return{data:yield _e(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return qt(this,void 0,void 0,function*(){try{return{data:yield qu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qt(this,void 0,void 0,function*(){try{return{data:yield _e(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qt(this,void 0,void 0,function*(){try{return{data:yield go(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}};var Nn=class extends vo{constructor(t,n={},r){super(t,n,r)}from(t){return new mo(this.url,this.headers,t,this.fetch)}};var Ju="2.49.4";var On="";typeof Deno<"u"?On="deno":typeof document<"u"?On="web":typeof navigator<"u"&&navigator.product==="ReactNative"?On="react-native":On="node";var hy={"X-Client-Info":`supabase-js-${On}/${Ju}`},Ku={headers:hy},Yu={schema:"public"},Zu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xu={};na();var py=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},gy=e=>{let t;return e?t=e:typeof fetch>"u"?t=ea:t=fetch,(...n)=>t(...n)},my=()=>typeof Headers>"u"?ta:Headers,ed=(e,t,n)=>{let r=gy(n),o=my();return(i,s)=>py(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};var vy=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};function td(e){return e.replace(/\/$/,"")}function nd(e,t){let{db:n,auth:r,realtime:o,global:i}=e,{db:s,auth:a,realtime:c,global:l}=t,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},l),i),accessToken:()=>vy(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}var yo="2.69.1";var st=30*1e3,wo=3,_o=wo*st,rd="http://localhost:9999",od="supabase.auth.token";var id={"X-Client-Info":`gotrue-js/${yo}`};var An="X-Supabase-Api-Version",Gs={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sd=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ad=6e5;var kn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function b(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var bo=class extends kn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function cd(e){return b(e)&&e.name==="AuthApiError"}var Wt=class extends kn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},be=class extends kn{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},ce=class extends be{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ld(e){return b(e)&&e.name==="AuthSessionMissingError"}var Gt=class extends be{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},at=class extends be{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},ct=class extends be{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ud(e){return b(e)&&e.name==="AuthImplicitGrantRedirectError"}var Rn=class extends be{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},zt=class extends be{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Io(e){return b(e)&&e.name==="AuthRetryableFetchError"}var Pn=class extends be{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Se=class extends be{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fd=` 	
\r=`.split(""),yy=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fd.length;t+=1)e[fd[t].charCodeAt(0)]=-2;for(let t=0;t<dd.length;t+=1)e[dd[t].charCodeAt(0)]=t;return e})();function hd(e,t,n){let r=yy[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zs(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{by(s,r,n)};for(let s=0;s<e.length;s+=1)hd(e.charCodeAt(s),o,i);return t.join("")}function wy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _y(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}wy(r,t)}}function by(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function pd(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)hd(e.charCodeAt(o),n,r);return new Uint8Array(t)}function gd(e){let t=[];return _y(e,n=>t.push(n)),new Uint8Array(t)}function md(e){return Math.round(Date.now()/1e3)+e}function vd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var ge=()=>typeof window<"u"&&typeof document<"u",lt={tested:!1,writable:!1},$e=()=>{if(!ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lt.tested)return lt.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lt.tested=!0,lt.writable=!0}catch{lt.tested=!0,lt.writable=!1}return lt.writable};function yd(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var Eo=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-6ISG364Z.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wd=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qs=(e,t,n)=>h(void 0,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Ln=(e,t)=>h(void 0,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Fn=(e,t)=>h(void 0,null,function*(){yield e.removeItem(t)}),jn=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};jn.promiseConstructor=Promise;function xo(e){let t=e.split(".");if(t.length!==3)throw new Se("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!sd.test(t[r]))throw new Se("JWT not in base64url format");return{header:JSON.parse(zs(t[0])),payload:JSON.parse(zs(t[1])),signature:pd(t[2]),raw:{header:t[0],payload:t[1]}}}function _d(e){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function bd(e,t){return new Promise((r,o)=>{h(this,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})})}function Iy(e){return("0"+e.toString(16)).substr(-2)}function Ey(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,Iy).join("")}function xy(e){return h(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function Cy(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield xy(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ut(e,t,n=!1){return h(this,null,function*(){let r=Ey(),o=r;n&&(o+="/PASSWORD_RECOVERY"),yield Qs(e,`${t}-code-verifier`,o);let i=yield Cy(r);return[i,r===i?"plain":"s256"]})}var Dy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Id(e){let t=e.headers.get(An);if(!t||!t.match(Dy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ed(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xd(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ty=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},dt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),My=[502,503,504];function Cd(e){return h(this,null,function*(){var t;if(!wd(e))throw new zt(dt(e),0);if(My.includes(e.status))throw new zt(dt(e),e.status);let n;try{n=yield e.json()}catch(i){throw new Wt(dt(i),i)}let r,o=Id(e);if(o&&o.getTime()>=Gs["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Pn(dt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ce}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Pn(dt(n),e.status,n.weak_password.reasons);throw new bo(dt(n),e.status||500,r)})}var Sy=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function E(e,t,n,r){return h(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[An]||(i[An]=Gs["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield Ny(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function Ny(e,t,n,r,o,i){return h(this,null,function*(){let s=Sy(t,r,o,i),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new zt(dt(c),0)}if(a.ok||(yield Cd(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Cd(c)}})}function Ne(e){var t;let n=null;Oy(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=md(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Js(e){let t=Ne(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ie(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Dd(e){return{data:e,error:null}}function Td(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=Ty(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Md(e){return e}function Oy(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ay=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Qt=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Eo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t,n="global"){return h(this,null,function*(){try{return yield E(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(b(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return h(this,arguments,function*(t,n={}){try{return yield E(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ie})}catch(o){if(b(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return h(this,null,function*(){try{let{options:n}=t,r=Ay(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield E(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Td,redirectTo:n?.redirectTo})}catch(n){if(b(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return h(this,null,function*(){try{return yield E(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ie})}catch(n){if(b(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return h(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield E(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Md});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(b(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return h(this,null,function*(){try{return yield E(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ie})}catch(n){if(b(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return h(this,null,function*(){try{return yield E(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ie})}catch(r){if(b(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return h(this,null,function*(){try{return yield E(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ie})}catch(r){if(b(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){try{let{data:n,error:r}=yield E(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(b(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return h(this,null,function*(){try{return{data:yield E(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(b(n))return{data:null,error:n};throw n}})}};var Sd={getItem:e=>$e()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$e()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$e()&&globalThis.localStorage.removeItem(e)}};function Ks(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Nd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var ft={debug:!!(globalThis&&$e()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Vn=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Co=class extends Vn{};function Ys(e,t,n){return h(this,null,function*(){ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ft.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>h(this,null,function*(){if(o){ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield n()}finally{ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Co(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ft.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}Nd();var ky={url:rd,storageKey:od,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:id,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Od(e,t,n){return h(this,null,function*(){return yield n()})}var Zs=(()=>{class e{constructor(n){var r,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&ge()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},ky),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Qt({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Eo(i.fetch),this.lock=i.lock||Od,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ge()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Ys:this.lock=Od,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:$e()?this.storage=Sd:(this.memoryStorage={},this.storage=Ks(this.memoryStorage)):(this.memoryStorage={},this.storage=Ks(this.memoryStorage)),ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yo}) ${new Date().toISOString()}`,...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r=yd(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),ge()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ud(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return b(r)?{error:r}:{error:new Wt("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,o,i;try{let s=yield E(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ne}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(b(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return h(this,null,function*(){var r,o,i;try{let s;if("email"in n){let{email:d,password:p,options:f}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield ut(this.storage,this.storageKey)),s=yield E(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:Ne})}else if("phone"in n){let{phone:d,password:p,options:f}=n;s=yield E(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ne})}else throw new at("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(b(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield E(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Js})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield E(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Js})}else throw new at("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Gt}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(b(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield Ln(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield E(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Ne});if(yield Fn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Gt}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(b(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield E(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ne}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Gt}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(b(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,o,i,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield ut(this.storage,this.storageKey));let{error:p}=yield E(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield E(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new at("You must provide either an email or phone number.")}catch(c){if(b(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return h(this,null,function*(){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield E(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ne});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(b(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){return h(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield ut(this.storage,this.storageKey)),yield E(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Dd})}catch(s){if(b(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new ce;let{error:i}=yield E(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(n){if(b(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield E(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield E(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new at("You must provide either an email or phone number and a type")}catch(r){if(b(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=h(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<_o:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.storage.isServer){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:n},error:null}}let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return h(this,null,function*(){try{return n?yield E(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ie}):yield this._useSession(r=>h(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ce}:yield E(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ie})}))}catch(r){if(b(r))return ld(r)&&(yield this._removeSession(),yield Fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>h(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new ce;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield ut(this.storage,this.storageKey));let{data:d,error:p}=yield E(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Ie});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(b(i))return{data:{user:null},error:i};throw i}})}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new ce;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=xo(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(b(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new ce;let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(b(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!ge())throw new ct("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ct(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rn("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ct("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Rn("No code detected.");let{data:R,error:P}=yield this._exchangeCodeForSession(n.code);if(P)throw P;let q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:R.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new ct("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let g=f-d;g*1e3<=st&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=f-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:v,error:w}=yield this._getUser(s);if(w)throw w;let U={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:U,redirectType:n.type},error:null}}catch(o){if(b(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield Ln(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(cd(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield Fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=vd(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return h(this,arguments,function*(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield ut(this.storage,this.storageKey,!0));try{return yield E(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(b(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(b(r))return{data:null,error:r};throw r}})}linkIdentity(n){return h(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield E(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return ge()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(b(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield E(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(b(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield bd(i=>h(this,null,function*(){return i>0&&(yield _d(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield E(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ne})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&Io(s)&&Date.now()+a-o<st})}catch(o){if(this._debug(r,"error",o),b(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ge()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield Ln(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_o;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${_o}s`),i){if(this.autoRefreshToken&&o.refresh_token){let{error:s}=yield this._callRefreshToken(o.refresh_token);s&&(console.error(s),Io(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,o;if(!n)throw new ce;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new jn;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new ce;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),b(s)){let a={session:null,error:s};return Io(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return h(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Qs(this.storage,this.storageKey,n)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield Fn(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ge()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),st);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/st);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${st}ms, refresh threshold is ${wo} ticks`),i<=wo&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Vn)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ge()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return h(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield ut(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield E(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(b(r))return{data:null,error:r};throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:l,error:u}=yield E(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(n.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(b(r))return{data:null,error:r};throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield E(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(b(r))return{data:null,error:r};throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield E(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(b(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(n=>h(this,null,function*(){var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=xo(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return h(this,arguments,function*(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i||(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+ad>Date.now()))return i;let{data:s,error:a}=yield E(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Se("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(c=>c.kid===n),!i)throw new Se("No matching signing key found in JWKS");return i})}getClaims(o){return h(this,arguments,function*(n,r={keys:[]}){try{let i=n;if(!i){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return{data:null,error:v};i=m.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=xo(i);if(Ed(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:m}=yield this.getUser(i);if(m)throw m;return{data:{claims:a,header:s,signature:c},error:null}}let d=xd(s.alg),p=yield this.fetchJwk(s.kid,r),f=yield crypto.subtle.importKey("jwk",p,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,f,c,gd(`${l}.${u}`))))throw new Se("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(b(i))return{data:null,error:i};throw i}})}}return e.nextInstanceID=0,e})();var Ry=Zs,Xs=Ry;var Do=class extends Xs{constructor(t){super(t)}};var Py=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},To=class{constructor(t,n,r){var o,i,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let a=td(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:Yu,realtime:Xu,auth:Object.assign(Object.assign({},Zu),{storageKey:c}),global:Ku},u=nd(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=ed(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Lu(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new wn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Nn(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Py(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:c},l,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Do({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Mn(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var WT=(e,t,n)=>new To(e,t,n);var KT={production:!0,apiUrl:"https://kluvtnncsdxeewhjrvkk.supabase.co",publicAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtsdXZ0bm5jc2R4ZWV3aGpydmtrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQxNTU1MDksImV4cCI6MjA1OTczMTUwOX0.1n3vXFJfN9yK0--Ktlqjg0AgbbZOJN0Ttbr1vOQ3mkg"};export{H as a,qd as b,Ho as c,Bo as d,Oe as e,Yt as f,Zt as g,ke as h,ef as i,tf as j,nf as k,qe as l,xe as m,df as n,We as o,ur as p,hf as q,pf as r,Xt as s,ka as t,gf as u,en as v,qo as w,mf as x,yf as y,Pa as z,Wo as A,wf as B,_f as C,bf as D,If as E,Ef as F,xf as G,N as H,bc as I,ie as J,Sx as K,Nx as L,F as M,C as N,je as O,W as P,rn as Q,Tt as R,Ox as S,Ax as T,kx as U,dh as V,Hc as W,Le as X,Rx as Y,Dh as Z,Px as _,jx as $,bl as aa,At as ba,wp as ca,fr as da,Lx as ea,Fx as fa,Dp as ga,Vx as ha,$x as ia,Pp as ja,Ux as ka,Ei as la,Hx as ma,Is as na,Oi as oa,qx as pa,ye as qa,fm as ra,Em as sa,Gx as ta,ji as ua,Sm as va,fu as wa,Rm as xa,Hm as ya,Bm as za,zx as Aa,Qx as Ba,Jx as Ca,hu as Da,pu as Ea,ov as Fa,cv as Ga,Kx as Ha,Yx as Ia,dv as Ja,fv as Ka,Zx as La,hv as Ma,Xx as Na,eC as Oa,tC as Pa,yu as Qa,Iv as Ra,_u as Sa,nC as Ta,rC as Ua,oC as Va,iC as Wa,WT as Xa,KT as Ya};
